(self.webpackChunksala_de_juegos_mazzucchelli=self.webpackChunksala_de_juegos_mazzucchelli||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},3018:(e,t,n)=>{"use strict";n.d(t,{deG:()=>nn,tb:()=>fl,AFp:()=>ll,ip1:()=>ol,CZH:()=>al,hGG:()=>ou,z2F:()=>Ql,sBO:()=>ua,Sil:()=>Sl,_Vd:()=>Do,EJc:()=>ml,SBq:()=>Mo,qLn:()=>mr,vpe:()=>qa,gxx:()=>Yi,tBr:()=>Tn,XFs:()=>N,OlP:()=>tn,zs3:()=>ds,ZZ4:()=>na,aQg:()=>ia,soG:()=>gl,YKP:()=>_a,v3s:()=>Jl,h0i:()=>va,PXZ:()=>Hl,R0b:()=>Al,FiY:()=>En,Lbi:()=>dl,g9A:()=>hl,Qsj:()=>jo,FYo:()=>Vo,JOm:()=>_r,Tiy:()=>Zo,q3G:()=>cr,tp0:()=>Sn,EAV:()=>tu,Rgc:()=>pa,dDg:()=>Pl,DyG:()=>rn,q4F:()=>zo,GfV:()=>Bo,s_b:()=>ba,ifc:()=>M,eFA:()=>$l,G48:()=>Bl,Gpc:()=>g,X6Q:()=>Zl,_c5:()=>iu,VLi:()=>Ml,c2e:()=>pl,zSh:()=>Xi,wAp:()=>_o,vHH:()=>v,EiD:()=>lr,mCW:()=>Hn,qzn:()=>Pn,JVY:()=>Fn,pB0:()=>jn,eBb:()=>Un,L6k:()=>Mn,LAX:()=>Vn,cg1:()=>mo,Tjo:()=>ru,kL8:()=>yo,yhl:()=>Ln,dqk:()=>Z,sIi:()=>bs,CqO:()=>js,QGY:()=>Us,F4k:()=>Vs,RDi:()=>Ce,AaK:()=>d,z3N:()=>Dn,qOj:()=>ps,TTD:()=>we,_Bn:()=>Oo,xp6:()=>ni,uIk:()=>Cs,Tol:()=>Js,ekj:()=>Ys,Suo:()=>tl,Xpm:()=>X,lG2:()=>oe,Yz7:()=>T,cJS:()=>E,oAB:()=>re,Yjl:()=>ae,Y36:()=>ks,_UZ:()=>Ds,GkF:()=>Fs,BQk:()=>Ls,ynx:()=>Ps,qZA:()=>Rs,TgZ:()=>Ns,EpF:()=>Ms,n5z:()=>Qt,Ikx:()=>ho,LFG:()=>_n,$8M:()=>Jt,NdJ:()=>qs,CRH:()=>nl,oxw:()=>zs,Q6J:()=>xs,DdM:()=>Fa,VKq:()=>Ma,l5B:()=>Ua,iGM:()=>Xa,CHM:()=>Be,LSH:()=>hr,kYT:()=>ie,YNc:()=>As,_uU:()=>lo,Oqu:()=>uo,Gf:()=>el});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(2441),l=n(1307);function u(){return new r.xQ}function c(e){for(let t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=c({__forward_ref__:c});function g(e){return e.__forward_ref__=g,e.toString=function(){return d(this())},e}function m(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===g}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function w(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function b(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${w(e)} found${n}`)}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return I(e,A)||I(e,x)}function I(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(k)||e.hasOwnProperty(O))?e[k]:null}const A=c({"\u0275prov":c}),k=c({"\u0275inj":c}),x=c({ngInjectableDef:c}),O=c({ngInjectorDef:c});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let R;function D(e){const t=R;return R=e,t}function P(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==t?t:void b(d(e),"Injector")}function L(e){return{toString:e}.toString()}var F=(()=>((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F))(),M=(()=>((M=M||{})[M.Emulated=0]="Emulated",M[M.None=2]="None",M[M.ShadowDom=3]="ShadowDom",M))();const U="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,Z=U||q||V||j,B={},z=[],H=c({"\u0275cmp":c}),$=c({"\u0275dir":c}),G=c({"\u0275pipe":c}),W=c({"\u0275mod":c}),K=c({"\u0275loc":c}),Q=c({"\u0275fac":c}),Y=c({__NG_ELEMENT_ID__:c});let J=0;function X(e){return L(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||M.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=J++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function ee(e){return le(e)||function(e){return e[$]||null}(e)}function te(e){return function(e){return e[G]||null}(e)}const ne={};function re(e){return L(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function ie(e,t){return L(()=>{const n=ue(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function se(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=X;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function le(e){return e[H]||null}function ue(e,t){const n=e[W]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}const ce=20,he=10;function de(e){return Array.isArray(e)&&"object"==typeof e[1]}function fe(e){return Array.isArray(e)&&!0===e[1]}function pe(e){return 0!=(8&e.flags)}function ge(e){return 2==(2&e.flags)}function me(e){return 1==(1&e.flags)}function ye(e){return null!==e.template}function ve(e,t){return e.hasOwnProperty(Q)?e[Q]:null}class _e{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function we(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ee),Te}function Te(){const e=Se(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ee(e,t,n,r){const i=Se(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new _e(l&&l.currentValue,t,o===B),e[r]=t}function Se(e){return e.__ngSimpleChanges__||null}let Ie;function Ce(e){Ie=e}function Ae(e){return!!e.listen}we.ngInherit=!0;const ke={createRenderer:(e,t)=>void 0!==Ie?Ie:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Oe(e,t){return xe(t[e])}function Ne(e,t){return xe(t[e.index])}function Re(e,t){return e.data[t]}function De(e,t){const n=t[e];return de(n)?n:n[0]}function Pe(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Me(e){e[18]=0}function Ue(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ve={lFrame:lt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function je(){return Ve.bindingsEnabled}function qe(){return Ve.lFrame.lView}function Ze(){return Ve.lFrame.tView}function Be(e){return Ve.lFrame.contextLView=e,e[8]}function ze(){let e=He();for(;null!==e&&64===e.type;)e=e.parent;return e}function He(){return Ve.lFrame.currentTNode}function $e(e,t){const n=Ve.lFrame;n.currentTNode=e,n.isParent=t}function Ge(){return Ve.lFrame.isParent}function We(){Ve.lFrame.isParent=!1}function Ke(){return Ve.isInCheckNoChangesMode}function Qe(e){Ve.isInCheckNoChangesMode=e}function Ye(){const e=Ve.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Je(){return Ve.lFrame.bindingIndex++}function Xe(e){const t=Ve.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function et(e,t){const n=Ve.lFrame;n.bindingIndex=n.bindingRootIndex=e,tt(t)}function tt(e){Ve.lFrame.currentDirectiveIndex=e}function nt(){return Ve.lFrame.currentQueryIndex}function rt(e){Ve.lFrame.currentQueryIndex=e}function it(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function st(e,t,n){if(n&N.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&N.Host||(r=it(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ve.lFrame=at();return r.currentTNode=t,r.lView=e,!0}function ot(e){const t=at(),n=e[1];Ve.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function at(){const e=Ve.lFrame,t=null===e?null:e.child;return null===t?lt(e):t}function lt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ut(){const e=Ve.lFrame;return Ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ct=ut;function ht(){const e=ut();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dt(){return Ve.lFrame.selectedIndex}function ft(e){Ve.lFrame.selectedIndex=e}function pt(){const e=Ve.lFrame;return Re(e.tView,e.selectedIndex)}function gt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function mt(e,t,n){_t(e,t,3,n)}function yt(e,t,n,r){(3&e[2])===n&&_t(e,t,n,r)}function vt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _t(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(wt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function wt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const bt=-1;class Tt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Et(e,t,n){const r=Ae(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];It(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function St(e){return 3===e||4===e||6===e}function It(e){return 64===e.charCodeAt(0)}function Ct(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||At(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function At(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function kt(e){return e!==bt}function xt(e){return 32767&e}function Ot(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Nt=!0;function Rt(e){const t=Nt;return Nt=e,t}let Dt=0;function Pt(e,t){const n=Ft(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Lt(r.data,e),Lt(t,null),Lt(r.blueprint,null));const i=Mt(e,t),s=e.injectorIndex;if(kt(i)){const e=xt(i),n=Ot(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Lt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ft(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return bt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return bt}function Ut(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Dt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Vt(e,t,n){if(n&N.Optional)return e;b(t,"NodeInjector")}function jt(e,t,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=e[9],s=D(void 0);try{return i?i.get(t,r,n&N.Optional):P(t,r,n&N.Optional)}finally{D(s)}}return Vt(r,t,n)}function qt(e,t,n,r=N.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:Bt:t}(n);if("function"==typeof s){if(!st(t,e,r))return r&N.Host?Vt(i,n,r):jt(t,n,r,i);try{const e=s(r);if(null!=e||r&N.Optional)return e;b(n)}finally{ct()}}else if("number"==typeof s){let i=null,o=Ft(e,t),a=bt,l=r&N.Host?t[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Mt(e,t):t[o+8],a!==bt&&Wt(r,!1)?(i=t[1],o=xt(a),t=Ot(a,t)):o=-1);-1!==o;){const e=t[1];if(Gt(s,o,e.data)){const e=zt(o,t,n,i,r,l);if(e!==Zt)return e}a=t[o+8],a!==bt&&Wt(r,t[1].data[o+8]===l)&&Gt(s,o,t)?(i=e,o=xt(a),t=Ot(a,t)):o=-1}}}return jt(t,n,r,i)}const Zt={};function Bt(){return new Kt(ze(),qe())}function zt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=Ht(a,o,n,null==r?ge(a)&&Nt:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==l?$t(t,o,l,a):Zt}function Ht(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,u=s>>20,c=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<c;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&ye(e)&&e.type===n)return l}return null}function $t(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof Tt){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(w(s[n]));const a=Rt(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?D(o.injectImpl):null;st(e,r,N.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&D(l),Rt(a),o.resolving=!1,ct()}}return i}function Gt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Wt(e,t){return!(e&N.Self||e&N.Host&&t)}class Kt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return qt(this._tNode,this._lView,e,void 0,t)}}function Qt(e){return L(()=>{const t=e.prototype.constructor,n=t[Q]||Yt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Q]||Yt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Yt(e){return y(e)?()=>{const t=Yt(m(e));return t&&t()}:ve(e)}function Jt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(St(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(ze(),e)}const Xt="__parameters__";function en(e,t,n){return L(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(Xt)?e[Xt]:Object.defineProperty(e,Xt,{value:[]})[Xt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class tn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=T({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new tn("AnalyzeForEntryComponents"),rn=Function;function sn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),sn(r,t)):t!==e&&t.push(r)}return t}function on(e,t){e.forEach(e=>Array.isArray(e)?on(e,t):t(e))}function an(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ln(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function un(e,t,n){let r=hn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function cn(e,t){const n=hn(e,t);if(n>=0)return e[1|n]}function hn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const dn={},fn=/\n/gm,pn="__source",gn=c({provide:String,useValue:c});let mn;function yn(e){const t=mn;return mn=e,t}function vn(e,t=N.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?P(e,void 0,t):mn.get(e,t&N.Optional?null:void 0,t)}function _n(e,t=N.Default){return(R||vn)(m(e),t)}function wn(e){const t=[];for(let n=0;n<e.length;n++){const r=m(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=N.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(_n(e,n))}else t.push(_n(r))}return t}function bn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Tn=bn(en("Inject",e=>({token:e})),-1),En=bn(en("Optional"),8),Sn=bn(en("SkipSelf"),4);let In;function Cn(e){var t;return(null===(t=function(){if(void 0===In&&(In=null,Z.trustedTypes))try{In=Z.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return In}())||void 0===t?void 0:t.createHTML(e))||e}class An{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kn extends An{getTypeName(){return"HTML"}}class xn extends An{getTypeName(){return"Style"}}class On extends An{getTypeName(){return"Script"}}class Nn extends An{getTypeName(){return"URL"}}class Rn extends An{getTypeName(){return"ResourceURL"}}function Dn(e){return e instanceof An?e.changingThisBreaksApplicationSecurity:e}function Pn(e,t){const n=Ln(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Ln(e){return e instanceof An&&e.getTypeName()||null}function Fn(e){return new kn(e)}function Mn(e){return new xn(e)}function Un(e){return new On(e)}function Vn(e){return new Nn(e)}function jn(e){return new Rn(e)}class qn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Cn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Zn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Cn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Cn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Bn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Hn(e){return(e=String(e)).match(Bn)||e.match(zn)?e:"unsafe:"+e}function $n(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Gn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Wn=$n("area,br,col,hr,img,wbr"),Kn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qn=$n("rp,rt"),Yn=Gn(Qn,Kn),Jn=Gn(Wn,Gn(Kn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Qn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Xn=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=$n("srcset"),tr=Gn(Xn,er,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nr=$n("script,style,template");class rr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Jn.hasOwnProperty(t))return this.sanitizedSomething=!0,!nr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!tr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;Xn[s]&&(o=Hn(o)),er[s]&&(r=o,o=(r=String(r)).split(",").map(e=>Hn(e.trim())).join(", ")),this.buf.push(" ",t,'="',or(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Jn.hasOwnProperty(t)&&!Wn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(or(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sr=/([^\#-~ |!])/g;function or(e){return e.replace(/&/g,"&amp;").replace(ir,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(sr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ar;function lr(e,t){let n=null;try{ar=ar||function(e){const t=new Zn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Cn(""),"text/html")}catch(e){return!1}}()?new qn(t):t}(e);let r=t?String(t):"";n=ar.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ar.getInertBodyElement(r)}while(r!==s);return Cn((new rr).sanitizeChildren(ur(n)||n))}finally{if(n){const e=ur(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ur(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var cr=(()=>((cr=cr||{})[cr.NONE=0]="NONE",cr[cr.HTML=1]="HTML",cr[cr.STYLE=2]="STYLE",cr[cr.SCRIPT=3]="SCRIPT",cr[cr.URL=4]="URL",cr[cr.RESOURCE_URL=5]="RESOURCE_URL",cr))();function hr(e){const t=function(){const e=qe();return e&&e[12]}();return t?t.sanitize(cr.URL,e)||"":Pn(e,"URL")?Dn(e):Hn(_(e))}function dr(e,t){e.__ngContext__=t}function fr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function pr(e){return e.ngOriginalError}function gr(e,...t){e.error(...t)}class mr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||gr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(pr(e)):null}_findOriginalError(e){let t=e&&pr(e);for(;t&&pr(t);)t=pr(t);return t||null}}const yr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Z))();function vr(e){return e instanceof Function?e():e}var _r=(()=>((_r=_r||{})[_r.Important=1]="Important",_r[_r.DashCase=2]="DashCase",_r))();function wr(e,t){return(void 0)(e,t)}function br(e){const t=e[3];return fe(t)?t[3]:t}function Tr(e){return Sr(e[13])}function Er(e){return Sr(e[4])}function Sr(e){for(;null!==e&&!fe(e);)e=e[4];return e}function Ir(e,t,n,r,i){if(null!=r){let s,o=!1;fe(r)?s=r:de(r)&&(o=!0,r=r[0]);const a=xe(r);0===e&&null!==n?null==i?Rr(t,n,a):Nr(t,n,a,i||null,!0):1===e&&null!==n?Nr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Pr(e,t);r&&function(e,t,n,r){Ae(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==xe(n)&&Ir(t,e,r,s,i);for(let o=he;o<n.length;o++){const i=n[o];jr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Cr(e,t,n){return Ae(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ar(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ue(i,-1)),n.splice(r,1)}function kr(e,t){if(e.length<=he)return;const n=he+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Ar(s,r),t>0&&(e[n-1][4]=r[4]);const o=ln(e,he+t);jr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function xr(e,t){if(!(256&t[2])){const n=t[11];Ae(n)&&n.destroyNode&&jr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Or(e[1],e);for(;t;){let n=null;if(de(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)de(t)&&Or(t[1],t),t=t[3];null===t&&(t=e),de(t)&&Or(t[1],t),n=t&&t[4]}t=n}}(t)}}function Or(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof Tt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):xe(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ae(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&fe(t[3])){n!==t[3]&&Ar(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Nr(e,t,n,r,i){Ae(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Rr(e,t,n){Ae(e)?e.appendChild(t,n):t.appendChild(n)}function Dr(e,t,n,r,i){null!==r?Nr(e,t,n,r,i):Rr(e,t,n)}function Pr(e,t){return Ae(e)?e.parentNode(t):t.parentNode}function Lr(e,t,n,r){const i=function(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===M.None||t===M.Emulated)return null}return Ne(r,n)}(e,t.parent,n)}(e,r,t),s=t[11],o=function(e,t,n){return function(e,t,n){return 40&e.type?Ne(e,n):null}(e,0,n)}(r.parent||t[6],0,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(s,i,n[a],o,!1);else Dr(s,i,n,o,!1)}function Fr(e,t){if(null!==t){const n=t.type;if(3&n)return Ne(t,e);if(4&n)return Ur(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Fr(e,n);{const n=e[t.index];return fe(n)?Ur(-1,n):xe(n)}}if(32&n)return wr(t,e)()||xe(e[t.index]);{const n=Mr(e,t);return null!==n?Array.isArray(n)?n[0]:Fr(br(e[16]),n):Fr(e,t.next)}}return null}function Mr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ur(e,t){const n=he+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Fr(e,r)}return t[7]}function Vr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&dr(xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Vr(e,t,n.child,r,i,s,!1),Ir(t,e,i,a,s);else if(32&l){const o=wr(n,r);let l;for(;l=o();)Ir(t,e,i,l,s);Ir(t,e,i,a,s)}else 16&l?qr(e,t,r,n,i,s):Ir(t,e,i,a,s);n=o?n.projectionNext:n.next}}function jr(e,t,n,r,i,s){Vr(n,r,e.firstChild,t,i,s,!1)}function qr(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Ir(t,e,i,a[l],s);else Vr(e,t,a,o[3],i,s,!0)}function Zr(e,t,n){Ae(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Br(e,t,n){Ae(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function zr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Hr="ng-template";function $r(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==zr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Gr(e){return 4===e.type&&e.value!==Hr}function Wr(e,t,n){return t===(4!==e.type||n?e.value:Hr)}function Kr(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(St(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Wr(e,l,n)||""===l&&1===t.length){if(Qr(r))return!1;o=!0}}else{const u=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!$r(e.attrs,u,n)){if(Qr(r))return!1;o=!0}continue}const c=Yr(8&r?"class":l,i,Gr(e),n);if(-1===c){if(Qr(r))return!1;o=!0;continue}if(""!==u){let e;e=c>s?"":i[c+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==zr(t,u,0)||2&r&&u!==e){if(Qr(r))return!1;o=!0}}}}else{if(!o&&!Qr(r)&&!Qr(l))return!1;if(o&&Qr(l))continue;o=!1,r=l|1&r}}return Qr(r)||o}function Qr(e){return 0==(1&e)}function Yr(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Jr(e,t,n=!1){for(let r=0;r<t.length;r++)if(Kr(e,t[r],n))return!0;return!1}function Xr(e,t){return e?":not("+t.trim()+")":t}function ei(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Qr(o)||(t+=Xr(s,i),i=""),r=o,s=s||!Qr(r);n++}return""!==i&&(t+=Xr(s,i)),t}const ti={};function ni(e){ri(Ze(),qe(),dt()+e,Ke())}function ri(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&mt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&yt(t,r,0,n)}ft(n)}function ii(e,t){return e<<17|t<<2}function si(e){return e>>17&32767}function oi(e){return 2|e}function ai(e){return(131068&e)>>2}function li(e,t){return-131069&e|t<<2}function ui(e){return 1|e}function ci(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];rt(i),n.contentQueries(2,t[s],s)}}}function hi(e,t,n,r,i,s,o,a,l,u){const c=t.blueprint.slice();return c[0]=i,c[2]=140|r,Me(c),c[3]=c[15]=e,c[8]=n,c[10]=o||e&&e[10],c[11]=a||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=s,c[16]=2==t.type?e[16]:c,c}function di(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=He(),o=Ge(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ve.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ve.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return $e(s,!0),s}function fi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function pi(e,t,n){ot(t);try{const r=e.viewQuery;null!==r&&zi(1,r,n);const i=e.template;null!==i&&yi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&ci(e,t),e.staticViewQueries&&zi(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)Vi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ht()}}function gi(e,t,n,r){const i=t[2];if(256==(256&i))return;ot(t);const s=Ke();try{Me(t),Ve.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&yi(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&mt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&yt(t,n,0,null),vt(t,0)}if(function(e){for(let t=Tr(e);null!==t;t=Er(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ue(r,1),n[2]|=1024}}}(t),function(e){for(let t=Tr(e);null!==t;t=Er(t))for(let e=he;e<t.length;e++){const n=t[e],r=n[1];Le(n)&&gi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&ci(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&mt(t,n)}else{const n=e.contentHooks;null!==n&&yt(t,n,1),vt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)ft(~r);else{const i=r,s=n[++e],o=n[++e];et(s,i),o(2,t[i])}}}finally{ft(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Mi(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&zi(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&mt(t,n)}else{const n=e.viewHooks;null!==n&&yt(t,n,2),vt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ue(t[3],-1))}finally{ht()}}function mi(e,t,n,r){const i=t[10],s=!Ke(),o=Pe(t);try{s&&!o&&i.begin&&i.begin(),o&&pi(e,t,r),gi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function yi(e,t,n,r,i){const s=dt(),o=2&r;try{ft(-1),o&&t.length>ce&&ri(e,t,ce,Ke()),n(r,i)}finally{ft(s)}}function vi(e,t,n){if(pe(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function _i(e,t,n){je()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Pt(n,t),dr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=ye(r);s&&Di(t,n,r);const l=$t(t,e,a,n);dr(l,t),null!==o&&Pi(0,a-i,l,r,0,o),s&&(De(n.index,t)[8]=l)}}(e,t,n,Ne(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ve.lFrame.currentDirectiveIndex;try{ft(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];tt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ki(r,i)}}finally{ft(-1),tt(o)}}(e,t,n))}function wi(e,t,n=Ne){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function bi(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ti(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ti(e,t,n,r,i,s,o,a,l,u){const c=ce+r,h=c+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ti);return n}(c,h),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Ei(e,t,n,r){const i=$i(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Gi(e).push(r,i.length-1))}function Si(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ii(e,t,n,r,i,s,o,a){const l=Ne(t,n);let u,c=t.inputs;var h;!a&&null!=c&&(u=c[r])?(Ki(e,n,u,r,i),ge(t)&&function(e,t){const n=De(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Ae(s)?s.setProperty(l,r,i):It(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ci(e,t,n,r){let i=!1;if(je()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Jr(n,o.selectors,!1)&&(i||(i=[]),Ut(Pt(n,t),e,o.type),ye(o)?(xi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Ni(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=fi(e,t,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ct(n.mergedAttrs,u.hostAttrs),Ri(e,n,t,l,u),Oi(l,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,u=null===i||Gr(t)?null:Li(n,i);s.push(u),o=Si(n,l,o),a=Si(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Ct(n.mergedAttrs,n.attrs),i}function Ai(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function ki(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function xi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Oi(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ye(t)&&(n[""]=e)}}function Ni(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ri(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ve(i.type)),o=new Tt(s,ye(i),null);e.blueprint[r]=o,n[r]=o,Ai(e,t,0,r,fi(e,n,i.hostVars,ti),i)}function Di(e,t,n){const r=Ne(t,e),i=bi(n),s=e[10],o=ji(e,hi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Pi(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function Li(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Fi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Mi(e,t){const n=De(t,e);if(Le(n)){const e=n[1];80&n[2]?gi(e,n,e.template,n[8]):n[5]>0&&Ui(n)}}function Ui(e){for(let n=Tr(e);null!==n;n=Er(n))for(let e=he;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];gi(e,t,e.template,t[8])}else t[5]>0&&Ui(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=De(t[n],e);Le(r)&&r[5]>0&&Ui(r)}}function Vi(e,t){const n=De(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),pi(r,n,n[8])}function ji(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function qi(e){for(;e;){e[2]|=64;const t=br(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Zi(e,t,n){const r=t[10];r.begin&&r.begin();try{gi(e,t,e.template,n)}catch(i){throw Wi(t,i),i}finally{r.end&&r.end()}}function Bi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=fr(n),i=r[1];mi(i,r,i.template,n)}}(e[8])}function zi(e,t,n){rt(0),t(e,n)}const Hi=(()=>Promise.resolve(null))();function $i(e){return e[7]||(e[7]=[])}function Gi(e){return e.cleanup||(e.cleanup=[])}function Wi(e,t){const n=e[9],r=n?n.get(mr,null):null;r&&r.handleError(t)}function Ki(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],u=e.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Qi(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Yi=new tn("INJECTOR",-1);class Ji{get(e,t=dn){if(t===dn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const Xi=new tn("Set Injector scope."),es={},ts={};let ns;function rs(){return void 0===ns&&(ns=new Ji),ns}function is(e,t=null,n=null,r){return new ss(e,n,t||rs(),r)}class ss{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&on(t,n=>this.processProvider(n,e,t)),on([e],e=>this.processInjectorType(e,[],i)),this.records.set(Yi,ls(void 0,this));const s=this.records.get(Xi);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=dn,n=N.Default){this.assertNotDestroyed();const r=yn(this),i=D(void 0);try{if(!(n&N.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof tn)&&S(e);t=n&&this.injectableDefInScope(n)?ls(os(e),es):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&N.Self?rs():this.parent).get(e,t=n&N.Optional&&t===dn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[pn]&&i.unshift(t[pn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{D(i),yn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=m(e)))return!1;let r=C(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{on(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];on(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(s);const a=ve(s)||(()=>new s);this.records.set(s,ls(a,es));const l=r.providers;if(null!=l&&!o){const t=e;on(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=cs(e=m(e))?e:m(e&&e.provide);const i=function(e,t,n){return us(e)?ls(void 0,e.useValue):ls(as(e),es)}(e);if(cs(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=ls(void 0,es,!0),t.factory=()=>wn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===es&&(t.value=ts,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=m(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function os(e){const t=S(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof tn)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=function(e,t){const n=[];for(let r=0;r<e;r++)n.push("?");return n}(t);throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[A]||e[x]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function as(e,t,n){let r;if(cs(e)){const t=m(e);return ve(t)||os(t)}if(us(e))r=()=>m(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...wn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>_n(m(e.useExisting));else{const t=m(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(t)||os(t);r=()=>new t(...wn(e.deps))}var i;return r}function ls(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function us(e){return null!==e&&"object"==typeof e&&gn in e}function cs(e){return"function"==typeof e}const hs=function(e,t,n){return function(e,t=null,n=null,r){const i=is(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class ds{static create(e,t){return Array.isArray(e)?hs(e,t,""):hs(e.providers,e.parent,e.name||"")}}function fs(e,t){gt(fr(e)[1],ze())}function ps(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i;if(ye(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=gs(e.inputs),t.declaredInputs=gs(e.declaredInputs),t.outputs=gs(e.outputs);const n=i.hostBindings;n&&vs(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ms(e,s),o&&ys(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),ye(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===ps&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ct(i.hostAttrs,n=Ct(n,i.hostAttrs))}}(r)}function gs(e){return e===B?{}:e===z?[]:e}function ms(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function ys(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function vs(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}ds.THROW_IF_NOT_FOUND=dn,ds.NULL=new Ji,ds.\u0275prov=T({token:ds,providedIn:"any",factory:()=>_n(Yi)}),ds.__NG_ELEMENT_ID__=-1;let _s=null;function ws(){if(!_s){const e=Z.Symbol;if(e&&e.iterator)_s=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_s=n)}}}return _s}function bs(e){return!!Ts(e)&&(Array.isArray(e)||!(e instanceof Map)&&ws()in e)}function Ts(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Es(e,t,n){return e[t]=n}function Ss(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Is(e,t,n,r){const i=Ss(e,t,n);return Ss(e,t+1,r)||i}function Cs(e,t,n,r){const i=qe();return Ss(i,Je(),t)&&(Ze(),function(e,t,n,r,i,s){const o=Ne(e,t);!function(e,t,n,r,i,s,o){if(null==s)Ae(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);Ae(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}(pt(),i,e,t,n,r)),Cs}function As(e,t,n,r,i,s,o,a){const l=qe(),u=Ze(),c=e+ce,h=u.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const u=t.consts,c=di(t,e,4,o||null,Fe(u,a));Ci(t,n,c,Fe(u,l)),gt(t,c);const h=c.tViews=Ti(2,c,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(c,u,l,t,n,r,i,s,o):u.data[c];$e(h,!1);const d=l[11].createComment("");Lr(u,l,d,h),dr(d,l),ji(l,l[c]=Fi(d,l,d,h)),me(h)&&_i(u,l,h),null!=o&&wi(l,h,a)}function ks(e,t=N.Default){const n=qe();return null===n?_n(e,t):qt(ze(),n,m(e),t)}function xs(e,t,n){const r=qe();return Ss(r,Je(),t)&&Ii(Ze(),pt(),r,e,t,r[11],n,!1),xs}function Os(e,t,n,r,i){const s=i?"class":"style";Ki(e,n,t.inputs[s],s,r)}function Ns(e,t,n,r){const i=qe(),s=Ze(),o=ce+e,a=i[11],l=i[o]=Cr(a,t,Ve.lFrame.currentNamespace),u=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=di(t,e,2,i,Fe(a,s));return Ci(t,n,l,Fe(a,o)),null!==l.attrs&&Qi(l,l.attrs,!1),null!==l.mergedAttrs&&Qi(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];$e(u,!0);const c=u.mergedAttrs;null!==c&&Et(a,l,c);const h=u.classes;null!==h&&Br(a,l,h);const d=u.styles;null!==d&&Zr(a,l,d),64!=(64&u.flags)&&Lr(s,i,l,u),0===Ve.lFrame.elementDepthCount&&dr(l,i),Ve.lFrame.elementDepthCount++,me(u)&&(_i(s,i,u),vi(s,u,i)),null!==r&&wi(i,u)}function Rs(){let e=ze();Ge()?We():(e=e.parent,$e(e,!1));const t=e;Ve.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(gt(n,e),pe(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Os(n,t,qe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Os(n,t,qe(),t.stylesWithoutHost,!1)}function Ds(e,t,n,r){Ns(e,t,n,r),Rs()}function Ps(e,t,n){const r=qe(),i=Ze(),s=e+ce,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Fe(s,r),a=di(t,e,8,"ng-container",o);return null!==o&&Qi(a,o,!0),Ci(t,n,a,Fe(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];$e(o,!0);const a=r[s]=r[11].createComment("");Lr(i,r,a,o),dr(a,r),me(o)&&(_i(i,r,o),vi(i,o,r)),null!=n&&wi(r,o)}function Ls(){let e=ze();const t=Ze();Ge()?We():(e=e.parent,$e(e,!1)),t.firstCreatePass&&(gt(t,e),pe(e)&&t.queries.elementEnd(e))}function Fs(e,t,n){Ps(e,t,n),Ls()}function Ms(){return qe()}function Us(e){return!!e&&"function"==typeof e.then}function Vs(e){return!!e&&"function"==typeof e.subscribe}const js=Vs;function qs(e,t,n,r){const i=qe(),s=Ze(),o=ze();return function(e,t,n,r,i,s,o,a){const l=me(r),u=e.firstCreatePass&&Gi(e),c=$i(t);let h=!0;if(3&r.type||a){const d=Ne(r,t),f=a?a(d):d,p=c.length,g=a?e=>a(xe(e[r.index])):r.index;if(Ae(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Bs(r,t,0,s,!1);const e=n.listen(f,i,s);c.push(s,e),u&&u.push(i,g,p,p+1)}}else s=Bs(r,t,0,s,!0),f.addEventListener(i,s,o),c.push(s),u&&u.push(i,g,p,o)}else s=Bs(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=c.length;c.push(s,e),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,e,t,!!n,r),qs}function Zs(e,t,n,r){try{return!1!==n(r)}catch(i){return Wi(e,i),!1}}function Bs(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?De(e.index,t):t;0==(32&t[2])&&qi(o);let a=Zs(t,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Zs(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function zs(e=1){return function(e){return(Ve.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ve.lFrame.contextLView))[8]}(e)}function Hs(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?si(s):ai(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];$s(e[a],t)&&(l=!0,e[a+1]=r?ui(n):oi(n)),a=r?si(n):ai(n)}l&&(e[n+1]=r?oi(s):ui(s))}function $s(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&hn(e,t)>=0}const Gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ws(e){return e.substring(Gs.key,Gs.keyEnd)}function Ks(e,t){const n=Gs.textEnd;return n===t?-1:(t=Gs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Gs.key=t,n),Qs(e,t,n))}function Qs(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ys(e,t){return function(e,t,n,r){const i=qe(),s=Ze(),o=Xe(2);s.firstUpdatePass&&to(s,e,o,true),t!==ti&&Ss(i,o,t)&&io(s,s.data[dt()],i,i[11],e,i[o+1]=function(e,t){return null==e||"object"==typeof e&&(e=d(Dn(e))),e}(t),true,o)}(e,t),Ys}function Js(e){!function(e,t,n,r){const i=Ze(),s=Xe(2);i.firstUpdatePass&&to(i,null,s,r);const o=qe();if(n!==ti&&Ss(o,s,n)){const a=i.data[dt()];if(ao(a,r)&&!eo(i,s)){let e=a.classesWithoutHost;null!==e&&(n=f(e,n||"")),Os(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===ti&&(i=z);let l=0,u=0,c=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==c||null!==h;){const o=l<i.length?i[l+1]:void 0,d=u<s.length?s[u+1]:void 0;let f,p=null;c===h?(l+=2,u+=2,o!==d&&(p=h,f=d)):null===h||null!==c&&c<h?(l+=2,p=c):(u+=2,p=h,f=d),null!==p&&io(e,t,n,r,p,f,true,a),c=l<i.length?i[l]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return z;const r=[],i=Dn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,s)}}(un,Xs,e,!0)}function Xs(e,t){for(let n=function(e){return function(e){Gs.key=0,Gs.keyEnd=0,Gs.value=0,Gs.valueEnd=0,Gs.textEnd=e.length}(e),Ks(e,Qs(e,0,Gs.textEnd))}(t);n>=0;n=Ks(t,n))un(e,Ws(t),!0)}function eo(e,t){return t>=e.expandoStartIndex}function to(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[dt()],o=eo(e,n);ao(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Ve.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=ro(n=no(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=no(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ai(r))return e[si(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=no(null,e,t,n[1],r),n=ro(n,t.attrs,r),function(e,t,n,r){e[si(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=ro(r,e[s].hostAttrs,n);return ro(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=si(o),l=ai(o);e[r]=n;let u,c=!1;if(Array.isArray(n)){const e=n;u=e[1],(null===u||hn(e,u)>0)&&(c=!0)}else u=n;if(i)if(0!==l){const t=si(e[a+1]);e[r+1]=ii(t,a),0!==t&&(e[t+1]=li(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ii(a,0),0!==a&&(e[a+1]=li(e[a+1],r)),a=r;else e[r+1]=ii(l,0),0===a?a=r:e[l+1]=li(e[l+1],r),l=r;c&&(e[r+1]=oi(e[r+1])),Hs(e,u,r,!0),Hs(e,u,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&hn(s,t)>=0&&(n[r+1]=ui(n[r+1]))}(t,u,e,r,s),o=ii(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function no(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=ro(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function ro(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),un(e,o,!!n||t[++s]))}return void 0===e?null:e}function io(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,u=l[a+1];oo(1==(1&u)?so(l,t,n,i,ai(u),o):void 0)||(oo(s)||2==(2&u)&&(s=so(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Ae(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=_r.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Oe(dt(),n),i,s))}function so(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,u=null===l;let c=n[i+1];c===ti&&(c=u?z:void 0);let h=u?cn(c,r):l===r?c:void 0;if(s&&!oo(h)&&(h=cn(t,r)),oo(h)&&(a=h,o))return a;const d=e[i+1];i=o?si(d):ai(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=cn(e,r))}return a}function oo(e){return void 0!==e}function ao(e,t){return 0!=(e.flags&(t?16:32))}function lo(e,t=""){const n=qe(),r=Ze(),i=e+ce,s=r.firstCreatePass?di(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Ae(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Lr(r,n,o,s),$e(s,!1)}function uo(e){return co("",e,""),uo}function co(e,t,n){const r=qe(),i=function(e,t,n,r){return Ss(e,Je(),n)?t+_(n)+r:ti}(r,e,t,n);return i!==ti&&function(e,t,n){const r=Oe(t,e);!function(e,t,n){Ae(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,dt(),i),co}function ho(e,t,n){const r=qe();return Ss(r,Je(),t)&&Ii(Ze(),pt(),r,e,t,r[11],n,!0),ho}const fo=void 0;var po=["en",[["a","p"],["AM","PM"],fo],[["AM","PM"],fo,fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fo,"{1} 'at' {0}",fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let go={};function mo(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=vo(t);if(n)return n;const r=t.split("-")[0];if(n=vo(r),n)return n;if("en"===r)return po;throw new Error(`Missing locale data for the locale "${e}".`)}function yo(e){return mo(e)[_o.PluralCase]}function vo(e){return e in go||(go[e]=Z.ng&&Z.ng.common&&Z.ng.common.locales&&Z.ng.common.locales[e]),go[e]}var _o=(()=>((_o=_o||{})[_o.LocaleId=0]="LocaleId",_o[_o.DayPeriodsFormat=1]="DayPeriodsFormat",_o[_o.DayPeriodsStandalone=2]="DayPeriodsStandalone",_o[_o.DaysFormat=3]="DaysFormat",_o[_o.DaysStandalone=4]="DaysStandalone",_o[_o.MonthsFormat=5]="MonthsFormat",_o[_o.MonthsStandalone=6]="MonthsStandalone",_o[_o.Eras=7]="Eras",_o[_o.FirstDayOfWeek=8]="FirstDayOfWeek",_o[_o.WeekendRange=9]="WeekendRange",_o[_o.DateFormat=10]="DateFormat",_o[_o.TimeFormat=11]="TimeFormat",_o[_o.DateTimeFormat=12]="DateTimeFormat",_o[_o.NumberSymbols=13]="NumberSymbols",_o[_o.NumberFormats=14]="NumberFormats",_o[_o.CurrencyCode=15]="CurrencyCode",_o[_o.CurrencySymbol=16]="CurrencySymbol",_o[_o.CurrencyName=17]="CurrencyName",_o[_o.Currencies=18]="Currencies",_o[_o.Directionality=19]="Directionality",_o[_o.PluralCase=20]="PluralCase",_o[_o.ExtraData=21]="ExtraData",_o))();const wo="en-US";let bo=wo;function To(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(bo=e.toLowerCase().replace(/_/g,"-"))}function Eo(e,t,n,r,i){if(e=m(e),Array.isArray(e))for(let s=0;s<e.length;s++)Eo(e[s],t,n,r,i);else{const s=Ze(),o=qe();let a=cs(e)?e:m(e.provide),l=as(e);const u=ze(),c=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(cs(e)||!e.multi){const r=new Tt(l,i,ks),f=Co(a,t,i?c:c+d,h);-1===f?(Ut(Pt(u,o),s,a),So(s,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Co(a,t,c+d,h),p=Co(a,t,c,c+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ut(Pt(u,o),s,a);const c=function(e,t,n,r,i){const s=new Tt(e,n,ks);return s.multi=[],s.index=t,s.componentProviders=0,Io(s,i,r&&!n),s}(i?ko:Ao,n.length,i,r,l);!i&&m&&(n[p].providerFactory=c),So(s,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(c),o.push(c)}else So(s,e,f>-1?f:p,Io(n[i?p:f],l,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function So(e,t,n,r){const i=cs(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Io(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Co(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Ao(e,t,n,r){return xo(this.multi,[])}function ko(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=$t(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),xo(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],xo(i,s);return s}function xo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Oo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Ze();if(r.firstCreatePass){const i=ye(e);Eo(n,r.data,r.blueprint,i,!0),Eo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class No{}class Ro{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class Do{}function Po(...e){}function Lo(e,t){return new Mo(Ne(e,t))}Do.NULL=new Ro;const Fo=function(){return Lo(ze(),qe())};let Mo=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Fo,e})();function Uo(e){return e instanceof Mo?e.nativeElement:e}class Vo{}let jo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>qo(),e})();const qo=function(){const e=qe(),t=De(ze().index,e);return function(e){return e[11]}(de(t)?t:e)};let Zo=(()=>{class e{}return e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null}),e})();class Bo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zo=new Bo("12.1.5");class Ho{constructor(){}supports(e){return bs(e)}create(e){return new Go(e)}}const $o=(e,t)=>t;class Go{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||$o}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Yo(n,r,i)?t:n,o=Yo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!bs(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ws()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Wo(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qo),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Wo{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ko{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Qo{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ko,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yo(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Jo{constructor(){}supports(e){return e instanceof Map||Ts(e)}create(){return new Xo}}class Xo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ts(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ea(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ea{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ta(){return new na([new Ho])}let na=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ta()),deps:[[e,new Sn,new En]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=T({token:e,providedIn:"root",factory:ta}),e})();function ra(){return new ia([new Jo])}let ia=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ra()),deps:[[e,new Sn,new En]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=T({token:e,providedIn:"root",factory:ra}),e})();function sa(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(xe(s)),fe(s))for(let e=he;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&sa(t[1],t,n,r)}const o=n.type;if(8&o)sa(e,t,n.child,r);else if(32&o){const e=wr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Mr(t,n);if(Array.isArray(e))r.push(...e);else{const n=br(t[16]);sa(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class oa{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return sa(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(fe(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(kr(e,n),ln(t,n))}this._attachedToViewContainer=!1}xr(this._lView[1],this._lView)}onDestroy(e){Ei(this._lView[1],this._lView,null,e)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Zi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{Zi(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,jr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class aa extends oa{constructor(e){super(e),this._view=e}detectChanges(){Bi(this._view)}checkNoChanges(){!function(e){Qe(!0);try{Bi(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const la=function(e){return function(e,t,n){if(ge(e)&&!n){const n=De(e.index,t);return new oa(n,n)}return 47&e.type?new oa(t[16],t):null}(ze(),qe(),16==(16&e))};let ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=la,e})();const ca=[new Jo],ha=new na([new Ho]),da=new ia(ca),fa=function(){return ya(ze(),qe())};let pa=(()=>{class e{}return e.__NG_ELEMENT_ID__=fa,e})();const ga=pa,ma=class extends ga{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=hi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),pi(t,n,e),new oa(n)}};function ya(e,t){return 4&e.type?new ma(t,e,Lo(e,t)):null}class va{}class _a{}const wa=function(){return Ca(ze(),qe())};let ba=(()=>{class e{}return e.__NG_ELEMENT_ID__=wa,e})();const Ta=ba,Ea=class extends Ta{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Lo(this._hostTNode,this._hostLView)}get injector(){return new Kt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Mt(this._hostTNode,this._hostLView);if(kt(e)){const t=Ot(e,this._hostLView),n=xt(e);return new Kt(t[1].data[n+8],t)}return new Kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Sa(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-he}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(va,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(fe(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Ea(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=he+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-he?(t[4]=n[i],an(n,he+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Ur(i,s),a=n[11],l=Pr(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,jr(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),an(Ia(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Sa(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=kr(this._lContainer,t);n&&(ln(Ia(this._lContainer),t),xr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=kr(this._lContainer,t);return n&&null!=ln(Ia(this._lContainer),t)?new oa(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Sa(e){return e[8]}function Ia(e){return e[8]||(e[8]=[])}function Ca(e,t){let n;const r=t[e.index];if(fe(r))n=r;else{let i;if(8&e.type)i=xe(r);else{const n=t[11];i=n.createComment("");const r=Ne(e,t);Nr(n,Pr(n,r),i,function(e,t){return Ae(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Fi(r,t,i,e),ji(t,n)}return new Ea(n,e,t)}const Aa={};class ka extends Do{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=le(e);return new Na(t,this.ngModule)}}function xa(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Oa=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yr});class Na extends No{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ei).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return xa(this.componentDef.inputs)}get outputs(){return xa(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,Aa,i);return s!==Aa||r===Aa?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Vo,ke),o=i.get(Zo,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){if(Ae(e))return e.selectRootElement(t,n===M.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Cr(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:yr,clean:Hi,playerHandler:null,flags:0},d=Ti(0,null,null,1,0,null,null,null,null,null),f=hi(null,d,h,c,null,null,s,a,o,i);let p,g;ot(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=di(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(Qi(a,l,!0),null!==e&&(Et(i,e,l),null!==a.classes&&Br(i,e,a.classes),null!==a.styles&&Zr(i,e,a.styles)));const u=r.createRenderer(e,t),c=hi(n,bi(t),null,t.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Ut(Pt(a,n),o,t.type),xi(o,a),Ni(a,n.length,1)),ji(n,c),n[20]=c}(u,this.componentDef,f,s,a);if(u)if(n)Et(a,u,["ng-version",zo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Qr(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Et(a,u,e),t&&t.length>0&&Br(a,u,t.join(" "))}if(g=Re(d,ce),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=ze();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(e,r,t,fi(e,t,1,null),n));const i=$t(t,e,r.directiveStart,r);dr(i,t);const s=Ne(r,t);return s&&dr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=ze();t.contentQueries(1,o,e.directiveStart)}const a=ze();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ft(a.index),Ai(n[1],a,0,a.directiveStart,a.directiveEnd,t),ki(t,o)),o}(e,this.componentDef,f,h,[fs]),pi(d,f,null)}finally{ht()}return new Ra(this.componentType,p,Lo(g,f),f,g)}}class Ra extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new aa(r),this.componentType=e}get injector(){return new Kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Da=new Map;class Pa extends va{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ka(this);const n=ue(e),r=e[K]||null;r&&To(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=is(e,t,[{provide:va,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ds.THROW_IF_NOT_FOUND,n=N.Default){return e===ds||e===va||e===Yi?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class La extends _a{constructor(e){super(),this.moduleType=e,null!==ue(e)&&function(e){const t=new Set;!function e(n){const r=ue(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,Da.get(i),n),Da.set(i,n));const s=vr(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Pa(this.moduleType,e)}}function Fa(e,t,n){const r=Ye()+e,i=qe();return i[r]===ti?Es(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function Ma(e,t,n,r){return function(e,t,n,r,i,s){const o=t+n;return Ss(e,o,i)?Es(e,o+1,s?r.call(s,i):r(i)):Va(e,o+1)}(qe(),Ye(),e,t,n,r)}function Ua(e,t,n,r,i,s,o){return function(e,t,n,r,i,s,o,a,l){const u=t+n;return function(e,t,n,r,i,s){const o=Is(e,t,n,r);return Is(e,t+2,i,s)||o}(e,u,i,s,o,a)?Es(e,u+4,l?r.call(l,i,s,o,a):r(i,s,o,a)):Va(e,u+4)}(qe(),Ye(),e,t,n,r,i,s,o)}function Va(e,t){const n=e[t];return n===ti?void 0:n}function ja(e){return t=>{setTimeout(e,void 0,t)}}const qa=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),u=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),u=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=ja(l),a&&(a=ja(a)),u&&(u=ja(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof i.w&&e.add(c),c}};function Za(){return this._results[ws()]()}class Ba{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ws(),n=Ba.prototype;n[t]||(n[t]=Za)}get changes(){return this._changes||(this._changes=new qa)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=sn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class za{constructor(e){this.queryList=e,this.matches=null}clone(){return new za(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ha{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ha(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==sl(e,t).matches&&this.queries[t].setDirty()}}class $a{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Ga{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Ga(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Ka(t,i)),this.matchTNodeWithReadOption(e,t,Ht(t,e,i,!1,!1))}else n===pa?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ht(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Mo||r===ba||r===pa&&4&t.type)this.addMatch(t.index,-2);else{const n=Ht(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ka(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Qa(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Lo(e,t):4&e.type?ya(e,t):null}(t,e):-2===n?function(e,t,n){return n===Mo?Lo(t,e):n===pa?ya(t,e):n===ba?Ca(t,e):void 0}(e,t,r):$t(e,e[1],n,t)}function Ya(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Qa(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Ja(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ya(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=he;e<o.length;e++){const t=o[e];t[17]===t[3]&&Ja(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Ja(n[1],n,i,r)}}}}}return r}function Xa(e){const t=qe(),n=Ze(),r=nt();rt(r+1);const i=sl(n,r);if(e.dirty&&Pe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ja(n,t,r,[]):Ya(n,t,i,r);e.reset(s,Uo),e.notifyOnChanges()}return!0}return!1}function el(e,t,n){const r=Ze();r.firstCreatePass&&(il(r,new $a(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),rl(r,qe(),t)}function tl(e,t,n,r){const i=Ze();if(i.firstCreatePass){const s=ze();il(i,new $a(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}rl(i,qe(),n)}function nl(){return e=qe(),t=nt(),e[19].queries[t].queryList;var e,t}function rl(e,t,n){const r=new Ba(4==(4&n));Ei(e,t,r,r.destroy),null===t[19]&&(t[19]=new Ha),t[19].queries.push(new za(r))}function il(e,t,n){null===e.queries&&(e.queries=new Ga),e.queries.track(new Wa(t,n))}function sl(e,t){return e.queries.getByIndex(t)}const ol=new tn("Application Initializer");let al=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Po,this.reject=Po,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Us(t))e.push(t);else if(js(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(_n(ol,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const ll=new tn("AppId"),ul={provide:ll,useFactory:function(){return`${cl()}${cl()}${cl()}`},deps:[]};function cl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hl=new tn("Platform Initializer"),dl=new tn("Platform ID"),fl=new tn("appBootstrapListener");let pl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const gl=new tn("LocaleId"),ml=new tn("DefaultCurrencyCode");class yl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const vl=function(e){return new La(e)},_l=vl,wl=function(e){return Promise.resolve(vl(e))},bl=function(e){const t=vl(e),n=vr(ue(e).declarations).reduce((e,t)=>{const n=le(t);return n&&e.push(new Na(n)),e},[]);return new yl(t,n)},Tl=bl,El=function(e){return Promise.resolve(bl(e))};let Sl=(()=>{class e{constructor(){this.compileModuleSync=_l,this.compileModuleAsync=wl,this.compileModuleAndAllComponentsSync=Tl,this.compileModuleAndAllComponentsAsync=El}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();const Il=(()=>Promise.resolve(0))();function Cl(e){"undefined"==typeof Zone?Il.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Al{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qa(!1),this.onMicrotaskEmpty=new qa(!1),this.onStable=new qa(!1),this.onError=new qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=Z.requestAnimationFrame,t=Z.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Z,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ol(e),e.isCheckStableRunning=!0,xl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ol(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Nl(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Rl(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Nl(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Rl(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Ol(e),xl(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Al.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Al.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,kl,Po,Po);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const kl={};function xl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ol(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Nl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rl(e){e._nesting--,xl(e)}class Dl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qa,this.onMicrotaskEmpty=new qa,this.onStable=new qa,this.onError=new qa}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Pl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Al.assertNotInAngularZone(),Cl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cl(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(_n(Al))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})(),Ll=(()=>{class e{constructor(){this._applications=new Map,Vl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Vl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();class Fl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Ml(e){Vl=e}let Ul,Vl=new Fl,jl=!0,ql=!1;function Zl(){return ql=!0,jl}function Bl(){if(ql)throw new Error("Cannot enable prod mode after platform setup.");jl=!1}const zl=new tn("AllowMultipleToken");class Hl{constructor(e,t){this.name=e,this.token=t}}function $l(e,t,n=[]){const r=`Platform: ${t}`,i=new tn(r);return(t=[])=>{let s=Gl();if(!s||s.injector.get(zl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:Xi,useValue:"platform"});!function(e){if(Ul&&!Ul.destroyed&&!Ul.injector.get(zl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ul=e.get(Wl);const t=e.get(hl,null);t&&t.forEach(e=>e())}(ds.create({providers:e,name:r}))}return function(e){const t=Gl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Gl(){return Ul&&!Ul.destroyed?Ul:null}let Wl=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Dl:("zone.js"===e?void 0:e)||new Al({enableLongStackTrace:Zl(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Al,useValue:n}];return n.run(()=>{const t=ds.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(mr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Yl(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Us(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(al);return e.runInitializers(),e.donePromise.then(()=>(To(i.injector.get(gl,wo)||wo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Kl({},t);return function(e,t,n){const r=new La(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Ql);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(_n(ds))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Kl(e,t){return Array.isArray(t)?t.reduce(Kl,e):Object.assign(Object.assign({},e),t)}let Ql=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Al.assertNotInAngularZone(),Cl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Al.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(c,h.pipe(e=>{return(0,l.x)()((t=u,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof No?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(va),i=n.create(ds.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Pl,null),a=o&&i.injector.get(Ll);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Yl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Yl(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(fl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(_n(Al),_n(ds),_n(mr),_n(Do),_n(al))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function Yl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Jl{}class Xl{}const eu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let tu=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||eu}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>nu(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>nu(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(_n(Sl),_n(Xl,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac}),e})();function nu(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const ru=function(e){return null},iu=$l(null,"core",[{provide:dl,useValue:"unknown"},{provide:Wl,deps:[ds]},{provide:Ll,deps:[]},{provide:pl,deps:[]}]),su=[{provide:Ql,useClass:Ql,deps:[Al,ds,mr,Do,al]},{provide:Oa,deps:[Al],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:al,useClass:al,deps:[[new En,ol]]},{provide:Sl,useClass:Sl,deps:[]},ul,{provide:na,useFactory:function(){return ha},deps:[]},{provide:ia,useFactory:function(){return da},deps:[]},{provide:gl,useFactory:function(e){return To(e=e||"undefined"!=typeof $localize&&$localize.locale||wo),e},deps:[[new Tn(gl),new En,new Sn]]},{provide:ml,useValue:"USD"}];let ou=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(_n(Ql))},e.\u0275mod=re({type:e}),e.\u0275inj=E({providers:su}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>c,GT:()=>l,on:()=>d,pX:()=>a});var r=n(3018),i=n(7841),s=n(9126);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class u{constructor(e){return e}}const c=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new u(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:u,useFactory:d,deps:[c,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:c,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},9126:(e,t,n)=>{"use strict";n.d(t,{q4:()=>u,iC:()=>_,f6:()=>v,HU:()=>m,cc:()=>d});var r=n(3018);(0,n(5452).registerVersion)("firebase","9.0.1","app");var i=n(7771),s=n(3637),o=n(3342),a=n(309),l=n(3101);e=n.hmd(e);const u=new r.GfV("7.0.3"),c=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${c?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=i.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class g{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let m=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return e.pipe((0,a.QV)(y().insideAngular))}function _(e){return y(),(t=y(),function(e){return(e=e.lift(new g(t.ngZone))).pipe((0,l.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))})(e);var t}},4486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(4685),i=n(6034),s=n(5452),o=n(300);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),u=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),c=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){c.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&c.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=u;(0,s.registerVersion)("@firebase/app-compat","0.1.1",void 0);const d=h},5452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>T,_DEFAULT_ENTRY_NAME:()=>c,_addComponent:()=>p,_addOrOverwriteComponent:()=>g,_apps:()=>d,_clearComponents:()=>_,_components:()=>f,_getProvider:()=>y,_registerComponent:()=>m,_removeServiceInstance:()=>v,deleteApp:()=>C,getApp:()=>S,getApps:()=>I,initializeApp:()=>E,onLog:()=>x,registerVersion:()=>k,setLogLevel:()=>O});var r=n(6304),i=n(6034),s=n(300),o=n(4685);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",u=new s.Yd("@firebase/app"),c="[DEFAULT]",h={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function m(e){const t=e.name;if(f.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of d.values())p(n,e);return!0}function y(e,t){return e.container.getProvider(t)}function v(e,t,n=c){y(e,t).clearInstance(n)}function _(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class b{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const T="9.0.0";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:c,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const l=new b(e,n,a);return d.set(r,l),l}function S(e=c){const t=d.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function I(){return Array.from(d.values())}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(function*(e){const t=e.name;d.has(t)&&(d.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function k(e,t,n){var r;let s=null!==(r=h[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function O(e){(0,s.Ub)(e)}m(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),k(l,"0.7.0",void 0),k("fire-js","")},6034:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>l});var r=n(4762),i=n(4685),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),l=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});l.resolve(c)}catch(h){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=(0,r.CR)(u.value,2),h=c[1];o===this.normalizeInstanceIdentifier(c[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var l=a.value;try{l(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),l=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},300:(e,t,n)=>{"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(t,{in:()=>o,Yd:()=>h,Ub:()=>d,Am:()=>f});var s=[],o=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={})),o))(),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},l=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var s=(new Date).toISOString(),o=u[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,r(["["+s+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){s.forEach(function(t){t.setLogLevel(e)})}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},4685:(e,t,n)=>{"use strict";n.d(t,{BH:()=>u,LL:()=>E,ZR:()=>T,tV:()=>a,r3:()=>C,Sg:()=>c,ne:()=>D,vZ:()=>k,ZB:()=>l,pd:()=>R,m9:()=>F,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>y,xb:()=>A,w1:()=>v,hl:()=>b,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>w,Mn:()=>_,xO:()=>O,zd:()=>N});var r=n(4762),i=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,o||(c=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{s=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==l)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){var t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=l(e[n],t[n]));return e}var u=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();function c(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){var e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function w(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"indexedDB"in self&&null!=indexedDB}var T=function(e){function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,E.prototype.create),s}return(0,r.ZT)(t,e),t}(Error),E=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,s=this.errors[e],o=s?S(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",l=new T(i,a,r);return l},e}();function S(e,t){return e.replace(I,function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"})}var I=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,s=n;i<s.length;i++){if(!r.includes(c=s[i]))return!1;var o=e[c],a=t[c];if(x(o)&&x(a)){if(!k(o,a))return!1}else if(o!==a)return!1}for(var l=0,u=r;l<u.length;l++){var c;if(!n.includes(c=u[l]))return!1}return!0}function x(e){return null!==e&&"object"==typeof e}function O(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r];n(s[0],s[1])}return t.length?"&"+t.join("&"):""}function N(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("="),r=n[1];t[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),t}function R(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){var n=new P(e,t);return n.subscribe.bind(n)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),s=1518500249):(i=a^l^u,s=1859775393):r<60?(i=a&l|u&(a|l),s=2400959708):(i=a^l^u,s=3395469782);var h=(o<<5|o>>>27)+i+c+s+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();var P=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),s},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function L(){}function F(e){return e&&e._delegate?e._delegate:e}},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(4486);r.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(4486),s=n(4685),o=n(5452),a=n(4762),l=n(300),u=n(6034);const c=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function f(e,...t){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw m(e,...t)}function g(e,...t){return m(e,...t)}function m(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function y(e,t,...n){if(!e)throw m(t,...n)}function v(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||v(t)}const w=new Map;function b(e){_(e instanceof Function,"Expected a class definition");let t=w.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,w.set(e,t),t)}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function E(){return"http:"===S()||"https:"===S()}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class I{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(E()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function C(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},x=new I(3e4,6e4);function O(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function N(e,t,n,r){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)(function*(e,t,n,r,i={}){return D(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=new(A.headers());return l.set("Content-Type","application/json"),l.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&l.set("X-Firebase-Locale",e.languageCode),A.fetch()(M(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function D(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},k),t);try{const t=new U(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=(i.ok?s.errorMessage:s.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw V(e,"email-already-in-use",s);p(e,r[t]||t.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(i){if(i instanceof s.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function L(e,t,n,r){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield N(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function M(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`}class U{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),x.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function j(){return(j=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function q(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function B(e,t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function H(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function $(){return($=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=W(r);y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:H(G(i.auth_time)),issuedAtTime:H(G(i.iat)),expirationTime:H(G(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function G(e){return 1e3*Number(e)}function W(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&Y(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function Y({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class J{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class X{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H(this.lastLoginAt),this.creationTime=H(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ee(e){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield K(e,B(n,{idToken:r}));y(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?ie(s.providerUserInfo):[],a=re(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new X(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,u)})).apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ee(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function re(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function ie(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function se(){return(se=(0,r.Z)(function*(e,t){const n=yield D(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=M(e,r,"/v1/token",`key=${i}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class oe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=W(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return y(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return se.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new oe;return n&&(y("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oe,this.toJSON())}_performRefresh(){return v("not implemented")}}function ae(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class le{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new J(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new X(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield K(t,t.stsTokenManager.getToken(t.auth,e));return y(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return $.apply(this,arguments)}(this,e)}reload(){return function(e){return ne.apply(this,arguments)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new le(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ee(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield K(e,function(e,t){return j.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:w,isAnonymous:b,providerData:T,stsTokenManager:E}=t;y(_&&E,e,"internal-error");const S=oe.fromJSON(this.name,E);y("string"==typeof _,e,"internal-error"),ae(c,e.name),ae(h,e.name),y("boolean"==typeof w,e,"internal-error"),y("boolean"==typeof b,e,"internal-error"),ae(d,e.name),ae(f,e.name),ae(p,e.name),ae(g,e.name),ae(m,e.name),ae(v,e.name);const I=new le({uid:_,auth:e,email:h,emailVerified:w,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:v});return T&&Array.isArray(T)&&(I.providerData=T.map(e=>Object.assign({},e))),g&&(I._redirectEventId=g),I}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new oe;r.updateFromServerResponse(t);const i=new le({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ee(i),i})()}}const ue=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function ce(e,t,n){return`firebase:${e}:${t}:${n}`}class he{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ce(this.userKey,r.apiKey,i),this.fullPersistenceKey=ce("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?le._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new he(b(ue),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||b(ue);const o=ce(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=le._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(u){}const l=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(u){}});return function(t){return e.apply(this,arguments)}}())),new he(s,e,n)):new he(s,e,n)})()}}function de(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(me(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fe(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ve(t))return"Blackberry";if(_e(t))return"Webos";if(pe(t))return"Safari";if((t.includes("chrome/")||ge(t))&&!t.includes("edge/"))return"Chrome";if(ye(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function fe(e=(0,s.z$)()){return/firefox\//i.test(e)}function pe(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ge(e=(0,s.z$)()){return/crios\//i.test(e)}function me(e=(0,s.z$)()){return/iemobile/i.test(e)}function ye(e=(0,s.z$)()){return/android/i.test(e)}function ve(e=(0,s.z$)()){return/blackberry/i.test(e)}function _e(e=(0,s.z$)()){return/webos/i.test(e)}function we(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function be(e=(0,s.z$)()){return we(e)||ye(e)||_e(e)||ve(e)||/windows phone/i.test(e)||me(e)}function Te(e,t=[]){let n;switch(e){case"Browser":n=de((0,s.z$)());break;case"Worker":n=`${de((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Ee{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=b(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield he.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(y(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ee(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&y(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&y(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(b(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&b(e)||t._popupRedirectResolver;y(n,t,"argument-error"),t.redirectPersistenceManager=yield he.create(t,[b(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return y(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Te(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Se(e){return(0,s.m9)(e)}class Ie{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ce(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ae(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ke{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}function xe(e,t){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:resetPassword",O(e,t))})).apply(this,arguments)}function Ne(e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function De(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",O(e,t))})).apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",O(e,t))})).apply(this,arguments)}function Fe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:sendOobCode",O(e,t))})).apply(this,arguments)}function Ue(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return Fe(e,t)})).apply(this,arguments)}function je(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return Fe(e,t)})).apply(this,arguments)}function Ze(e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(e,t){return Fe(e,t)})).apply(this,arguments)}function ze(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return Fe(e,t)})).apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",O(e,t))})).apply(this,arguments)}class We extends ke{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new We(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new We(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Le.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return $e.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Ne(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ge.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ke(e,t){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",O(e,t))})).apply(this,arguments)}class Ye extends ke{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ye(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ye(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:sendVerificationCode",O(e,t))})).apply(this,arguments)}function et(){return(et=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t))})).apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){const n=yield L(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const nt={USER_NOT_FOUND:"user-not-found"};function rt(){return(rt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",O(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),nt)})).apply(this,arguments)}class it extends ke{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new it({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new it({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return et.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return tt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new it({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class st{constructor(e){var t,n,r,i,o,a;const l=(0,s.zd)((0,s.pd)(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new st(t)}catch(n){return null}}}let ot=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return We._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=st.parseLink(t);return y(n,"argument-error"),We._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class at{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lt extends at{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ut extends lt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return y("providerId"in t&&"signInMethod"in t,"argument-error"),Ye._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),Ye._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ut.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ut.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ut(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(a){return null}}}let ct=(()=>{class e extends lt{constructor(){super("facebook.com")}static credential(t){return Ye._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ht=(()=>{class e extends lt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ye._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),dt=(()=>{class e extends lt{constructor(){super("github.com")}static credential(t){return Ye._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class ft extends ke{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ke(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ke(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ke(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ft(n,i):null}static _create(e,t){return new ft(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let pt=(()=>{class e extends lt{constructor(){super("twitter.com")}static credential(t,n){return Ye._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function gt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signUp",O(e,t))})).apply(this,arguments)}class yt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield le._fromIdTokenResponse(e,n,i),s=vt(n);return new yt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=vt(n);return new yt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function vt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _t(){return(_t=(0,r.Z)(function*(e){var t;const n=Se(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new yt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield gt(n,{returnSecureToken:!0}),i=yield yt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class wt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,wt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new wt(e,t,n,r)}}function bt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw wt._fromErrorAndOperation(e,n,t,r);throw n})}function Tt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function Et(){return(Et=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield Ct(!0,n,t);const{providerUserInfo:r}=yield q(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Tt(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function St(e,t){return It.apply(this,arguments)}function It(){return(It=(0,r.Z)(function*(e,t,n=!1){const r=yield K(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return yt._forOperation(e,"link",r)})).apply(this,arguments)}function Ct(e,t,n){return At.apply(this,arguments)}function At(){return(At=(0,r.Z)(function*(e,t,n){yield ee(t);const r=!1===e?"provider-already-linked":"no-such-provider";y(Tt(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function kt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield K(e,bt(r,i,t,e),n);y(s.idToken,r,"internal-error");const o=W(s.idToken);y(o,r,"internal-error");const{sub:a}=o;return y(e.uid===a,r,"user-mismatch"),yt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&p(r,"user-mismatch"),s}})).apply(this,arguments)}function Ot(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield bt(e,r,t),s=yield yt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Rt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t){return Ot(Se(e),t)})).apply(this,arguments)}function Pt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield Ct(!1,n,t.providerId),St(n,t)})).apply(this,arguments)}function Ft(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(e,t){return kt((0,s.m9)(e),t)})).apply(this,arguments)}function Ut(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",O(e,t))})).apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){const n=Se(e),r=yield Ut(n,{token:t,returnSecureToken:!0}),i=yield yt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class qt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Zt._fromServerResponse(e,t):p(e,"internal-error")}}class Zt extends qt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Zt(t)}}function Bt(e,t,n){var r;y((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),y(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(y(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(y(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function zt(){return(zt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Bt(r,i,n),yield je(r,i)})).apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(e,t,n){yield xe((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(e,t){yield De((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Gt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield xe(n,{oobCode:t}),i=r.requestType;switch(y(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":y(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":y(r.mfaInfo,n,"internal-error");default:y(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=qt._fromServerResponse(Se(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t){const{data:n}=yield Gt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t,n){const r=Se(e),i=yield gt(r,{returnSecureToken:!0,email:t,password:n}),s=yield yt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};y(n.handleCodeInApp,r,"argument-error"),n&&Bt(r,i,n),yield Ze(r,i)})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ot.credentialWithLink(t,n||T());return y(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Rt(r,i)})).apply(this,arguments)}function Xt(e,t){return en.apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:createAuthUri",O(e,t))})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:E()?T():"http://localhost"},{signinMethods:r}=yield Xt((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Bt(n.auth,r,t);const{email:i}=yield Ue(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Bt(r.auth,i,n);const{email:o}=yield ze(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function sn(e,t){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield K(r,sn(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function ln(e,t,n){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield K(e,Ne(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class cn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class hn extends cn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class dn extends cn{constructor(e,t){super(e,"facebook.com",t)}}class fn extends hn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class pn extends cn{constructor(e,t){super(e,"google.com",t)}}class gn extends hn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function mn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=W(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new cn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new dn(s,i);case"github.com":return new fn(s,i);case"google.com":return new pn(s,i);case"twitter.com":return new gn(s,i,e.screenName||null);case"custom":case"anonymous":return new cn(s,null);default:return new cn(s,r,i)}}(n)}class yn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new yn("enroll",e)}static _fromMfaPendingCredential(e){return new yn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return yn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return yn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class vn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Se(e),i=(t.serverResponse.mfaInfo||[]).map(e=>qt._fromServerResponse(n,e));y(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=yn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new vn(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield yt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return y(t.user,n,"internal-error"),yt._forOperation(t.user,t.operationType,i);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function _n(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:e.tenantId},t))}class wn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>qt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new wn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return yn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield K(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield K(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},N(s,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:s.tenantId},o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const bn=new WeakMap,Tn="__sak";class En{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tn,"1"),this.storage.removeItem(Tn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const Sn=(()=>{class e extends En{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return pe(e)||we(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=be(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),In=(()=>{class e extends En{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let Cn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),u=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function An(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class kn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=An("",20);r.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function xn(){return window}function On(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function Nn(){return(Nn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Rn="firebaseLocalStorageDb",Dn="firebaseLocalStorage",Pn="fbase_key";class Ln{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fn(e,t){return e.transaction([Dn],t?"readwrite":"readonly").objectStore(Dn)}function Mn(){const e=indexedDB.open(Rn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Dn,{keyPath:Pn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Dn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Rn);return new Ln(e).toPromise()}(),t(yield Mn()))}))})}function Un(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(e,t,n){const r=Fn(e,!0).put({[Pn]:t,value:n});return new Ln(r).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t){const n=Fn(e,!1).get(t),r=yield new Ln(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function qn(e,t){const n=Fn(e,!0).delete(t);return new Ln(n).toPromise()}const Zn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Mn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return On()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=Cn._getInstance(On()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Nn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new kn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Mn();return yield Un(e,Tn,"1"),yield qn(e,Tn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Un(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return jn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>qn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Fn(e,!1).getAll();return new Ln(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Bn(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:e.tenantId},t))}function zn(){return(zn=(0,r.Z)(function*(e){return(yield N(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Hn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function $n(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Gn=1e12;class Wn{constructor(e){this.auth=e,this.counter=Gn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Kn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Gn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Gn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Gn))||void 0===n||n.execute(),""})()}}class Kn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;y(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qn=$n("rcb"),Yn=new I(3e4,6e4);class Jn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xn().grecaptcha}load(e,t=""){return y(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(xn().grecaptcha):new Promise((n,r)=>{const i=xn().setTimeout(()=>{r(g(e,"network-request-failed"))},Yn.get());xn()[Qn]=()=>{xn().clearTimeout(i),delete xn()[Qn];const s=xn().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Hn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Qn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!xn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xn{load(e){return(0,r.Z)(function*(){return new Wn(e)})()}clearedOneInstance(){}}const er="recaptcha",tr={theme:"light",type:"image"};class nr{constructor(e,t=Object.assign({},tr),n){this.parameters=t,this.type=er,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Se(n),this.isInvisible="invisible"===this.parameters.size,y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;y(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xn:new Jn,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){y(!this.parameters.sitekey,this.auth,"argument-error"),y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),y("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=xn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){y(E()&&!On(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return zn.apply(this,arguments)}(e.auth);y(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=it._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ir(){return(ir=(0,r.Z)(function*(e,t,n){const r=Se(e),i=yield ar(r,t,(0,s.m9)(n));return new rr(i,e=>Rt(r,e))})).apply(this,arguments)}function sr(){return(sr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield Ct(!1,r,"phone");const i=yield ar(r.auth,t,(0,s.m9)(n));return new rr(i,e=>Pt(r,e))})).apply(this,arguments)}function or(){return(or=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield ar(r.auth,t,(0,s.m9)(n));return new rr(i,e=>Ft(r,e))})).apply(this,arguments)}function ar(e,t,n){return lr.apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(y("string"==typeof i,e,"argument-error"),y(n.type===er,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return y("enroll"===t.type,e,"internal-error"),(yield _n(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{y("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return y(n,e,"missing-multi-factor-info"),(yield Bn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield Je(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t){yield St((0,s.m9)(e),t)})).apply(this,arguments)}let cr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Se(t)}verifyPhoneNumber(e,t){return ar(this.auth,e,(0,s.m9)(t))}static credential(e,t){return it._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?it._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function hr(e,t){return t?b(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class dr extends ke{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ke(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ke(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ke(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fr(e){return Ot(e.auth,new dr(e),e.bypassAuthState)}function pr(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),kt(n,new dr(e),e.bypassAuthState)}function gr(e){return mr.apply(this,arguments)}function mr(){return(mr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),St(n,new dr(e),e.bypassAuthState)})).apply(this,arguments)}class yr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fr;case"linkViaPopup":case"linkViaRedirect":return gr;case"reauthViaPopup":case"reauthViaRedirect":return pr;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vr=new I(2e3,1e4);function _r(){return(_r=(0,r.Z)(function*(e,t,n){const r=Se(e);y(t instanceof at,e,"argument-error");const i=hr(r,n);return new Tr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function wr(){return(wr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);return new Tr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function br(){return(br=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);return new Tr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Tr=(()=>{class e extends yr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return y(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){_(1===e.filter.length,"Popup operations only handle one event");const t=An();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,vr.get())};e()}}return e.currentPopupAction=null,e})();const Er=new Map;class Sr extends yr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Er.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Ir.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Er.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Ir(){return(Ir=(0,r.Z)(function*(e,t){const n=xr(t),r="true"===(yield kr(e)._get(n));return yield kr(e)._remove(n),r})).apply(this,arguments)}function Cr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,r.Z)(function*(e,t){return kr(e)._set(xr(t),"true")})).apply(this,arguments)}function kr(e){return b(e._redirectPersistence)}function xr(e){return ce("pendingRedirect",e.config.apiKey,e.name)}function Or(){return(Or=(0,r.Z)(function*(e,t,n){const r=Se(e);y(t instanceof at,e,"argument-error");const i=hr(r,n);return yield Cr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);yield Cr(i,r.auth);const o=yield Fr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(t instanceof at,r.auth,"argument-error");const i=hr(r.auth,n);yield Ct(!1,r,t.providerId),yield Cr(i,r.auth);const o=yield Fr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t){return yield Se(e)._initializationPromise,Pr(e,t,!1)})).apply(this,arguments)}function Pr(e,t){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n=!1){const r=Se(e),i=hr(r,t),s=new Sr(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Fr(e){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(e){const t=An(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Ur{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vr(e))}saveEventToCache(e){this.cachedEventUids.add(Vr(e)),this.lastProcessedEventTime=Date.now()}}function Vr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function jr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function qr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(function*(e,t={}){return N(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zr=/^https?/;function Hr(){return(Hr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield qr(e);for(const r of t)try{if($r(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function $r(e){const t=T(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!zr.test(n))return!1;if(Br.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Gr=new I(3e4,6e4);function Wr(){const e=xn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Kr=null;function Qr(e){return Kr=Kr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Wr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Wr(),n(g(e,"network-request-failed"))},timeout:Gr.get()})}if(null===(i=null===(r=xn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=xn().gapi)||void 0===s?void 0:s.load)){const t=$n("iframefcb");return xn()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Hn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Kr=null,e})}(e),Kr}const Yr=new I(5e3,15e3),Jr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Xr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ei(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=Xr.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ti(){return(ti=(0,r.Z)(function*(e){const t=yield Qr(e),n=xn().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:ei(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jr,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=xn().setTimeout(()=>{r(i)},Yr.get());function o(){xn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ri{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ii(e,t,n,r,i,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof at){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof lt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const s of Object.keys(u))void 0===u[s]&&delete u[s];return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(u).slice(1)}`}const si="webStorageSupport";class oi extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return v("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new oi(e)}_finalizeEnroll(e,t,n){return function(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:e.tenantId},t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}var ai;class li{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ui(){return window}function ci(){return(ci=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=ui();_(t.sessionId,"AuthEvent did not contain a session ID");const s=yield fi(t.sessionId),o={};return we()?o.ibi=i.packageName:ye()?o.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ii(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function hi(){return(hi=(0,r.Z)(function*(e){const{BuildInfo:t}=ui(),n={};we()?n.iosBundleId=t.packageName:ye()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield qr(e,n)})).apply(this,arguments)}function di(){return(di=(0,r.Z)(function*(e,t,n){const{cordova:r}=ui();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),ye()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function fi(e){return pi.apply(this,arguments)}function pi(){return(pi=(0,r.Z)(function*(e){const t=gi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function gi(e){if(_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}ai="Browser",(0,o._registerComponent)(new u.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{y(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),y(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:ai,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Te(ai)},s=new Ee(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(b);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new u.wA("auth-internal",e=>{return t=Se(e.getProvider("auth").getImmediate()),new li(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)("@firebase/auth","0.17.1",void 0);class mi extends Ur{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function yi(e){return vi.apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e){const t=yield wi()._get(bi(e));return t&&(yield wi()._remove(bi(e))),t})).apply(this,arguments)}function _i(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function wi(){return b(Sn)}function bi(e){return ce("authEvent",e.config.apiKey,e.name)}function Ti(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ei(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Si(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ii(e=(0,s.z$)()){return!("file:"!==Si()&&"ionic:"!==Si()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ci(){try{const e=self.localStorage,t=An();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ai()&&(0,s.hl)()}return!1}function Ai(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ki(){return("http:"===Si()||"https:"===Si()||(0,s.ru)()||Ii())&&!((0,s.b$)()||(0,s.UG)())&&Ci()&&!Ai()}function xi(){return Ii()&&"undefined"!=typeof document}function Oi(){return(Oi=(0,r.Z)(function*(){return!!xi()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Ni={LOCAL:"local",NONE:"none",SESSION:"session"},Ri=y,Di="persistence";function Pi(e){return Li.apply(this,arguments)}function Li(){return(Li=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Fi(),n=ce(Di,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Fi(){return"undefined"!=typeof window?window:null}const Mi=y;class Ui{constructor(){this.browserResolver=b(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=In,this._completeRedirectFn=Pr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;_(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ii(e,t,n,T(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},ni),{width:r.toString(),height:i.toString(),top:o,left:a}),c=(0,s.z$)().toLowerCase();n&&(l=ge(c)?"_blank":n),fe(c)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return we(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new ri(null);const d=window.open(t||"",l,h);y(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ri(d)}(e,a,An())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ii(e,t,n,T(),i),xn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ti.apply(this,arguments)}(e),r=new Ur(e);return n.register("authEvent",t=>(y(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(si,{type:si},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return be()||pe()||we()}}),this.cordovaResolver=b(class{constructor(){this._redirectPersistence=In,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Pr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new mi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=ui();y("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),y(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),y("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),y("function"==typeof(null===(c=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Er.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:_i(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return wi()._set(bi(e),t)}(e,a);const l=yield function(e,t,n){return ci.apply(this,arguments)}(e,a,t),u=yield function(e){const{cordova:t}=ui();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(l);return function(e,t,n){return di.apply(this,arguments)}(e,r,u)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=ui(),o=setTimeout((0,r.Z)(function*(){yield yi(e),t.onEvent(Ei())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield yi(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ti(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ti(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ti(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ti(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ei())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=i,u=`${s.packageName.toLowerCase()}://`;ui().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"==typeof l)try{l(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=In,this._completeRedirectFn=Pr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return xi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Oi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Vi(e){return e.unwrap()}function ji(e){return Zi(e)}function qi(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Gi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return y(t.operationType,r,"argument-error"),y(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vn._fromError(r,i)}(e,t));else if(r){const e=Zi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Zi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return cr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ht;break;case"facebook.com":r=ct;break;case"github.com":r=dt;break;case"twitter.com":r=pt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?ft._create(n,o):Ye._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ut(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Bi(e,t){return zi.apply(this,arguments)}function zi(){return(zi=(0,r.Z)(function*(e,t){let n;try{n=yield t}catch(o){throw o instanceof s.ZR&&qi(e,o),o}const{operationType:r,user:i}=n;return{operationType:r,credential:ji(n),additionalUserInfo:mn(n),user:Wi.getOrCreate(i)}})).apply(this,arguments)}function Hi(e,t){return $i.apply(this,arguments)}function $i(){return($i=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Bi(e,n.confirm(t))}})).apply(this,arguments)}class Gi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Bi(Vi(this.auth),this.resolver.resolveSignIn(e))}}class Wi{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return bn.has(t)||bn.set(t,wn._fromUser(t)),bn.get(t)}(e)}static getOrCreate(e){return Wi.USER_MAP.has(e)||Wi.USER_MAP.set(e,new Wi(e)),Wi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Bi(t.auth,Pt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Hi(n.auth,function(e,t,n){return sr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Bi(t.auth,function(e,t,n){return br.apply(this,arguments)}(t._delegate,e,Ui))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Pi(Se(t.auth)),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Bi(t.auth,Ft(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Hi(this.auth,function(e,t,n){return or.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Bi(this.auth,function(e,t,n){return wr.apply(this,arguments)}(this._delegate,e,Ui))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Pi(Se(t.auth)),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}sendEmailVerification(e){return function(e,t){return nn.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return Et.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return ln((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ln((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return ur.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return rn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wi.USER_MAP=new WeakMap;const Ki=y;let Qi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ki(n,"invalid-api-key",{appName:e.name});let r=[ue];if("undefined"!=typeof window){r=function(e,t){const n=Fi();if(!(null==n?void 0:n.sessionStorage))return[];const r=ce(Di,e,t);switch(n.sessionStorage.getItem(r)){case Ni.NONE:return[ue];case Ni.LOCAL:return[Zn,In];case Ni.SESSION:return[In];default:return[]}}(n,e.name);for(const e of[Zn,Sn,In])r.includes(e)||r.push(e)}Ki(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Ui:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(c),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Se(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=Ce(t),{host:o,port:a}=function(e){const t=Ce(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ae(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ae(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return $t.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Gt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Ht.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Bi(n._delegate,function(e,t,n){return Qt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return tn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=st.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Ki(ki(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Dr.apply(this,arguments)}(e._delegate,Ui);return t?Bi(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Se(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Yi(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Yi(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return Yt.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return zt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Ri(Object.values(Ni).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Ri(t!==Ni.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Ri(t===Ni.NONE,e,"unsupported-persistence-type"):Ai()?Ri(t===Ni.NONE||t===Ni.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Ri(t===Ni.NONE||Ci(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Ni.SESSION:n=In;break;case Ni.LOCAL:n=(yield b(Zn)._isAvailable())?Zn:Sn;break;case Ni.NONE:n=ue;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Bi(this._delegate,function(e){return _t.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Bi(this._delegate,Rt(this._delegate,e))}signInWithCustomToken(e){return Bi(this._delegate,function(e,t){return jt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Bi(this._delegate,function(e,t,n){return Rt((0,s.m9)(e),ot.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Bi(this._delegate,function(e,t,n){return Jt.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Hi(this._delegate,function(e,t,n){return ir.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ki(ki(),t._delegate,"operation-not-supported-in-this-environment"),Bi(t._delegate,function(e,t,n){return _r.apply(this,arguments)}(t._delegate,e,Ui))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Ki(ki(),t._delegate,"operation-not-supported-in-this-environment"),yield Pi(t._delegate),function(e,t,n){return function(e,t,n){return Or.apply(this,arguments)}(e,t,n)}(t._delegate,e,Ui)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Kt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Ni,e})();function Yi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Wi.getOrCreate(e)),error:t,complete:n}}class Ji{constructor(){this.providerId="phone",this._delegate=new cr(Vi(i.Z.auth()))}static credential(e,t){return cr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Ji.PHONE_SIGN_IN_METHOD=cr.PHONE_SIGN_IN_METHOD,Ji.PROVIDER_ID=cr.PROVIDER_ID;const Xi=y;var es;(es=i.Z).INTERNAL.registerComponent(new u.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Qi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ot,FacebookAuthProvider:ct,GithubAuthProvider:dt,GoogleAuthProvider:ht,OAuthProvider:ut,PhoneAuthProvider:Ji,PhoneMultiFactorGenerator:class{constructor(){}static assertion(e){return oi._fromCredential(e)}},RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;Xi(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new nr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:pt,Auth:Qi,AuthCredential:ke,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),es.registerVersion("@firebase/auth-compat","0.1.1")},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>u});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487),l=n(2494);let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=c(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=c(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function c(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>u,xQ:()=>c});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),l=n(9181);class u extends i.L{constructor(e){super(e),this.destination=e}}let c=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends c{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),l=n(4449);class u extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new u(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class c extends u{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if((0,r.k)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var l;function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>l});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new u(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class u extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),l=n(377),u=n(4072),c=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,u.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,c.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(e,t,n)=>{"use strict";n.d(t,{ht:()=>c,QV:()=>l});var r=n(7393),i=n(9193),s=n(5917),o=n(7574);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function l(e,t=0){return function(n){return n.lift(new u(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class u{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))}}class c extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},3101:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(7574);let i=1;const s=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const l={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var u=n(6465),c=n(6102);const h=new class extends c.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends u.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=l.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(l.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7393);function i(){}var s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>c});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),l=n(4072),u=n(1555);const c=e=>{if(e&&"function"==typeof e[o.L])return c=e,e=>{const t=c[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,l.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,u.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,c}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},1578:(e,t,n)=>{"use strict";var r=n(3018);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r.LFG)(c)}const u=new r.OlP("Location Initialized");let c=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new c((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(E(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,E(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new b((0,r.LFG)(m),(0,r.LFG)(a))}function E(e){return e.replace(/\/index.html$/,"")}var S=(()=>((S=S||{})[S.Zero=0]="Zero",S[S.One=1]="One",S[S.Two=2]="Two",S[S.Few=3]="Few",S[S.Many=4]="Many",S[S.Other=5]="Other",S))();const I=r.kL8;class C{}let A=(()=>{class e extends C{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(I(t||this.locale)(e)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),k=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class x{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let O=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(yv){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new N(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class N{constructor(e,t){this.record=e,this.view=t}}let R=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){P("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){P("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function P(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let L=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,r]=e.split(".");null!=(t=null!=t&&r?`${t}${r}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),F=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.TTD]}),e})(),M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:C,useClass:A}]}),e})();function U(e){return"server"===e}let V=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new j((0,r.LFG)(o),window)}),e})();class j{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(yv){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(yv){return!1}}}function q(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Z extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Z,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(z=z||document.querySelector("base"),z?z.getAttribute("href"):null);return null==t?null:function(e){B=B||document.createElement("a"),B.setAttribute("href",e);const t=B.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let B,z=null;const H=new r.OlP("TRANSITION_ID"),$=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[H,o,r.zs3],multi:!0}];class G{static init(){(0,r.VLi)(new G)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let W=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const K=new r.OlP("EventManagerPlugins");let Q=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(K),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Y{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let J=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),X=(()=>{class e extends J{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(ee),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ee))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function ee(e){s().remove(e)}const te={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ne=/%COMP%/g;function re(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?re(e,i,n):(i=i.replace(ne,e),n.push(i))}return n}function ie(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let se=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new oe(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new ae(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new le(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=re(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Q),r.LFG(X),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class oe{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(te[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=te[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=te[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ie(n)):this.eventManager.addEventListener(e,t,ie(n))}}class ae extends oe{constructor(e,t,n,r){super(e),this.component=n;const i=re(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ne,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ne,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class le extends oe{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=re(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ue=(()=>{class e extends Y{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ce=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},de={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let pe=(()=>{class e extends Y{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(ce.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&de.hasOwnProperty(t)&&(t=de[t]))}return he[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ce.forEach(r=>{r!=n&&(0,fe[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ge=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Z.makeCurrent(),G.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),me=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:K,useClass:ue,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:K,useClass:pe,multi:!0,deps:[o]},[],{provide:se,useClass:se,deps:[Q,X,r.AFp]},{provide:r.FYo,useExisting:se},{provide:J,useExisting:X},{provide:X,useClass:X,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Q,useClass:Q,deps:[K,r.R0b]},{provide:class{},useClass:W,deps:[]},[]];let ye=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:H,useExisting:r.AFp},$]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:me,imports:[M,r.hGG]}),e})();"undefined"!=typeof window&&window;var ve=n(4402),_e=n(5917),we=n(9765),be=n(7971);class Te extends we.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new be.N;return this._value}next(e){super.next(this._value=e)}}var Ee=n(4869),Se=n(9796),Ie=n(7393);class Ce extends Ie.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ae extends Ie.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ke=n(7444),xe=n(7574);function Oe(e,t,n,r,i=new Ae(e,n,r)){if(!i.closed)return t instanceof xe.y?t.subscribe(i):(0,ke.s)(t)(i)}var Ne=n(6693);const Re={};class De{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Pe(e,this.resultSelector))}}class Pe extends Ce{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Re),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Oe(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Re?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const Le=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var Fe=n(3282);function Me(...e){return(0,Fe.J)(1)((0,_e.of)(...e))}var Ue=n(9193);function Ve(e){return new xe.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,ve.D)(n):(0,Ue.c)()).subscribe(t)})}var je=n(2441),qe=n(8002),Ze=n(5345);function Be(e,t){return"function"==typeof t?n=>n.pipe(Be((n,r)=>(0,ve.D)(e(n,r)).pipe((0,qe.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new ze(e))}class ze{constructor(e){this.project=e}call(e,t){return t.subscribe(new He(e,this.project))}}class He extends Ze.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Ze.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Ze.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const $e=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function Ge(e){return t=>0===e?(0,Ue.c)():t.lift(new We(e))}class We{constructor(e){if(this.total=e,this.total<0)throw new $e}call(e,t){return t.subscribe(new Ke(e,this.total))}}class Ke extends Ie.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Qe(...e){const t=e[e.length-1];return(0,Ee.K)(t)?(e.pop(),n=>Me(e,n,t)):t=>Me(e,t)}function Ye(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Je(e,t,n))}}class Je{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Xe(e,this.accumulator,this.seed,this.hasSeed))}}class Xe extends Ie.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function et(e,t){return function(n){return n.lift(new tt(e,t))}}class tt{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new nt(e,this.predicate,this.thisArg))}}class nt extends Ie.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function rt(e){return function(t){const n=new it(e),r=t.lift(n);return n.caught=r}}class it{constructor(e){this.selector=e}call(e,t){return t.subscribe(new st(e,this.selector,this.caught))}}class st extends Ze.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Ze.IY(this);this.add(r);const i=(0,Ze.ft)(n,r);i!==r&&this.add(i)}}}var ot=n(9773);function at(e,t){return(0,ot.zg)(e,t,1)}function lt(e){return function(t){return 0===e?(0,Ue.c)():t.lift(new ut(e))}}class ut{constructor(e){if(this.total=e,this.total<0)throw new $e}call(e,t){return t.subscribe(new ct(e,this.total))}}class ct extends Ie.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function ht(e=pt){return t=>t.lift(new dt(e))}class dt{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new ft(e,this.errorFactory))}}class ft extends Ie.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function pt(){return new Le}function gt(e=null){return t=>t.lift(new mt(e))}class mt{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new yt(e,this.defaultValue))}}class yt extends Ie.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var vt=n(4487);function _t(e,t){const n=arguments.length>=2;return r=>r.pipe(e?et((t,n)=>e(t,n,r)):vt.y,Ge(1),n?gt(t):ht(()=>new Le))}var wt=n(3342),bt=n(1307),Tt=n(5319);class Et{constructor(e){this.callback=e}call(e,t){return t.subscribe(new St(e,this.callback))}}class St extends Ie.L{constructor(e,t){super(e),this.add(new Tt.w(t))}}class It{constructor(e,t){this.id=e,this.url=t}}class Ct extends It{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class At extends It{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kt extends It{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xt extends It{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ot extends It{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nt extends It{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt extends It{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dt extends It{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pt extends It{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ft{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mt{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ut{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vt{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jt{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qt{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Zt="primary";class Bt{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zt(e){return new Bt(e)}function Ht(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function $t(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Gt(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Wt(e[i],t[i]))return!1;return!0}function Wt(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Kt(e){return Array.prototype.concat.apply([],e)}function Qt(e){return e.length>0?e[e.length-1]:null}function Yt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Jt(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,ve.D)(Promise.resolve(e)):(0,_e.of)(e)}const Xt={exact:function e(t,n,r){if(!un(t.segments,n.segments))return!1;if(!sn(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:nn},en={exact:function(e,t){return Gt(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Wt(e[n],t[n]))},ignored:()=>!0};function tn(e,t,n){return Xt[n.paths](e.root,t.root,n.matrixParams)&&en[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function nn(e,t,n){return rn(e,t,t.segments,n)}function rn(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!un(i,n)&&!t.hasChildren()&&!!sn(i,n,r)}if(e.segments.length===n.length){if(!un(e.segments,n))return!1;if(!sn(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!nn(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!un(e.segments,i)&&!!sn(e.segments,i,r)&&!!e.children.primary&&rn(e.children.primary,t,s,r)}}function sn(e,t,n){return t.every((t,r)=>en[n](e[r].parameters,t.parameters))}class on{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zt(this.queryParams)),this._queryParamMap}toString(){return dn.serialize(this)}}class an{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yt(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fn(this)}}class ln{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zt(this.parameters)),this._parameterMap}toString(){return wn(this)}}function un(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class cn{}class hn{parse(e){const t=new In(e);return new on(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${pn(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${mn(t)}=${mn(e)}`).join("&"):`${mn(t)}=${mn(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const dn=new hn;function fn(e){return e.segments.map(e=>wn(e)).join("/")}function pn(e,t){if(!e.hasChildren())return fn(e);if(t){const t=e.children.primary?pn(e.children.primary,!1):"",n=[];return Yt(e.children,(e,t)=>{t!==Zt&&n.push(`${t}:${pn(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Yt(e.children,(e,r)=>{r===Zt&&(n=n.concat(t(e,r)))}),Yt(e.children,(e,r)=>{r!==Zt&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Zt?[pn(e.children.primary,!1)]:[`${n}:${pn(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${fn(e)}/${t[0]}`:`${fn(e)}/(${t.join("//")})`}}function gn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mn(e){return gn(e).replace(/%3B/gi,";")}function yn(e){return gn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(e){return decodeURIComponent(e)}function _n(e){return vn(e.replace(/\+/g,"%20"))}function wn(e){return`${yn(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${yn(e)}=${yn(t[e])}`).join("")}`;var t}const bn=/^[^\/()?;=#]+/;function Tn(e){const t=e.match(bn);return t?t[0]:""}const En=/^[^=?&#]+/,Sn=/^[^?&#]+/;class In{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new an(e,t)),n}parseSegment(){const e=Tn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ln(vn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Tn(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Tn(this.remaining);e&&(n=e,this.capture(n))}e[vn(t)]=vn(n)}parseQueryParam(e){const t=function(e){const t=e.match(En);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Sn);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=_n(t),i=_n(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Tn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Zt);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new an([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Cn{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=An(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=An(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return kn(e,this._root).map(e=>e.value)}}function An(e,t){if(e===t.value)return t;for(const n of t.children){const t=An(e,n);if(t)return t}return null}function kn(e,t){if(e===t.value)return[t];for(const n of t.children){const r=kn(e,n);if(r.length)return r.unshift(t),r}return[]}class xn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function On(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Nn extends Cn{constructor(e,t){super(e),this.snapshot=t,Mn(this,e)}toString(){return this.snapshot.toString()}}function Rn(e,t){const n=function(e,t){const n=new Ln([],{},{},"",{},Zt,t,null,e.root,-1,{});return new Fn("",new xn(n,[]))}(e,t),r=new Te([new ln("",{})]),i=new Te({}),s=new Te({}),o=new Te({}),a=new Te(""),l=new Dn(r,i,o,a,s,Zt,t,n.root);return l.snapshot=n.root,new Nn(new xn(l,[]),n)}class Dn{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qe.U)(e=>zt(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qe.U)(e=>zt(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pn(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Ln{constructor(e,t,n,r,i,s,o,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fn extends Cn{constructor(e,t){super(t),this.url=e,Mn(this,t)}toString(){return Un(this._root)}}function Mn(e,t){t.value._routerState=e,t.children.forEach(t=>Mn(e,t))}function Un(e){const t=e.children.length>0?` { ${e.children.map(Un).join(", ")} } `:"";return`${e.value}${t}`}function Vn(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Gt(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Gt(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Gt(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Gt(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function jn(e,t){return Gt(e.params,t.params)&&function(e,t){return un(e,t)&&e.every((e,n)=>Gt(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||jn(e.parent,t.parent))}function qn(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return qn(e,t,r);return qn(e,t)})}(e,t,n);return new xn(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Zn(t,e),e}}const n=new Dn(new Te((r=t.value).url),new Te(r.params),new Te(r.queryParams),new Te(r.fragment),new Te(r.data),r.outlet,r.component,r),i=t.children.map(t=>qn(e,t));return new xn(n,i)}var r}function Zn(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Zn(e.children[n],t.children[n])}function Bn(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zn(e){return"object"==typeof e&&null!=e&&e.outlets}function Hn(e,t,n,r,i){let s={};return r&&Yt(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new on(n.root===e?t:$n(n.root,e,t),s,i)}function $n(e,t,n){const r={};return Yt(e.children,(e,i)=>{r[i]=e===t?n:$n(e,t,n)}),new an(e.segments,r)}class Gn{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Bn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(zn);if(r&&r!==Qt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wn{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Kn(e,t,n){if(e||(e=new an([],{})),0===e.segments.length&&e.hasChildren())return Qn(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(zn(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!er(a,l,t))return s;r+=2}else{if(!er(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new an(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new an(e.segments.slice(r.pathIndex),e.children),Qn(t,0,i)}return r.match&&0===i.length?new an(e.segments,{}):r.match&&!e.hasChildren()?Yn(e,t,n):r.match?Qn(e,0,i):Yn(e,t,n)}function Qn(e,t,n){if(0===n.length)return new an(e.segments,{});{const r=function(e){return zn(e[0])?e[0].outlets:{[Zt]:e}}(n),i={};return Yt(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Kn(e.children[r],t,n))}),Yt(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new an(e.segments,i)}}function Yn(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(zn(s)){const e=Jn(s.outlets);return new an(r,e)}if(0===i&&Bn(n[0])){r.push(new ln(e.segments[t].path,Xn(n[0]))),i++;continue}const o=zn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bn(a)?(r.push(new ln(o,Xn(a))),i+=2):(r.push(new ln(o,{})),i++)}return new an(r,{})}function Jn(e){const t={};return Yt(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Yn(new an([],{}),0,e))}),t}function Xn(e){const t={};return Yt(e,(e,n)=>t[n]=`${e}`),t}function er(e,t,n){return e==n.path&&Gt(t,n.parameters)}class tr{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Vn(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=On(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Yt(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=On(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=On(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new jt(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Ut(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Vn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),nr(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function nr(e){Vn(e.value),e.children.forEach(nr)}class rr{constructor(e,t){this.routes=e,this.module=t}}function ir(e){return"function"==typeof e}function sr(e){return e instanceof on}const or=Symbol("INITIAL_VALUE");function ar(){return Be(e=>function(...e){let t,n;return(0,Ee.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,Se.k)(e[0])&&(e=e[0]),(0,Ne.n)(e,n).lift(new De(t))}(e.map(e=>e.pipe(Ge(1),Qe(or)))).pipe(Ye((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==or)return e;if(r===or&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||sr(r))return r}return e},e)},or),et(e=>e!==or),(0,qe.U)(e=>sr(e)?e:!0===e),Ge(1)))}let lr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[ii]},encapsulation:2}),e})();function ur(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];cr(r,hr(t,r))}}function cr(e,t){e.children&&ur(e.children,t)}function hr(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function dr(e){const t=e.children&&e.children.map(dr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Zt&&(n.component=lr),n}function fr(e){return e.outlet||Zt}function pr(e,t){const n=e.filter(e=>fr(e)===t);return n.push(...e.filter(e=>fr(e)!==t)),n}const gr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function mr(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},gr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||$t)(n,e,t);if(!i)return Object.assign({},gr);const s={};Yt(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function yr(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>vr(e,t,n)&&fr(n)!==Zt)}(e,n,r)){const i=new an(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&fr(s)!==Zt){const n=new an([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[fr(s)]=n}return i}(e,t,r,new an(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>vr(e,t,n))}(e,n,r)){const s=new an(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(vr(e,n,a)&&!i[fr(a)]){const n=new an([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[fr(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new an(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function vr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function _r(e,t,n,r){return!!(fr(e)===r||r!==Zt&&vr(t,n,e))&&("**"===e.path||mr(t,e,n).matched)}function wr(e,t,n){return 0===t.length&&!e.children[n]}class br{constructor(e){this.segmentGroup=e||null}}class Tr{constructor(e){this.urlTree=e}}function Er(e){return new xe.y(t=>t.error(new br(e)))}function Sr(e){return new xe.y(t=>t.error(new Tr(e)))}function Ir(e){return new xe.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Cr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=yr(this.urlTree.root,[],[],this.config).segmentGroup,t=new an(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Zt).pipe((0,qe.U)(e=>this.createUrlTree(Ar(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rt(e=>{if(e instanceof Tr)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof br)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Zt).pipe((0,qe.U)(t=>this.createUrlTree(Ar(t),e.queryParams,e.fragment))).pipe(rt(e=>{if(e instanceof br)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new an([],{[Zt]:e}):e;return new on(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,qe.U)(e=>new an([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,ve.D)(r).pipe(at(r=>{const i=n.children[r],s=pr(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,qe.U)(e=>({segment:e,outlet:r})))}),Ye((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?et((t,n)=>e(t,n,r)):vt.y,lt(1),n?gt(t):ht(()=>new Le))}())}expandSegment(e,t,n,r,i,s){return(0,ve.D)(n).pipe(at(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(rt(e=>{if(e instanceof br)return(0,_e.of)(null);throw e}))),_t(e=>!!e),rt((e,n)=>{if(e instanceof Le||"EmptyError"===e.name){if(wr(t,r,i))return(0,_e.of)(new an([],{}));throw new br(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return _r(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Er(t):Er(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sr(i):this.lineralizeSegments(n,i).pipe((0,ot.zg)(n=>{const i=new an(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:u}=mr(t,r,i);if(!o)return Er(t);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Sr(c):this.lineralizeSegments(r,c).pipe((0,ot.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,_e.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,qe.U)(e=>(n._loadedConfig=e,new an(r,{})))):(0,_e.of)(new an(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=mr(t,n,r);if(!s)return Er(t);const l=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,ot.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:u}=yr(t,o,l,s),c=new an(a.segments,a.children);if(0===u.length&&c.hasChildren())return this.expandChildren(r,s,c).pipe((0,qe.U)(e=>new an(o,e)));if(0===s.length&&0===u.length)return(0,_e.of)(new an(o,{}));const h=fr(n)===i;return this.expandSegment(r,c,s,u,h?Zt:i,!0).pipe((0,qe.U)(e=>new an(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,_e.of)(new rr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,_e.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,ot.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,qe.U)(e=>(t._loadedConfig=e,e))):function(e){return new xe.y(t=>t.error(Ht(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,_e.of)(new rr([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,_e.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&ir(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!ir(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Jt(s)});return(0,_e.of)(i).pipe(ar(),(0,wt.b)(e=>{if(!sr(e))return;const t=Ht(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,qe.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,_e.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Ir(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new on(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Yt(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Yt(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new an(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Ar(e){const t={};for(const n of Object.keys(e.children)){const r=Ar(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new an(e.segments.concat(t.segments),t.children)}return e}(new an(e.segments,t))}class kr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xr{constructor(e,t){this.component=e,this.route=t}}function Or(e,t,n){const r=e._root;return Rr(r,t?t._root:null,n,[r.value])}function Nr(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Rr(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=On(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!un(e.url,t.url);case"pathParamsOrQueryParamsChange":return!un(e.url,t.url)||!Gt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jn(e,t)||!Gt(e.queryParams,t.queryParams);case"paramsChange":default:return!jn(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new kr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Rr(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xr(a.outlet.component,o))}else o&&Dr(t,a,i),i.canActivateChecks.push(new kr(r)),Rr(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Yt(s,(e,t)=>Dr(e,n.getContext(t),i)),i}function Dr(e,t,n){const r=On(e),i=e.value;Yt(r,(e,r)=>{Dr(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new xr(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Pr{}function Lr(e){return new xe.y(t=>t.error(e))}class Fr{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=yr(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Zt);if(null===t)return null;const n=new Ln([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Zt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xn(n,t),i=new Fn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Pn(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=pr(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Ur(n);return r.sort((e,t)=>e.value.outlet===Zt?-1:t.value.outlet===Zt?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return wr(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!_r(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Qt(n).parameters:{};i=new Ln(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(e),fr(e),e.component,e,Vr(t),jr(t)+n.length,Zr(e))}else{const r=mr(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Ln(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(e),fr(e),e.component,e,Vr(t),jr(t)+s.length,Zr(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:u}=yr(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new xn(i,e)]}if(0===a.length&&0===u.length)return[new xn(i,[])];const c=fr(e)===r,h=this.processSegment(a,l,u,c?Zt:r);return null===h?null:[new xn(i,h)]}}function Mr(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ur(e){const t=[],n=new Set;for(const r of e){if(!Mr(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Ur(r.children);t.push(new xn(r.value,e))}return t.filter(e=>!n.has(e))}function Vr(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function jr(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function qr(e){return e.data||{}}function Zr(e){return e.resolve||{}}function Br(e){return Be(t=>{const n=e(t);return n?(0,ve.D)(n).pipe((0,qe.U)(()=>t)):(0,_e.of)(t)})}class zr extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hr=new r.OlP("ROUTES");class $r{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,qe.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new rr(Kt(i.injector.get(Hr,void 0,r.XFs.Self|r.XFs.Optional)).map(dr),i)}),rt(e=>{throw t._loader$=void 0,e}));return t._loader$=new je.c(n,()=>new we.xQ).pipe((0,bt.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,ve.D)(this.loader.load(e)):Jt(e()).pipe((0,ot.zg)(e=>e instanceof r.YKP?(0,_e.of)(e):(0,ve.D)(this.compiler.compileModuleAsync(e))))}}class Gr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Gr,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Kr{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Qr(e){throw e}function Yr(e,t,n){return t.parse("/")}function Jr(e,t){return(0,_e.of)(null)}const Xr={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ei={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ti=(()=>{class e{constructor(e,t,n,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new we.xQ,this.errorHandler=Qr,this.malformedUriErrorHandler=Yr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jr,afterPreactivation:Jr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new zr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const u=s.get(r.R0b);this.isNgZoneEnabled=u instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new on(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $r(o,a,e=>this.triggerEvent(new Lt(e)),e=>this.triggerEvent(new Ft(e))),this.routerState=Rn(this.currentUrlTree,this.rootComponentType),this.transitions=new Te({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(et(e=>0!==e.id),(0,qe.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Be(e=>{let n=!1,r=!1;return(0,_e.of)(e).pipe((0,wt.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Be(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,_e.of)(e).pipe(Be(e=>{const n=this.transitions.getValue();return t.next(new Ct(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Ue.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Be(e=>function(e,t,n,r,i){return new Cr(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,qe.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,wt.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,ot.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new Fr(e,t,n,r,i,s).recognize();return null===o?Lr(new Pr):(0,_e.of)(o)}catch(o){return Lr(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,qe.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wt.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Ot(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Ct(n,this.serializeUrl(r),i,s);t.next(a);const l=Rn(r,this.rootComponentType).snapshot;return(0,_e.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Ue.E}),Br(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,wt.b)(e=>{const t=new Nt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,qe.U)(e=>Object.assign(Object.assign({},e),{guards:Or(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,ot.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,_e.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,ve.D)(e).pipe((0,ot.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,_e.of)(!0);const o=s.map(s=>{const o=Nr(s,t,i);let a;if(function(e){return e&&ir(e.canDeactivate)}(o))a=Jt(o.canDeactivate(e,t,n,r));else{if(!ir(o))throw new Error("Invalid CanDeactivate guard");a=Jt(o(e,t,n,r))}return a.pipe(_t())});return(0,_e.of)(o).pipe(ar())}(e.component,e.route,n,t,r)),_t(e=>!0!==e,!0))}(o,r,i,e).pipe((0,ot.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,ve.D)(t).pipe(at(t=>Me(function(e,t){return null!==e&&t&&t(new Mt(e)),(0,_e.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Vt(e)),(0,_e.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Ve(()=>{const i=t.guards.map(i=>{const s=Nr(i,t.node,n);let o;if(function(e){return e&&ir(e.canActivateChild)}(s))o=Jt(s.canActivateChild(r,e));else{if(!ir(s))throw new Error("Invalid CanActivateChild guard");o=Jt(s(r,e))}return o.pipe(_t())});return(0,_e.of)(i).pipe(ar())}));return(0,_e.of)(i).pipe(ar())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,_e.of)(!0);const i=r.map(r=>Ve(()=>{const i=Nr(r,t,n);let s;if(function(e){return e&&ir(e.canActivate)}(i))s=Jt(i.canActivate(t,e));else{if(!ir(i))throw new Error("Invalid CanActivate guard");s=Jt(i(t,e))}return s.pipe(_t())}));return(0,_e.of)(i).pipe(ar())}(e,t.route,n))),_t(e=>!0!==e,!0))}(r,s,e,t):(0,_e.of)(n)),(0,qe.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,wt.b)(e=>{if(sr(e.guardsResult)){const t=Ht(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new Rt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),et(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),Br(e=>{if(e.guards.canActivateChecks.length)return(0,_e.of)(e).pipe((0,wt.b)(e=>{const t=new Dt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Be(e=>{let t=!1;return(0,_e.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,ot.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,_e.of)(e);let s=0;return(0,ve.D)(i).pipe(at(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,_e.of)({});const s={};return(0,ve.D)(i).pipe((0,ot.zg)(i=>function(e,t,n,r){const i=Nr(e,t,r);return Jt(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,wt.b)(e=>{s[i]=e}))),lt(1),(0,ot.zg)(()=>Object.keys(s).length===i.length?(0,_e.of)(s):Ue.E))}(e._resolve,e,t,r).pipe((0,qe.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Pn(e,n).resolve),null)))}(e.route,t,n,r)),(0,wt.b)(()=>s++),lt(1),(0,ot.zg)(t=>s===i.length?(0,_e.of)(e):Ue.E))})),(0,wt.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,wt.b)(e=>{const t=new Pt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Br(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,qe.U)(e=>{const t=function(e,t,n){const r=qn(e,t._root,n?n._root:void 0);return new Nn(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,wt.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,qe.U)(e=>(new tr(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,wt.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null},e=>e.lift(new Et(i))),rt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=sr(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new kt(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new xt(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(Uh){e.reject(Uh)}}var i;return Ue.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ur(e),this.config=e.map(dr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,r,i){if(0===n.length)return Hn(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Gn(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Yt(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Gn(n,t,r)}(n);if(s.toRoot())return Hn(t.root,new an([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new Wn(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Wn(e,e===t.root,0)}const r=Bn(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Wn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?Qn(o.segmentGroup,o.index,s.commands):Kn(o.segmentGroup,o.index,s.commands);return Hn(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,u,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=sr(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Xr):!1===t?Object.assign({},ei):t,sr(e))return tn(this.currentUrlTree,e,n);const r=this.parseUrl(e);return tn(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new At(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==t&&"imperative"===(null==a?void 0:a.source),u=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&u)return Promise.resolve(!0);let c,h,d;i?(c=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{c=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:c,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new kt(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(cn),r.LFG(Wr),r.LFG(b),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ni=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new we.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:ri(this.skipLocationChange),replaceUrl:ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ri(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ti),r.Y36(Dn),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function ri(e){return""===e||!!e}let ii=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Zt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new si(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Wr),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class si{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Dn?this.route:e===Wr?this.childContexts:this.parent.get(e,t)}}class oi{}class ai{preload(e,t){return(0,_e.of)(null)}}let li=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new $r(t,n,t=>e.triggerEvent(new Lt(t)),t=>e.triggerEvent(new Ft(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(et(e=>e instanceof At),at(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,ve.D)(n).pipe((0,Fe.J)(),(0,qe.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,_e.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,ot.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ti),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(oi))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ui=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ct?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof At&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qt&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new qt(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ti),r.LFG(V),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ci=new r.OlP("ROUTER_CONFIGURATION"),hi=new r.OlP("ROUTER_FORROOT_GUARD"),di=[b,{provide:cn,useClass:hn},{provide:ti,useFactory:function(e,t,n,r,i,s,o,a={},l,u){const c=new ti(null,e,t,n,r,i,s,Kt(o));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[cn,Wr,b,r.zs3,r.v3s,r.Sil,Hr,ci,[class{},new r.FiY],[class{},new r.FiY]]},Wr,{provide:Dn,useFactory:function(e){return e.routerState.root},deps:[ti]},{provide:r.v3s,useClass:r.EAV},li,ai,class{preload(e,t){return t().pipe(rt(()=>(0,_e.of)(null)))}},{provide:ci,useValue:{enableTracing:!1}}];function fi(){return new r.PXZ("Router",ti)}let pi=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[di,vi(t),{provide:hi,useFactory:yi,deps:[[ti,new r.FiY,new r.tp0]]},{provide:ci,useValue:n||{}},{provide:m,useFactory:mi,deps:[a,[new r.tBr(v),new r.FiY],ci]},{provide:ui,useFactory:gi,deps:[ti,V,ci]},{provide:oi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ai},{provide:r.PXZ,multi:!0,useFactory:fi},[_i,{provide:r.ip1,multi:!0,useFactory:wi,deps:[_i]},{provide:Ti,useFactory:bi,deps:[_i]},{provide:r.tb,multi:!0,useExisting:Ti}]]}}static forChild(t){return{ngModule:e,providers:[vi(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(hi,8),r.LFG(ti,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function gi(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new ui(e,t,n)}function mi(e,t,n={}){return n.useHash?new w(e,t):new _(e,t)}function yi(e){return"guarded"}function vi(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:Hr,multi:!0,useValue:e}]}let _i=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new we.xQ}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(ti),r=this.injector.get(ci);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,_e.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(ci),n=this.injector.get(li),i=this.injector.get(ui),s=this.injector.get(ti),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function wi(e){return e.appInitializer.bind(e)}function bi(e){return e.bootstrapListener.bind(e)}const Ti=new r.OlP("Router Initializer");let Ei=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-error"]],decls:9,vars:0,consts:[[1,"container","bg-dark","mt-5","rounded"],[1,"cont-error"],[1,"text-center"],["src","./../../../assets/images/pacman_sad.png","alt",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"h1",2),r._uU(4,"ERROR 404"),r.qZA(),r.TgZ(5,"h2"),r._uU(6,"Page not found"),r.qZA(),r.qZA(),r.TgZ(7,"div"),r._UZ(8,"img",3),r.qZA(),r.qZA(),r.qZA())},styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#ff0}.cont-error[_ngcontent-%COMP%]{margin-top:200px;display:flex;align-items:center;justify-content:center;height:300px!important;grid-gap:40px;gap:40px}img[_ngcontent-%COMP%]{width:100px}"]}),e})(),Si=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-home"]],decls:32,vars:0,consts:[[1,"container","text-yellow","py-3","py-md-5"],[1,"drop-component","row","gap-4","justify-content-center","mt-5"],[1,"card","bg-dark","col-11","col-md-5","col-xl-3"],["src","./../../../assets/favicon.png","alt","Card image cap",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"w-100","d-flex","justify-content-center"],[1,"btn","btn-red-outline"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"img",3),r.TgZ(4,"div",4),r.TgZ(5,"h5",5),r._uU(6,"Card title"),r.qZA(),r.TgZ(7,"p",6),r._uU(8," Some quick example text to build on the card title and make up the bulk of the card's content. "),r.qZA(),r.TgZ(9,"div",7),r.TgZ(10,"button",8),r._uU(11,"Jugar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",2),r._UZ(13,"img",3),r.TgZ(14,"div",4),r.TgZ(15,"h5",5),r._uU(16,"Card title"),r.qZA(),r.TgZ(17,"p",6),r._uU(18," Some quick example text to build on the card title and make up the bulk of the card's content. "),r.qZA(),r.TgZ(19,"div",7),r.TgZ(20,"button",8),r._uU(21,"Jugar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"div",2),r._UZ(23,"img",3),r.TgZ(24,"div",4),r.TgZ(25,"h5",5),r._uU(26,"Card title"),r.qZA(),r.TgZ(27,"p",6),r._uU(28," Some quick example text to build on the card title and make up the bulk of the card's content. "),r.qZA(),r.TgZ(29,"div",7),r.TgZ(30,"button",8),r._uU(31,"Jugar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[".text-yellow[_ngcontent-%COMP%]{color:#ff0!important}"]}),e})();var Ii=n(1555);function Ci(e,t){return new xe.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=(0,ve.D)(e[a]);let u=!1;n.add(l.subscribe({next:e=>{u||(u=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&u||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let Ai=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),ki=(()=>{class e extends Ai{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const xi=new r.OlP("NgValueAccessor"),Oi={provide:xi,useExisting:(0,r.Gpc)(()=>Ri),multi:!0},Ni=new r.OlP("CompositionEventMode");let Ri=(()=>{class e extends Ai{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ni,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([Oi]),r.qOj]}),e})();const Di=new r.OlP("NgValidators"),Pi=new r.OlP("NgAsyncValidators");function Li(e){return null!=e}function Fi(e){const t=(0,r.QGY)(e)?(0,ve.D)(e):e;return(0,r.CqO)(t),t}function Mi(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Ui(e,t){return t.map(t=>t(e))}function Vi(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function ji(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Li);return 0==t.length?null:function(e){return Mi(Ui(e,t))}}(Vi(e)):null}function qi(e){return null!=e?function(e){if(!e)return null;const t=e.filter(Li);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,Se.k)(t))return Ci(t,null);if((0,Ii.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Ci(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Ci(e=1===e.length&&(0,Se.k)(e[0])?e[0]:e,null).pipe((0,qe.U)(e=>t(...e)))}return Ci(e,null)}(Ui(e,t).map(Fi)).pipe((0,qe.U)(Mi))}}(Vi(e)):null}function Zi(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let Bi=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ji(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),zi=(()=>{class e extends Bi{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class Hi extends Bi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $i{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let Gi=(()=>{class e extends $i{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Hi,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),Wi=(()=>{class e extends $i{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(zi,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function Ki(e,t){Yi(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Ji(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Ji(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Qi(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Yi(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Zi(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Zi(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Qi(t._rawValidators,i),Qi(t._rawAsyncValidators,i)}function Ji(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Xi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const es="VALID",ts="INVALID",ns="PENDING",rs="DISABLED";function is(e){return(ls(e)?e.validators:e)||null}function ss(e){return Array.isArray(e)?ji(e):e||null}function os(e,t){return(ls(t)?t.asyncValidators:e)||null}function as(e){return Array.isArray(e)?qi(e):e||null}function ls(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class us{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ss(this._rawValidators),this._composedAsyncValidatorFn=as(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===es}get invalid(){return this.status===ts}get pending(){return this.status==ns}get disabled(){return this.status===rs}get enabled(){return this.status!==rs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ss(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=as(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ns,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rs,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=es,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==es&&this.status!==ns||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rs:es}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ns,this._hasOwnPendingAsyncValidator=!0;const t=Fi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof hs?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof ds&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?rs:this.errors?ts:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ns)?ns:this._anyControlsHaveStatus(ts)?ts:es}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ls(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class cs extends us{constructor(e=null,t,n){super(is(t),os(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Xi(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Xi(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hs extends us{constructor(e,t,n){super(is(t),os(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof cs?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ds extends us{constructor(e,t,n){super(is(t),os(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof cs?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const fs={provide:zi,useExisting:(0,r.Gpc)(()=>gs)},ps=(()=>Promise.resolve(null))();let gs=(()=>{class e extends zi{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new hs({},ji(e),qi(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ps.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),Ki(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ps.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Xi(this._directives,e)})}addFormGroup(e){ps.then(()=>{const t=this._findContainer(e.path),n=new hs({});(function(e,t){Yi(e,t)})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ps.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){ps.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Di,10),r.Y36(Pi,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([fs]),r.qOj]}),e})();const ms={provide:Hi,useExisting:(0,r.Gpc)(()=>vs)},ys=(()=>Promise.resolve(null))();let vs=(()=>{class e extends Hi{constructor(e,t,n,i){super(),this.control=new cs,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Ri?n=e:Object.getPrototypeOf(e.constructor)===ki?r=e:i=e}),i||r||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ki(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ys.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;ys.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(zi,9),r.Y36(Di,10),r.Y36(Pi,10),r.Y36(xi,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([ms]),r.qOj,r.TTD]}),e})(),_s=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),ws=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),bs=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ws]]}),e})(),Ts=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[bs]}),e})();class Es{constructor(){this.email="",this.password=""}}let Ss=(()=>{class e{}return e.STARTS_WITH="startsWith",e.CONTAINS="contains",e.NOT_CONTAINS="notContains",e.ENDS_WITH="endsWith",e.EQUALS="equals",e.NOT_EQUALS="notEquals",e.IN="in",e.LESS_THAN="lt",e.LESS_THAN_OR_EQUAL_TO="lte",e.GREATER_THAN="gt",e.GREATER_THAN_OR_EQUAL_TO="gte",e.BETWEEN="between",e.IS="is",e.IS_NOT="isNot",e.BEFORE="before",e.AFTER="after",e.DATE_IS="dateIs",e.DATE_IS_NOT="dateIsNot",e.DATE_BEFORE="dateBefore",e.DATE_AFTER="dateAfter",e})(),Is=(()=>{class e{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Ss.STARTS_WITH,Ss.CONTAINS,Ss.NOT_CONTAINS,Ss.ENDS_WITH,Ss.EQUALS,Ss.NOT_EQUALS],numeric:[Ss.EQUALS,Ss.NOT_EQUALS,Ss.LESS_THAN,Ss.LESS_THAN_OR_EQUAL_TO,Ss.GREATER_THAN,Ss.GREATER_THAN_OR_EQUAL_TO],date:[Ss.DATE_IS,Ss.DATE_IS_NOT,Ss.DATE_BEFORE,Ss.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new we.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cs=(()=>{class e{constructor(){this.messageSource=new we.xQ,this.clearSource=new we.xQ,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),As=(()=>{class e{constructor(e){this.template=e}getType(){return this.name}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),e})(),ks=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[M]]}),e})();var xs=n(6682),Os=n(309),Ns=n(7771),Rs=n(8858);class Ds extends we.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Ps(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new be.N;if(this.isStopped||this.hasError?s=Tt.w.EMPTY:(this.observers.push(e),s=new Rs.W(this,e)),r&&e.add(e=new Os.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Ns.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class Ps{constructor(e,t){this.time=e,this.value=t}}function Ls(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(u){let c;o++,!i||a?(a=!1,i=new Ds(e,t,r),c=i.subscribe(this),s=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):c=i.subscribe(this),this.add(()=>{o--,c.unsubscribe(),c=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Fs(e,t){return t?Be(()=>e,t):Be(()=>e)}var Ms=n(3101),Us=n(9126),Vs=n(8939),js=n(7841);const qs=new r.OlP("angularfire2.auth.use-emulator"),Zs=new r.OlP("angularfire2.auth.settings"),Bs=new r.OlP("angularfire2.auth.tenant-id"),zs=new r.OlP("angularfire2.auth.langugage-code"),Hs=new r.OlP("angularfire2.auth.use-device-language"),$s=new r.OlP("angularfire.auth.persistence"),Gs=(e,t,n,r,i,s,o,a)=>(0,Us.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let Ws=(()=>{class e{constructor(e,t,r,i,s,o,a,l,u,c,h){const d=new we.xQ,f=(0,_e.of)(void 0).pipe((0,Os.QV)(s.outsideAngular),Be(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,9083)))),(0,qe.U)(()=>(0,Vs.on)(e,i,t)),(0,qe.U)(e=>Gs(e,i,o,l,u,c,a,h)),Ls({bufferSize:1,refCount:!1}));if(U(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,_e.of)(null);else{f.pipe(_t()).subscribe();const e=f.pipe(Be(e=>e.getRedirectResult().then(e=>e,()=>null)),Us.iC,Ls({bufferSize:1,refCount:!1})),t=f.pipe(Be(e=>new xe.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=f.pipe(Be(e=>new xe.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(Fs(t),(0,Ms.R)(s.outsideAngular),(0,Os.QV)(s.insideAngular)),this.user=e.pipe(Fs(n),(0,Ms.R)(s.outsideAngular),(0,Os.QV)(s.insideAngular)),this.idToken=this.user.pipe(Be(e=>e?(0,ve.D)(e.getIdToken()):(0,_e.of)(null))),this.idTokenResult=this.user.pipe(Be(e=>e?(0,ve.D)(e.getIdTokenResult()):(0,_e.of)(null))),this.credential=(0,xs.T)(e,d,this.authState.pipe(et(e=>!e))).pipe((0,qe.U)(e=>(null==e?void 0:e.user)?e:null),(0,Ms.R)(s.outsideAngular),(0,Os.QV)(s.insideAngular))}return(0,Vs.pX)(this,f,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>d.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Vs.Dh),r.LFG(Vs.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Us.HU),r.LFG(qs,8),r.LFG(Zs,8),r.LFG(Bs,8),r.LFG(zs,8),r.LFG(Hs,8),r.LFG($s,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Ks=(()=>{class e{constructor(){js.Z.registerVersion("angularfire",Us.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Ws]}),e})(),Qs=(()=>{class e{constructor(e,t){this.afAuth=e,this.router=t,this.isLogged=!1,e.authState.subscribe(e=>this.isLogged=e),e.onAuthStateChanged(e=>{let t=null==e?void 0:e.multiFactor.user.email.split("@");void 0!==t&&(this.userName=t[0])})}login(e){return this.afAuth.signInWithEmailAndPassword(e.email,e.password)}register(e){return this.afAuth.createUserWithEmailAndPassword(e.email,e.password)}logout(){this.afAuth.signOut(),this.router.navigateByUrl("/login")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ws),r.LFG(ti))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ys=n(3637);function Js(){return e=>e.lift(new Xs)}class Xs{call(e,t){return t.subscribe(new eo(e))}}class eo extends Ie.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class to{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new no(e,this.compare,this.keySelector))}}class no extends Ie.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}n(9083);var ro=n(4486),io=n(6304),so=n(5452),oo=n(6034),ao=n(300),lo=n(4685),uo=function(e,t){return(uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function co(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ho,fo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},po=po||{},go=fo||self;function mo(){}function yo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _o="closure_uid_"+(1e9*Math.random()>>>0),wo=0;function bo(e,t,n){return e.call.apply(e.bind,arguments)}function To(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Eo(e,t,n){return(Eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?bo:To).apply(null,arguments)}function So(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Io(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Co(){this.s=this.s,this.o=this.o}var Ao={};Co.prototype.s=!1,Co.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,_o)&&e[_o]||(e[_o]=++wo)}(this);delete Ao[e]}},Co.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ko=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},xo=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Oo(e){return Array.prototype.concat.apply([],arguments)}function No(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ro(e){return/^[\s\xa0]*$/.test(e)}var Do,Po=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lo(e,t){return-1!=e.indexOf(t)}function Fo(e,t){return e<t?-1:e>t?1:0}e:{var Mo=go.navigator;if(Mo){var Uo=Mo.userAgent;if(Uo){Do=Uo;break e}}Do=""}function Vo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function jo(e){var t={};for(var n in e)t[n]=e[n];return t}var qo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var s=0;s<qo.length;s++)n=qo[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bo(e){return Bo[" "](e),e}Bo[" "]=mo;var zo,Ho,$o=Lo(Do,"Opera"),Go=Lo(Do,"Trident")||Lo(Do,"MSIE"),Wo=Lo(Do,"Edge"),Ko=Wo||Go,Qo=Lo(Do,"Gecko")&&!(Lo(Do.toLowerCase(),"webkit")&&!Lo(Do,"Edge"))&&!(Lo(Do,"Trident")||Lo(Do,"MSIE"))&&!Lo(Do,"Edge"),Yo=Lo(Do.toLowerCase(),"webkit")&&!Lo(Do,"Edge");function Jo(){var e=go.document;return e?e.documentMode:void 0}e:{var Xo="",ea=(Ho=Do,Qo?/rv:([^\);]+)(\)|;)/.exec(Ho):Wo?/Edge\/([\d\.]+)/.exec(Ho):Go?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ho):Yo?/WebKit\/(\S+)/.exec(Ho):$o?/(?:Version)[ \/]?(\S+)/.exec(Ho):void 0);if(ea&&(Xo=ea?ea[1]:""),Go){var ta=Jo();if(null!=ta&&ta>parseFloat(Xo)){zo=String(ta);break e}}zo=Xo}var na={};var ra=go.document&&Go&&(Jo()||parseInt(zo,10))||void 0,ia=function(){if(!go.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{go.addEventListener("test",mo,t),go.removeEventListener("test",mo,t)}catch(n){}return e}();function sa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function oa(e,t){if(sa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qo){e:{try{Bo(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:aa[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oa.Z.h.call(this)}}sa.prototype.h=function(){this.defaultPrevented=!0},Io(oa,sa);var aa={2:"touch",3:"pen",4:"mouse"};oa.prototype.h=function(){oa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var la="closure_listenable_"+(1e6*Math.random()|0),ua=0;function ca(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ua,this.ca=this.fa=!1}function ha(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function da(e){this.src=e,this.g={},this.h=0}function fa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=ko(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ha(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function pa(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}da.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=pa(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ca(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ga="closure_lm_"+(1e6*Math.random()|0),ma={};function ya(e,t,n,r,i){if(r&&r.once)return _a(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ya(e,t[s],n,r,i);return null}return n=Ca(n),e&&e[la]?e.N(t,n,vo(r)?!!r.capture:!!r,i):va(e,t,n,!1,r,i)}function va(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=vo(i)?!!i.capture:!!i,a=Sa(e);if(a||(e[ga]=a=new da(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Ea;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ia||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ta(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _a(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)_a(e,t[s],n,r,i);return null}return n=Ca(n),e&&e[la]?e.O(t,n,vo(r)?!!r.capture:!!r,i):va(e,t,n,!0,r,i)}function wa(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)wa(e,t[s],n,r,i);else r=vo(r)?!!r.capture:!!r,n=Ca(n),e&&e[la]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=pa(s=e.g[t],n,r,i))&&(ha(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Sa(e))&&(t=e.g[t.toString()],e=-1,t&&(e=pa(t,n,r,i)),(n=-1<e?t[e]:null)&&ba(n))}function ba(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[la])fa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ta(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sa(t))?(fa(n,e),0==n.h&&(n.src=null,t[ga]=null)):ha(e)}}}function Ta(e){return e in ma?ma[e]:ma[e]="on"+e}function Ea(e,t){if(e.ca)e=!0;else{t=new oa(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ba(e),e=n.call(r,t)}return e}function Sa(e){return(e=e[ga])instanceof da?e:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ca(e){return"function"==typeof e?e:(e[Ia]||(e[Ia]=function(t){return e.handleEvent(t)}),e[Ia])}function Aa(){Co.call(this),this.i=new da(this),this.P=this,this.I=null}function ka(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new sa(t,e);else if(t instanceof sa)t.target=t.target||e;else{var i=t;Zo(t=new sa(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=xa(o,r,!0,t)&&i}if(i=xa(o=t.g=e,r,!0,t)&&i,i=xa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=xa(o=t.g=n[s],r,!1,t)&&i}function xa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&fa(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Io(Aa,Co),Aa.prototype[la]=!0,Aa.prototype.removeEventListener=function(e,t,n,r){wa(this,e,t,n,r)},Aa.prototype.M=function(){if(Aa.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ha(n[r]);delete t.g[e],t.h--}}this.I=null},Aa.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Aa.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Oa=go.JSON.stringify;function Na(){var e=Va,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ra,Da=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Pa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Pa=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},e}())(function(){return new La},function(e){return e.reset()}),La=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Fa(e){go.setTimeout(function(){throw e},0)}function Ma(e,t){Ra||function(){var e=go.Promise.resolve(void 0);Ra=function(){e.then(ja)}}(),Ua||(Ra(),Ua=!0),Va.add(e,t)}var Ua=!1,Va=new Da;function ja(){for(var e;e=Na();){try{e.h.call(e.g)}catch(n){Fa(n)}var t=Pa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ua=!1}function qa(e,t){Aa.call(this),this.h=e||1,this.g=t||go,this.j=Eo(this.kb,this),this.l=Date.now()}function Za(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ba(e,t,n){if("function"==typeof e)n&&(e=Eo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Eo(e.handleEvent,e)}return 2147483647<Number(t)?-1:go.setTimeout(e,t||0)}function za(e){e.g=Ba(function(){e.g=null,e.i&&(e.i=!1,za(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Io(qa,Aa),(ho=qa.prototype).da=!1,ho.S=null,ho.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ka(this,"tick"),this.da&&(Za(this),this.start()))}},ho.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ho.M=function(){qa.Z.M.call(this),Za(this),delete this.g};var Ha=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}uo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:za(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(go.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Co);function $a(e){Co.call(this),this.h=e,this.g={}}Io($a,Co);var Ga=[];function Wa(e,t,n,r){Array.isArray(n)||(n&&(Ga[0]=n.toString()),n=Ga);for(var i=0;i<n.length;i++){var s=ya(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ka(e){Vo(e.g,function(e,t){this.g.hasOwnProperty(t)&&ba(e)},e),e.g={}}function Qa(){this.g=!0}function Ya(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Oa(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}$a.prototype.M=function(){$a.Z.M.call(this),Ka(this)},$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qa.prototype.Aa=function(){this.g=!1},Qa.prototype.info=function(){};var Ja={},Xa=null;function el(){return Xa=Xa||new Aa}function tl(e){sa.call(this,Ja.Ma,e)}function nl(e){var t=el();ka(t,new tl(t,e))}function rl(e,t){sa.call(this,Ja.STAT_EVENT,e),this.stat=t}function il(e){var t=el();ka(t,new rl(t,e))}function sl(e,t){sa.call(this,Ja.Na,e),this.size=t}function ol(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return go.setTimeout(function(){e()},t)}Ja.Ma="serverreachability",Io(tl,sa),Ja.STAT_EVENT="statevent",Io(rl,sa),Ja.Na="timingevent",Io(sl,sa);var al={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ll={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ul(){}function cl(){}ul.prototype.h=null;var hl,dl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fl(){sa.call(this,"d")}function pl(){sa.call(this,"c")}function gl(){}function ml(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $a(this),this.P=vl,this.W=new qa(e=Ko?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yl}function yl(){this.i=null,this.g="",this.h=!1}Io(fl,sa),Io(pl,sa),Io(gl,ul),gl.prototype.g=function(){return new XMLHttpRequest},gl.prototype.i=function(){return{}},hl=new gl;var vl=45e3,_l={},wl={};function bl(e,t,n){e.K=1,e.v=zl(Ul(t)),e.s=n,e.U=!0,Tl(e,null)}function Tl(e,t){e.F=Date.now(),Cl(e),e.A=Ul(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ru(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yl,e.g=ic(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ha(Eo(e.Ia,e,e.g),e.O)),Wa(e.V,e.g,"readystatechange",e.gb),t=e.H?jo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),nl(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function El(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Sl(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Il(e,n))==wl){4==t&&(e.o=4,il(14),i=!1),Ya(e.j,e.m,null,"[Incomplete Response]");break}if(r==_l){e.o=4,il(15),Ya(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ya(e.j,e.m,r,null),Nl(e,r)}El(e)&&r!=wl&&r!=_l&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,il(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qu(t),t.L=!0,il(11))):(Ya(e.j,e.m,n,"[Invalid Chunked Response]"),Ol(e),xl(e))}function Il(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?wl:(n=Number(t.substring(n,r)),isNaN(n)?_l:(r+=1)+n>t.length?wl:(t=t.substr(r,n),e.C=r+n,t))}function Cl(e){e.Y=Date.now()+e.P,Al(e,e.P)}function Al(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ol(Eo(e.eb,e),t)}function kl(e){e.B&&(go.clearTimeout(e.B),e.B=null)}function xl(e){0==e.l.G||e.I||Xu(e.l,e)}function Ol(e){kl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Za(e.W),Ka(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cu(n.i,e)))if(n.I=e.N,!e.J&&cu(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ju(n),qu(n)}Ku(n),il(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ol(Eo(n.ab,n),6e3));if(1>=uu(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else tc(n,11)}else if((e.J||n.g==e)&&Ju(n),!Ro(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var s=i[t];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=s[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=e.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(Lo(c,"spdy")||Lo(c,"quic")||Lo(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(hu(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Bl(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=e;if((r=n).oa=rc(r,r.H?r.la:null,r.W),f.J){du(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(kl(p),Cl(p)),r.g=f}else Wu(r);0<n.l.length&&zu(n)}else"stop"!=s[0]&&"close"!=s[0]||tc(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?tc(n,7):ju(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}nl(4)}catch(s){}}function Rl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yo(e)||"string"==typeof e)xo(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(yo(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(yo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Dl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Pl(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ll(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ll(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ll(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ho=ml.prototype).setTimeout=function(e){this.P=e},ho.gb=function(e){e=e.target;var t=this.L;t&&3==Lu(e)?t.l():this.Ia(e)},ho.Ia=function(e){try{if(e==this.g)e:{var t=Lu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ko||this.g&&(this.h.h||this.g.ga()||Fu(this.g)))){this.I||4!=t||7==n||nl(8==n||0>=r?3:2),kl(this);var i=this.g.ba();this.N=i;t:if(El(this)){var s=Fu(this.g);e="";var o=s.length,a=4==Lu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ol(this),xl(this);var l="";break t}this.h.i=new go.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=e,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ro(u)){var h=u;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,il(12),Ol(this),xl(this);break e}Ya(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nl(this,i)}this.U?(Sl(this,t,l),Ko&&this.i&&3==t&&(Wa(this.V,this.W,"tick",this.fb),this.W.start())):(Ya(this.j,this.m,l,null),Nl(this,l)),4==t&&Ol(this),this.i&&!this.I&&(4==t?Xu(this.l,this):(this.i=!1,Cl(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,il(12)):(this.o=0,il(13)),Ol(this),xl(this)}}}catch(t){}},ho.fb=function(){if(this.g){var e=Lu(this.g),t=this.g.ga();this.C<t.length&&(kl(this),Sl(this,e,t),this.i&&4!=e&&Cl(this))}},ho.cancel=function(){this.I=!0,Ol(this)},ho.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(nl(3),il(17)),Ol(this),this.o=2,xl(this)):Al(this,this.Y-e)},(ho=Dl.prototype).R=function(){Pl(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ho.T=function(){return Pl(this),this.g.concat()},ho.get=function(e,t){return Ll(this.h,e)?this.h[e]:t},ho.set=function(e,t){Ll(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ho.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Fl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ml(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ml){this.g=void 0!==t?t:e.g,Vl(this,e.j),this.s=e.s,jl(this,e.i),ql(this,e.m),this.l=e.l,t=e.h;var n=new Xl;n.i=t.i,t.g&&(n.g=new Dl(t.g),n.h=t.h),Zl(this,n),this.o=e.o}else e&&(n=String(e).match(Fl))?(this.g=!!t,Vl(this,n[1]||"",!0),this.s=Hl(n[2]||""),jl(this,n[3]||"",!0),ql(this,n[4]),this.l=Hl(n[5]||"",!0),Zl(this,n[6]||"",!0),this.o=Hl(n[7]||"")):(this.g=!!t,this.h=new Xl(null,this.g))}function Ul(e){return new Ml(e)}function Vl(e,t,n){e.j=n?Hl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jl(e,t,n){e.i=n?Hl(t,!0):t}function ql(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zl(e,t,n){t instanceof Xl?(e.h=t,function(e,t){t&&!e.j&&(eu(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tu(this,t),ru(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=$l(t,Yl)),e.h=new Xl(t,e.g))}function Bl(e,t,n){e.h.set(t,n)}function zl(e){return Bl(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $l(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Gl),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gl(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ml.prototype.toString=function(){var e=[],t=this.j;t&&e.push($l(t,Wl,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($l(t,Wl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push($l(n,"/"==n.charAt(0)?Ql:Kl,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$l(n,Jl)),e.join("")};var Wl=/[#\/\?@]/g,Kl=/[#\?:]/g,Ql=/[#\?]/g,Yl=/[#\?@]/g,Jl=/#/g;function Xl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function eu(e){e.g||(e.g=new Dl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tu(e,t){eu(e),t=iu(e,t),Ll(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ll((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Pl(e)))}function nu(e,t){return eu(e),t=iu(e,t),Ll(e.g.h,t)}function ru(e,t,n){tu(e,t),0<n.length&&(e.i=null,e.g.set(iu(e,t),No(n)),e.h+=n.length)}function iu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ho=Xl.prototype).add=function(e,t){eu(this),this.i=null,e=iu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ho.forEach=function(e,t){eu(this),this.g.forEach(function(n,r){xo(n,function(n){e.call(t,n,r,this)},this)},this)},ho.T=function(){eu(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},ho.R=function(e){eu(this);var t=[];if("string"==typeof e)nu(this,e)&&(t=Oo(t,this.g.get(iu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Oo(t,e[n])}return t},ho.set=function(e,t){return eu(this),this.i=null,nu(this,e=iu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ho.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ho.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var su=function(e,t){this.h=e,this.g=t};function ou(e){this.l=e||au,e=go.PerformanceNavigationTiming?0<(e=go.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(go.g&&go.g.Ea&&go.g.Ea()&&go.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var au=10;function lu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function uu(e){return e.h?1:e.g?e.g.size:0}function cu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function hu(e,t){e.g?e.g.add(t):e.h=t}function du(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fu(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=co(e.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){t={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return No(e.i)}function pu(){}function gu(){this.g=new pu}function mu(e,t,n){var r=n||"";try{Rl(e,function(e,n){var i=e;vo(e)&&(i=Oa(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function vu(e){this.l=e.$b||null,this.j=e.ib||!1}function _u(e,t){Aa.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ou.prototype.cancel=function(){var e,t;if(this.i=fu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=co(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},pu.prototype.stringify=function(e){return go.JSON.stringify(e,void 0)},pu.prototype.parse=function(e){return go.JSON.parse(e,void 0)},Io(vu,ul),vu.prototype.g=function(){return new _u(this.l,this.j)},vu.prototype.i=function(e){return function(){return e}}({}),Io(_u,Aa);var wu=0;function bu(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Tu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Eu(e)}function Eu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ho=_u.prototype).open=function(e,t){if(this.readyState!=wu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Eu(this)},ho.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||go).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ho.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tu(this)),this.readyState=wu},ho.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Eu(this)),this.g&&(this.readyState=3,Eu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==go.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bu(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ho.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Tu(this):Eu(this),3==this.readyState&&bu(this)}},ho.Ua=function(e){this.g&&(this.response=this.responseText=e,Tu(this))},ho.Ta=function(e){this.g&&(this.response=e,Tu(this))},ho.ha=function(){this.g&&Tu(this)},ho.setRequestHeader=function(e,t){this.v.append(e,t)},ho.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ho.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_u.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Su=go.JSON.parse;function Iu(e){Aa.call(this),this.headers=new Dl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cu,this.K=this.L=!1}Io(Iu,Aa);var Cu="",Au=/^https?$/i,ku=["POST","PUT"];function xu(e){return"content-type"==e.toLowerCase()}function Ou(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Nu(e),Du(e)}function Nu(e){e.D||(e.D=!0,ka(e,"complete"),ka(e,"error"))}function Ru(e){if(e.h&&void 0!==po&&(!e.C[1]||4!=Lu(e)||2!=e.ba()))if(e.v&&4==Lu(e))Ba(e.Fa,0,e);else if(ka(e,"readystatechange"),4==Lu(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var s=String(e.H).match(Fl)[1]||null;if(!s&&go.self&&go.self.location){var o=go.self.location.protocol;s=o.substr(0,o.length-1)}i=!Au.test(s?s.toLowerCase():"")}t=i}if(t)ka(e,"complete"),ka(e,"success");else{e.m=6;try{var a=2<Lu(e)?e.g.statusText:""}catch(l){a=""}e.j=a+" ["+e.ba()+"]",Nu(e)}}finally{Du(e)}}}function Du(e,t){if(e.g){Pu(e);var n=e.g,r=e.C[0]?mo:null;e.g=null,e.C=null,t||ka(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Pu(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(go.clearTimeout(e.A),e.A=null)}function Lu(e){return e.g?e.g.readyState:0}function Fu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cu:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vo(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Bl(e,t,n))}function Uu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vu(e){this.za=0,this.l=[],this.h=new Qa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uu("baseRetryDelayMs",5e3,e),this.$a=Uu("retryDelaySeedMs",1e4,e),this.Ya=Uu("forwardChannelMaxRetries",2,e),this.ra=Uu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ou(e&&e.concurrentRequestLimit),this.Ca=new gu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ju(e){if(Zu(e),3==e.G){var t=e.V++,n=Ul(e.F);Bl(n,"SID",e.J),Bl(n,"RID",t),Bl(n,"TYPE","terminate"),$u(e,n),(t=new ml(e,e.h,t,void 0)).K=2,t.v=zl(Ul(n)),n=!1,go.navigator&&go.navigator.sendBeacon&&(n=go.navigator.sendBeacon(t.v.toString(),"")),!n&&go.Image&&((new Image).src=t.v,n=!0),n||(t.g=ic(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Cl(t)}nc(e)}function qu(e){e.g&&(Qu(e),e.g.cancel(),e.g=null)}function Zu(e){qu(e),e.u&&(go.clearTimeout(e.u),e.u=null),Ju(e),e.i.cancel(),e.m&&("number"==typeof e.m&&go.clearTimeout(e.m),e.m=null)}function Bu(e,t){e.l.push(new su(e.Za++,t)),3==e.G&&zu(e)}function zu(e){lu(e.i)||e.m||(e.m=!0,Ma(e.Ha,e),e.C=0)}function Hu(e,t){var n;n=t?t.m:e.V++;var r=Ul(e.F);Bl(r,"SID",e.J),Bl(r,"RID",n),Bl(r,"AID",e.U),$u(e,r),e.o&&e.s&&Mu(r,e.o,e.s),n=new ml(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Gu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),hu(e.i,n),bl(n,r,t)}function $u(e,t){e.j&&Rl({},function(e,n){Bl(t,n,e)})}function Gu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Eo(e.j.Oa,e.j,e):null;e:for(var i=e.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=s))s=Math.max(0,i[l].h-100),a=!1;else try{mu(c,o,"req"+u+"_")}catch(Dc){r&&r(c)}}if(a){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Wu(e){e.g||e.u||(e.Y=1,Ma(e.Ga,e),e.A=0)}function Ku(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=ol(Eo(e.Ga,e),ec(e,e.A)),e.A++,0))}function Qu(e){null!=e.B&&(go.clearTimeout(e.B),e.B=null)}function Yu(e){e.g=new ml(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ul(e.oa);Bl(t,"RID","rpc"),Bl(t,"SID",e.J),Bl(t,"CI",e.N?"0":"1"),Bl(t,"AID",e.U),$u(e,t),Bl(t,"TYPE","xmlhttp"),e.o&&e.s&&Mu(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=zl(Ul(t)),n.s=null,n.U=!0,Tl(n,e)}function Ju(e){null!=e.v&&(go.clearTimeout(e.v),e.v=null)}function Xu(e,t){var n=null;if(e.g==t){Ju(e),Qu(e),e.g=null;var r=2}else{if(!cu(e.i,t))return;n=t.D,du(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;ka(r=el(),new sl(r,n,t,i)),zu(e)}else Wu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(uu(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=ol(Eo(e.Ha,e,t),ec(e,e.C)),e.C++,0)))}(e,t)||2==r&&Ku(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tc(e,5);break;case 4:tc(e,10);break;case 3:tc(e,6);break;default:tc(e,2)}}function ec(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function tc(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Eo(e.jb,e);n||(n=new Ml("//www.google.com/images/cleardot.gif"),go.location&&"http"==go.location.protocol||Vl(n,"https"),zl(n)),function(e,t){var n=new Qa;if(go.Image){var r=new Image;r.onload=So(yu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=So(yu,n,r,"TestLoadImage: error",!1,t),r.onabort=So(yu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=So(yu,n,r,"TestLoadImage: timeout",!1,t),go.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else il(2);e.G=0,e.j&&e.j.va(t),nc(e),Zu(e)}function nc(e){e.G=0,e.I=-1,e.j&&(0==fu(e.i).length&&0==e.l.length||(e.i.i.length=0,No(e.l),e.l.length=0),e.j.ua())}function rc(e,t,n){var r=function(e){return e instanceof Ml?Ul(e):new Ml(e,void 0)}(n);if(""!=r.i)t&&jl(r,t+"."+r.i),ql(r,r.m);else{var i=go.location;r=function(e,t,n,r){var i=new Ml(null,void 0);return e&&Vl(i,e),t&&jl(i,t),n&&ql(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vo(e.aa,function(e,t){Bl(r,t,e)}),n=e.sa,(t=e.D)&&n&&Bl(r,t,n),Bl(r,"VER",e.ma),$u(e,r),r}function ic(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Iu(n&&e.Ba&&!e.qa?new vu({ib:!0}):e.qa)).L=e.H,t}function sc(){}function oc(){if(Go&&!(10<=Number(ra)))throw Error("Environmental error: no available transport.")}function ac(e,t){Aa.call(this),this.g=new Vu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ro(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ro(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new cc(this)}function lc(e){fl.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uc(){pl.call(this),this.status=1}function cc(e){this.g=e}(ho=Iu.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hl.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:hl),this.g.onreadystatechange=Eo(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Ou(this,s)}e=n||"";var i=new Dl(this.headers);r&&Rl(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=xu,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=go.FormData&&e instanceof go.FormData,!(0<=ko(ku,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Pu(this),0<this.B&&((this.K=function(e){return Go&&function(){return e=na,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=Po(String(zo)).split("."),n=Po("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var s=t[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;e=Fo(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||Fo(0==s[2].length,0==o[2].length)||Fo(s[2],o[2]),s=s[3],o=o[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Eo(this.pa,this)):this.A=Ba(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ou(this,s)}},ho.pa=function(){void 0!==po&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ka(this,"timeout"),this.abort(8))},ho.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ka(this,"complete"),ka(this,"abort"),Du(this))},ho.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Du(this,!0)),Iu.Z.M.call(this)},ho.Fa=function(){this.s||(this.F||this.v||this.l?Ru(this):this.cb())},ho.cb=function(){Ru(this)},ho.ba=function(){try{return 2<Lu(this)?this.g.status:-1}catch(Ho){return-1}},ho.ga=function(){try{return this.g?this.g.responseText:""}catch(Ho){return""}},ho.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Su(t)}},ho.Da=function(){return this.m},ho.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ho=Vu.prototype).ma=8,ho.G=1,ho.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},ho.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ml(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zo(n=jo(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Gu(this,t,r),Bl(i=Ul(this.F),"RID",e),Bl(i,"CVER",22),this.D&&Bl(i,"X-HTTP-Session-Id",this.D),$u(this,i),this.o&&n&&Mu(i,this.o,n),hu(this.i,t),this.Ra&&Bl(i,"TYPE","init"),this.ja?(Bl(i,"$req",r),Bl(i,"SID","null"),t.$=!0,bl(t,i,null)):bl(t,i,r),this.G=2}}else 3==this.G&&(e?Hu(this,e):0==this.l.length||lu(this.i)||Hu(this))},ho.Ga=function(){if(this.u=null,Yu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ol(Eo(this.bb,this),e)}},ho.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,il(10),qu(this),Yu(this))},ho.ab=function(){null!=this.v&&(this.v=null,qu(this),Ku(this),il(19))},ho.jb=function(e){e?(this.h.info("Successfully pinged google.com"),il(2)):(this.h.info("Failed to ping google.com"),il(1))},(ho=sc.prototype).xa=function(){},ho.wa=function(){},ho.va=function(){},ho.ua=function(){},ho.Oa=function(){},oc.prototype.g=function(e,t){return new ac(e,t)},Io(ac,Aa),ac.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ma(Eo(e.hb,e,t))),il(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=rc(e,null,e.W),zu(e)},ac.prototype.close=function(){ju(this.g)},ac.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Bu(this.g,t)}else this.v?((t={}).__data__=Oa(e),Bu(this.g,t)):Bu(this.g,e)},ac.prototype.M=function(){this.g.j=null,delete this.j,ju(this.g),delete this.g,ac.Z.M.call(this)},Io(lc,fl),Io(uc,pl),Io(cc,sc),cc.prototype.xa=function(){ka(this.g,"a")},cc.prototype.wa=function(e){ka(this.g,new lc(e))},cc.prototype.va=function(e){ka(this.g,new uc(e))},cc.prototype.ua=function(){ka(this.g,"b")},oc.prototype.createWebChannel=oc.prototype.g,ac.prototype.send=ac.prototype.u,ac.prototype.open=ac.prototype.m,ac.prototype.close=ac.prototype.close,al.NO_ERROR=0,al.TIMEOUT=8,al.HTTP_ERROR=6,ll.COMPLETE="complete",cl.EventType=dl,dl.OPEN="a",dl.CLOSE="b",dl.ERROR="c",dl.MESSAGE="d",Aa.prototype.listen=Aa.prototype.N,Iu.prototype.listenOnce=Iu.prototype.O,Iu.prototype.getLastError=Iu.prototype.La,Iu.prototype.getLastErrorCode=Iu.prototype.Da,Iu.prototype.getStatus=Iu.prototype.ba,Iu.prototype.getResponseJson=Iu.prototype.Qa,Iu.prototype.getResponseText=Iu.prototype.ga,Iu.prototype.send=Iu.prototype.ea;var hc=al,dc=ll,fc=Ja,pc=vu,gc=cl,mc=Iu;class yc{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yc.UNAUTHENTICATED=new yc(null),yc.GOOGLE_CREDENTIALS=new yc("google-credentials-uid"),yc.FIRST_PARTY=new yc("first-party-uid"),yc.MOCK_USER=new yc("mock-user");let vc="9.0.1";const _c=new ao.Yd("@firebase/firestore");function wc(){return _c.logLevel}function bc(e,...t){if(_c.logLevel<=ao.in.DEBUG){const n=t.map(Sc);_c.debug(`Firestore (${vc}): ${e}`,...n)}}function Tc(e,...t){if(_c.logLevel<=ao.in.ERROR){const n=t.map(Sc);_c.error(`Firestore (${vc}): ${e}`,...n)}}function Ec(e,...t){if(_c.logLevel<=ao.in.WARN){const n=t.map(Sc);_c.warn(`Firestore (${vc}): ${e}`,...n)}}function Sc(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Ic(e="Unexpected state"){const t=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: `+e;throw Tc(t),new Error(t)}function Cc(e,t){e||Ic()}function Ac(e,t){return e}const kc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xc extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oc{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nc{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Rc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yc.UNAUTHENTICATED))}shutdown(){}}class Dc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pc{constructor(e){this.t=e,this.currentUser=yc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new Oc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oc,e.enqueueRetryable(()=>i(this.currentUser))};const o=t=>{e.enqueueRetryable((0,io.Z)(function*(){bc("FirebaseCredentialsProvider","Auth detected"),n.auth=t,n.auth.addAuthTokenListener(n.o),yield s.promise,yield i(n.currentUser)}))};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(bc("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oc)}},0),e.enqueueRetryable((0,io.Z)(function*(){0===n.i&&(yield s.promise,yield i(n.currentUser))}))}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(bc("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Cc("string"==typeof t.accessToken),new Nc(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cc(null===e||"string"==typeof e),new yc(e)}}class Lc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=yc.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Fc{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Lc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(yc.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Mc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function Uc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Mc.T=-1;class Vc{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Uc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function jc(e,t){return e<t?-1:e>t?1:0}function qc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Zc(e){return e+"\0"}class Bc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xc(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xc(kc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xc(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xc(kc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bc.fromMillis(Date.now())}static fromDate(e){return Bc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Bc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jc(this.nanoseconds,e.nanoseconds):jc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zc(e)}static min(){return new zc(new Bc(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Hc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $c(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Wc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ic(),void 0===n?n=e.length-t:n>e.length-t&&Ic(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kc extends Wc{construct(e,t,n){return new Kc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new xc(kc.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Kc(t)}static emptyPath(){return new Kc([])}}const Qc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yc extends Wc{construct(e,t,n){return new Yc(e,t,n)}static isValidIdentifier(e){return Qc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new xc(kc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new xc(kc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new xc(kc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new xc(kc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yc(t)}static emptyPath(){return new Yc([])}}class Jc{constructor(e){this.fields=e,e.sort(Yc.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Xc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xc(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xc.EMPTY_BYTE_STRING=new Xc("");const eh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function th(e){if(Cc(!!e),"string"==typeof e){let t=0;const n=eh.exec(e);if(Cc(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:nh(e.seconds),nanos:nh(e.nanos)}}function nh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rh(e){return"string"==typeof e?Xc.fromBase64String(e):Xc.fromUint8Array(e)}function ih(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sh(e){const t=e.mapValue.fields.__previous_value__;return ih(t)?sh(t):t}function oh(e){const t=th(e.mapValue.fields.__local_write_time__.timestampValue);return new Bc(t.seconds,t.nanos)}function ah(e){return null==e}function lh(e){return 0===e&&1/e==-1/0}function uh(e){return"number"==typeof e&&Number.isInteger(e)&&!lh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class ch{constructor(e){this.path=e}static fromPath(e){return new ch(Kc.fromString(e))}static fromName(e){return new ch(Kc.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Kc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ch(new Kc(e.slice()))}}function hh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ih(e)?4:10:Ic()}function dh(e,t){const n=hh(e);if(n!==hh(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oh(e).isEqual(oh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=th(e.timestampValue),r=th(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rh(e.bytesValue).isEqual(rh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return nh(e.geoPointValue.latitude)===nh(t.geoPointValue.latitude)&&nh(e.geoPointValue.longitude)===nh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return nh(e.integerValue)===nh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=nh(e.doubleValue),r=nh(t.doubleValue);return n===r?lh(n)===lh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qc(e.arrayValue.values||[],t.arrayValue.values||[],dh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Hc(n)!==Hc(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dh(n[i],r[i])))return!1;return!0}(e,t);default:return Ic()}}function fh(e,t){return void 0!==(e.values||[]).find(e=>dh(e,t))}function ph(e,t){const n=hh(e),r=hh(t);if(n!==r)return jc(n,r);switch(n){case 0:return 0;case 1:return jc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=nh(e.integerValue||e.doubleValue),r=nh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gh(e.timestampValue,t.timestampValue);case 4:return gh(oh(e),oh(t));case 5:return jc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=rh(e),r=rh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=jc(n[i],r[i]);if(0!==e)return e}return jc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=jc(nh(e.latitude),nh(t.latitude));return 0!==n?n:jc(nh(e.longitude),nh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ph(n[i],r[i]);if(e)return e}return jc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=jc(r[o],s[o]);if(0!==e)return e;const t=ph(n[r[o]],i[s[o]]);if(0!==t)return t}return jc(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ic()}}function gh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jc(e,t);const n=th(e),r=th(t),i=jc(n.seconds,r.seconds);return 0!==i?i:jc(n.nanos,r.nanos)}function mh(e){return yh(e)}function yh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=th(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rh(e.bytesValue).toBase64():"referenceValue"in e?ch.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=yh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${yh(e.fields[i])}`;return n+"}"}(e.mapValue):Ic();var t}function vh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function _h(e){return!!e&&"integerValue"in e}function wh(e){return!!e&&"arrayValue"in e}function bh(e){return!!e&&"nullValue"in e}function Th(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Eh(e){return!!e&&"mapValue"in e}function Sh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $c(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Sh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sh(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Ih{constructor(e){this.value=e}static empty(){return new Ih({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sh(t)}setAll(e){let t=Yc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Sh(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Eh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){$c(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ih(Sh(this.value))}}function Ch(e){const t=[];return $c(e.fields,(e,n)=>{const r=new Yc([e]);if(Eh(n)){const e=Ch(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Jc(t)}class Ah{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Ah(e,0,zc.min(),Ih.empty(),0)}static newFoundDocument(e,t,n){return new Ah(e,1,t,n,0)}static newNoDocument(e,t){return new Ah(e,2,t,Ih.empty(),0)}static newUnknownDocument(e,t){return new Ah(e,3,t,Ih.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ih.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ih.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ah&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Ah(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function xh(e,t=null,n=[],r=[],i=null,s=null,o=null){return new kh(e,t,n,r,i,s,o)}function Oh(e){const t=Ac(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+mh(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),ah(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Bh(t.startAt)),t.endAt&&(e+="|ub:",e+=Bh(t.endAt)),t.A=e}return t.A}function Nh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!Hh(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!dh(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gh(e.startAt,t.startAt)&&Gh(e.endAt,t.endAt)}function Rh(e){return ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Dh extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Ph(e,t,n):"array-contains"===t?new Uh(e,n):"in"===t?new Vh(e,n):"not-in"===t?new jh(e,n):"array-contains-any"===t?new qh(e,n):new Dh(e,t,n)}static R(e,t,n){return"in"===t?new Lh(e,n):new Fh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(ph(t,this.value)):null!==t&&hh(this.value)===hh(t)&&this.P(ph(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ic()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ph extends Dh{constructor(e,t,n){super(e,t,n),this.key=ch.fromName(n.referenceValue)}matches(e){const t=ch.comparator(e.key,this.key);return this.P(t)}}class Lh extends Dh{constructor(e,t){super(e,"in",t),this.keys=Mh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fh extends Dh{constructor(e,t){super(e,"not-in",t),this.keys=Mh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ch.fromName(e.referenceValue))}class Uh extends Dh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wh(t)&&fh(t.arrayValue,this.value)}}class Vh extends Dh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fh(this.value.arrayValue,t)}}class jh extends Dh{constructor(e,t){super(e,"not-in",t)}matches(e){if(fh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fh(this.value.arrayValue,t)}}class qh extends Dh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>fh(this.value.arrayValue,e))}}class Zh{constructor(e,t){this.position=e,this.before=t}}function Bh(e){return`${e.before?"b":"a"}:${e.position.map(e=>mh(e)).join(",")}`}class zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function $h(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ch.comparator(ch.fromName(o.referenceValue),n.key):ph(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Gh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dh(e.position[n],t.position[n]))return!1;return!0}class Wh{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Kh(e,t,n,r,i,s,o,a){return new Wh(e,t,n,r,i,s,o,a)}function Qh(e){return new Wh(e)}function Yh(e){return!ah(e.limit)&&"F"===e.limitType}function Jh(e){return!ah(e.limit)&&"L"===e.limitType}function Xh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ed(e){for(const t of e.filters)if(t.v())return t.field;return null}function td(e){return null!==e.collectionGroup}function nd(e){const t=Ac(e);if(null===t.V){t.V=[];const e=ed(t),n=Xh(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new zh(e)),t.V.push(new zh(Yc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new zh(Yc.keyField(),e))}}}return t.V}function rd(e){const t=Ac(e);if(!t.S)if("F"===t.limitType)t.S=xh(t.path,t.collectionGroup,nd(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of nd(t))e.push(new zh(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new Zh(t.endAt.position,!t.endAt.before):null,r=t.startAt?new Zh(t.startAt.position,!t.startAt.before):null;t.S=xh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function id(e,t,n){return new Wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function sd(e,t){return Nh(rd(e),rd(t))&&e.limitType===t.limitType}function od(e){return`${Oh(rd(e))}|lt:${e.limitType}`}function ad(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${mh(t.value)}`;var t}).join(", ")}]`),ah(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+Bh(e.startAt)),e.endAt&&(t+=", endAt: "+Bh(e.endAt)),`Target(${t})`}(rd(e))}; limitType=${e.limitType})`}function ld(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ch.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!$h(e.startAt,nd(e),t)||e.endAt&&$h(e.endAt,nd(e),t))}(e,t)}function ud(e){return(t,n)=>{let r=!1;for(const i of nd(e)){const e=cd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function cd(e,t,n){const r=e.field.isKeyField()?ch.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ph(r,i):Ic()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ic()}}function hd(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(t)?"-0":t}}function dd(e){return{integerValue:""+e}}function fd(e,t){return uh(t)?dd(t):hd(e,t)}class pd{constructor(){this._=void 0}}function gd(e,t,n){return e instanceof vd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof _d?wd(e,t):e instanceof bd?Td(e,t):function(e,t){const n=yd(e,t),r=Sd(n)+Sd(e.C);return _h(n)&&_h(e.C)?dd(r):hd(e.N,r)}(e,t)}function md(e,t,n){return e instanceof _d?wd(e,t):e instanceof bd?Td(e,t):n}function yd(e,t){return e instanceof Ed?_h(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class vd extends pd{}class _d extends pd{constructor(e){super(),this.elements=e}}function wd(e,t){const n=Id(t);for(const r of e.elements)n.some(e=>dh(e,r))||n.push(r);return{arrayValue:{values:n}}}class bd extends pd{constructor(e){super(),this.elements=e}}function Td(e,t){let n=Id(t);for(const r of e.elements)n=n.filter(e=>!dh(e,r));return{arrayValue:{values:n}}}class Ed extends pd{constructor(e,t){super(),this.N=e,this.C=t}}function Sd(e){return nh(e.integerValue||e.doubleValue)}function Id(e){return wh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cd{constructor(e,t){this.field=e,this.transform=t}}class Ad{constructor(e,t){this.version=e,this.transformResults=t}}class kd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kd}static exists(e){return new kd(void 0,e)}static updateTime(e){return new kd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Od{}function Nd(e,t,n){e instanceof Fd?function(e,t,n){const r=e.value.clone(),i=Vd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Md?function(e,t,n){if(!xd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Vd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ud(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rd(e,t,n){e instanceof Fd?function(e,t,n){if(!xd(e.precondition,t))return;const r=e.value.clone(),i=jd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ld(t),r).setHasLocalMutations()}(e,t,n):e instanceof Md?function(e,t,n){if(!xd(e.precondition,t))return;const r=jd(e.fieldTransforms,n,t),i=t.data;i.setAll(Ud(e)),i.setAll(r),t.convertToFoundDocument(Ld(t),i).setHasLocalMutations()}(e,t,n):function(e,t){xd(e.precondition,t)&&t.convertToNoDocument(zc.min())}(e,t)}function Dd(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yd(r.transform,e||null);null!=i&&(null==n&&(n=Ih.empty()),n.set(r.field,i))}return n||null}function Pd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof _d&&t instanceof _d||e instanceof bd&&t instanceof bd?qc(e.elements,t.elements,dh):e instanceof Ed&&t instanceof Ed?dh(e.C,t.C):e instanceof vd&&t instanceof vd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ld(e){return e.isFoundDocument()?e.version:zc.min()}class Fd extends Od{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Md extends Od{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Ud(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Vd(e,t,n){const r=new Map;Cc(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,md(o,a,n[i]))}return r}function jd(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,gd(e,s,t))}return r}class qd extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Zd extends Od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Bd{constructor(e){this.count=e}}var zd,Hd;function $d(e){switch(e){case kc.OK:return Ic();case kc.CANCELLED:case kc.UNKNOWN:case kc.DEADLINE_EXCEEDED:case kc.RESOURCE_EXHAUSTED:case kc.INTERNAL:case kc.UNAVAILABLE:case kc.UNAUTHENTICATED:return!1;case kc.INVALID_ARGUMENT:case kc.NOT_FOUND:case kc.ALREADY_EXISTS:case kc.PERMISSION_DENIED:case kc.FAILED_PRECONDITION:case kc.ABORTED:case kc.OUT_OF_RANGE:case kc.UNIMPLEMENTED:case kc.DATA_LOSS:return!0;default:return Ic()}}function Gd(e){if(void 0===e)return Tc("GRPC error has no .code"),kc.UNKNOWN;switch(e){case zd.OK:return kc.OK;case zd.CANCELLED:return kc.CANCELLED;case zd.UNKNOWN:return kc.UNKNOWN;case zd.DEADLINE_EXCEEDED:return kc.DEADLINE_EXCEEDED;case zd.RESOURCE_EXHAUSTED:return kc.RESOURCE_EXHAUSTED;case zd.INTERNAL:return kc.INTERNAL;case zd.UNAVAILABLE:return kc.UNAVAILABLE;case zd.UNAUTHENTICATED:return kc.UNAUTHENTICATED;case zd.INVALID_ARGUMENT:return kc.INVALID_ARGUMENT;case zd.NOT_FOUND:return kc.NOT_FOUND;case zd.ALREADY_EXISTS:return kc.ALREADY_EXISTS;case zd.PERMISSION_DENIED:return kc.PERMISSION_DENIED;case zd.FAILED_PRECONDITION:return kc.FAILED_PRECONDITION;case zd.ABORTED:return kc.ABORTED;case zd.OUT_OF_RANGE:return kc.OUT_OF_RANGE;case zd.UNIMPLEMENTED:return kc.UNIMPLEMENTED;case zd.DATA_LOSS:return kc.DATA_LOSS;default:return Ic()}}(Hd=zd||(zd={}))[Hd.OK=0]="OK",Hd[Hd.CANCELLED=1]="CANCELLED",Hd[Hd.UNKNOWN=2]="UNKNOWN",Hd[Hd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hd[Hd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hd[Hd.NOT_FOUND=5]="NOT_FOUND",Hd[Hd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hd[Hd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hd[Hd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hd[Hd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hd[Hd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hd[Hd.ABORTED=10]="ABORTED",Hd[Hd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hd[Hd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hd[Hd.INTERNAL=13]="INTERNAL",Hd[Hd.UNAVAILABLE=14]="UNAVAILABLE",Hd[Hd.DATA_LOSS=15]="DATA_LOSS";class Wd{constructor(e,t){this.comparator=e,this.root=t||Qd.EMPTY}insert(e,t){return new Wd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qd.BLACK,null,null))}remove(e){return new Wd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kd(this.root,e,this.comparator,!0)}}class Kd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qd{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Qd.RED,this.left=null!=r?r:Qd.EMPTY,this.right=null!=i?i:Qd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Qd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Qd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ic();if(this.right.isRed())throw Ic();const e=this.left.check();if(e!==this.right.check())throw Ic();return e+(this.isRed()?0:1)}}Qd.EMPTY=null,Qd.RED=!0,Qd.BLACK=!1,Qd.EMPTY=new class{constructor(){this.size=0}get key(){throw Ic()}get value(){throw Ic()}get color(){throw Ic()}get left(){throw Ic()}get right(){throw Ic()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Qd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yd{constructor(e){this.comparator=e,this.data=new Wd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(e){return new Jd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Yd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yd(this.comparator);return t.data=e,t}}class Jd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Xd=new Wd(ch.comparator);function ef(){return Xd}const tf=new Wd(ch.comparator);function nf(){return tf}const rf=new Wd(ch.comparator);function sf(){return rf}const of=new Yd(ch.comparator);function af(...e){let t=of;for(const n of e)t=t.add(n);return t}const lf=new Yd(jc);function uf(){return lf}class cf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,t)),new cf(zc.min(),n,uf(),ef(),af())}}class hf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new hf(Xc.EMPTY_BYTE_STRING,t,af(),af(),af())}}class df{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class ff{constructor(e,t){this.targetId=e,this.O=t}}class pf{constructor(e,t,n=Xc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gf{constructor(){this.F=0,this.M=vf(),this.L=Xc.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=af(),t=af(),n=af();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ic()}}),new hf(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=vf()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class mf{constructor(e){this.tt=e,this.et=new Map,this.nt=ef(),this.st=yf(),this.it=new Yd(jc)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Ic()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Rh(e))if(0===n){const n=new ch(e.path);this.at(t,n,Ah.newNoDocument(n,zc.min()))}else Cc(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Rh(i.target)){const t=new ch(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Ah.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=af();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new cf(e,t,this.it,this.nt,n);return this.nt=ef(),this.st=yf(),this.it=new Yd(jc),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new gf,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Yd(jc),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||bc("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new gf),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function yf(){return new Wd(ch.comparator)}function vf(){return new Wd(ch.comparator)}const _f={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class bf{constructor(e,t){this.databaseId=e,this.D=t}}function Tf(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ef(e,t){return e.D?t.toBase64():t.toUint8Array()}function Sf(e,t){return Tf(e,t.toTimestamp())}function If(e){return Cc(!!e),zc.fromTimestamp(function(e){const t=th(e);return new Bc(t.seconds,t.nanos)}(e))}function Cf(e,t){return function(e){return new Kc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Af(e){const t=Kc.fromString(e);return Cc(Yf(t)),t}function kf(e,t){return Cf(e.databaseId,t.path)}function xf(e,t){const n=Af(t);if(n.get(1)!==e.databaseId.projectId)throw new xc(kc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new xc(kc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ch(Df(n))}function Of(e,t){return Cf(e.databaseId,t)}function Nf(e){const t=Af(e);return 4===t.length?Kc.emptyPath():Df(t)}function Rf(e){return new Kc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Df(e){return Cc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Pf(e,t,n){return{name:kf(e,t),fields:n.value.mapValue.fields}}function Lf(e,t,n){const r=xf(e,t.name),i=If(t.updateTime),s=new Ih({mapValue:{fields:t.fields}}),o=Ah.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ff(e,t){let n;if(t instanceof Fd)n={update:Pf(e,t.key,t.value)};else if(t instanceof qd)n={delete:kf(e,t.key)};else if(t instanceof Md)n={update:Pf(e,t.key,t.data),updateMask:Qf(t.fieldMask)};else{if(!(t instanceof Zd))return Ic();n={verify:kf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof vd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof _d)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ed)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Ic()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ic()}(e,t.precondition)),n}function Mf(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?kd.updateTime(If(e.updateTime)):void 0!==e.exists?kd.exists(e.exists):kd.none()}(t.currentDocument):kd.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Cc("REQUEST_TIME"===t.setToServerValue),n=new vd):"appendMissingElements"in t?n=new _d(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new bd(t.removeAllFromArray.values||[]):"increment"in t?n=new Ed(e,t.increment):Ic();const r=Yc.fromServerFormat(t.fieldPath);return new Cd(r,n)}(e,t)):[];if(t.update){const i=xf(e,t.update.name),s=new Ih({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Jc((e.fieldPaths||[]).map(e=>Yc.fromServerFormat(e)))}(t.updateMask);return new Md(i,s,e,n,r)}return new Fd(i,s,n,r)}if(t.delete){const r=xf(e,t.delete);return new qd(r,n)}if(t.verify){const r=xf(e,t.verify);return new Zd(r,n)}return Ic()}function Uf(e,t){return{documents:[Of(e,t.path)]}}function Vf(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Of(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Of(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Th(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NAN"}};if(bh(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Th(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NAN"}};if(bh(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$f(e.field),op:Hf(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:$f(e.field),direction:zf(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||ah(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Zf(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Zf(t.endAt)),n}function jf(e){let t=Nf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cc(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=qf(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new zh(Gf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ah(t)?null:t}(n.limit));let l=null;n.startAt&&(l=Bf(n.startAt));let u=null;return n.endAt&&(u=Bf(n.endAt)),Kh(t,i,o,s,a,"F",l,u)}function qf(e){return e?void 0!==e.unaryFilter?[Kf(e)]:void 0!==e.fieldFilter?[Wf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>qf(e)).reduce((e,t)=>e.concat(t)):Ic():[]}function Zf(e){return{before:e.before,values:e.position}}function Bf(e){return new Zh(e.values||[],!!e.before)}function zf(e){return _f[e]}function Hf(e){return wf[e]}function $f(e){return{fieldPath:e.canonicalString()}}function Gf(e){return Yc.fromServerFormat(e.fieldPath)}function Wf(e){return Dh.create(Gf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ic()}}(e.fieldFilter.op),e.fieldFilter.value)}function Kf(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gf(e.unaryFilter.field);return Dh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gf(e.unaryFilter.field);return Dh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gf(e.unaryFilter.field);return Dh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gf(e.unaryFilter.field);return Dh.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ic()}}function Qf(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Yf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Jf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ep(t)),t=Xf(e.get(n),t);return ep(t)}function Xf(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function ep(e){return e+"\x01\x01"}function tp(e){const t=e.length;if(Cc(t>=2),2===t)return Cc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Kc.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Ic(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Ic()}s=t+2}return new Kc(r)}class np{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class rp{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}rp.store="owner",rp.key="owner";class ip{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}ip.store="mutationQueues",ip.keyPath="userId";class sp{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}sp.store="mutations",sp.keyPath="batchId",sp.userMutationsIndex="userMutationsIndex",sp.userMutationsKeyPath=["userId","batchId"];class op{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Jf(t)]}static key(e,t,n){return[e,Jf(t),n]}}op.store="documentMutations",op.PLACEHOLDER=new op;class ap{constructor(e,t){this.path=e,this.readTime=t}}class lp{constructor(e,t){this.path=e,this.version=t}}class up{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}up.store="remoteDocuments",up.readTimeIndex="readTimeIndex",up.readTimeIndexPath="readTime",up.collectionReadTimeIndex="collectionReadTimeIndex",up.collectionReadTimeIndexPath=["parentPath","readTime"];class cp{constructor(e){this.byteSize=e}}cp.store="remoteDocumentGlobal",cp.key="remoteDocumentGlobalKey";class hp{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}hp.store="targets",hp.keyPath="targetId",hp.queryTargetsIndexName="queryTargetsIndex",hp.queryTargetsKeyPath=["canonicalId","targetId"];class dp{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}dp.store="targetDocuments",dp.keyPath=["targetId","path"],dp.documentTargetsIndex="documentTargetsIndex",dp.documentTargetsKeyPath=["path","targetId"];class fp{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}fp.key="targetGlobalKey",fp.store="targetGlobal";class pp{constructor(e,t){this.collectionId=e,this.parent=t}}pp.store="collectionParents",pp.keyPath=["collectionId","parent"];class gp{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}gp.store="clientMetadata",gp.keyPath="clientId";class mp{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}mp.store="bundles",mp.keyPath="bundleId";class yp{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}yp.store="namedQueries",yp.keyPath="name";const vp=[ip.store,sp.store,op.store,up.store,hp.store,rp.store,fp.store,dp.store,gp.store,cp.store,pp.store,mp.store,yp.store],_p="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class bp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ic(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new bp((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof bp?t:bp.resolve(t)}catch(e){return bp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):bp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):bp.reject(t)}static resolve(e){return new bp((t,n)=>{t(e)})}static reject(e){return new bp((t,n)=>{n(e)})}static waitFor(e){return new bp((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=bp.resolve(!1);for(const n of e)t=t.next(e=>e?bp.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Tp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new Oc,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new Ip(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=Op(t.target.error);this.Tt.reject(new Ip(e,n))}}static open(e,t,n,r){try{return new Tp(t,e.transaction(r,n))}catch(e){throw new Ip(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(bc("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Ap(t)}}class Ep{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Ep.Rt((0,lo.z$)())&&Tc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return bc("SimpleDb","Removing database:",e),kp(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Ep.bt())return!0;const e=(0,lo.z$)(),t=Ep.Rt(e),n=0<t&&t<10,r=Ep.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static bt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,io.Z)(function*(){return t.db||(bc("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Ip(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new xc(kc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ip(e,n))},i.onupgradeneeded=e=>{bc("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{bc("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,io.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=Tp.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),bp.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(bc("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sp{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return kp(this.kt.delete())}}class Ip extends xc{constructor(e,t){super(kc.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Cp(e){return"IndexedDbTransactionError"===e.name}class Ap{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(bc("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(bc("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kp(n)}add(e){return bc("SimpleDb","ADD",this.store.name,e,e),kp(this.store.add(e))}get(e){return kp(this.store.get(e)).next(t=>(void 0===t&&(t=null),bc("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return bc("SimpleDb","DELETE",this.store.name,e),kp(this.store.delete(e))}count(){return bc("SimpleDb","COUNT",this.store.name),kp(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){bc("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new bp((n,r)=>{t.onerror=e=>{const t=Op(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new bp((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Sp(i),o=t(i.primaryKey,i.value,s);if(o instanceof bp){const e=o.catch(e=>(s.done(),bp.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>bp.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kp(e){return new bp((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Op(e.target.error);n(t)}})}let xp=!1;function Op(e){const t=Ep.Rt((0,lo.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new xc("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xp||(xp=!0,setTimeout(()=>{throw e},0)),e}}return e}class Np extends wp{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Rp(e,t){const n=Ac(e);return Ep.St(n.Qt,t)}class Dp{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Nd(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Rd(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Rd(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(zc.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),af())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(e,t)=>Pd(e,t))&&qc(this.baseMutations,e.baseMutations,(e,t)=>Pd(e,t))}}class Pp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Cc(e.mutations.length===n.length);let r=sf();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Pp(e,t,n,r)}}class Lp{constructor(e,t,n,r,i=zc.min(),s=zc.min(),o=Xc.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Lp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Lp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Fp{constructor(e){this.Wt=e}}function Mp(e,t){if(t.document)return Lf(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ch.fromSegments(t.noDocument.path),n=Zp(t.noDocument.readTime),r=Ah.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=ch.fromSegments(t.unknownDocument.path),n=Zp(t.unknownDocument.version);return Ah.newUnknownDocument(e,n)}return Ic()}function Up(e,t,n){const r=Vp(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:kf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Tf(e,t.version.toTimestamp())}}(e.Wt,t);return new up(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=qp(t.version),s=t.hasCommittedMutations;return new up(null,new ap(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=qp(t.version);return new up(new lp(e,n),null,null,!0,r,i)}return Ic()}function Vp(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function jp(e){const t=new Bc(e[0],e[1]);return zc.fromTimestamp(t)}function qp(e){const t=e.toTimestamp();return new np(t.seconds,t.nanoseconds)}function Zp(e){const t=new Bc(e.seconds,e.nanoseconds);return zc.fromTimestamp(t)}function Bp(e,t){const n=(t.baseMutations||[]).map(t=>Mf(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>Mf(e.Wt,t)),i=Bc.fromMillis(t.localWriteTimeMs);return new Dp(t.batchId,i,n,r)}function zp(e){const t=Zp(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Zp(e.lastLimboFreeSnapshotVersion):zc.min();let r;var i;return void 0!==e.query.documents?(Cc(1===(i=e.query).documents.length),r=rd(Qh(Nf(i.documents[0])))):r=function(e){return rd(jf(e))}(e.query),new Lp(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Xc.fromBase64String(e.resumeToken))}function Hp(e,t){const n=qp(t.snapshotVersion),r=qp(t.lastLimboFreeSnapshotVersion);let i;i=Rh(t.target)?Uf(e.Wt,t.target):Vf(e.Wt,t.target);const s=t.resumeToken.toBase64();return new hp(t.targetId,Oh(t.target),n,s,t.sequenceNumber,r,i)}function $p(e){const t=jf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?id(t,t.limit,"L"):t}class Gp{getBundleMetadata(e,t){return Wp(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Zp(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Wp(e).put({bundleId:(n=t).id,createTime:qp(If(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Kp(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:$p(t.bundledQuery),readTime:Zp(t.readTime)};var t})}saveNamedQuery(e,t){return Kp(e).put(function(e){return{name:e.name,readTime:qp(If(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Wp(e){return Rp(e,mp.store)}function Kp(e){return Rp(e,yp.store)}class Qp{constructor(){this.Gt=new Yp}addToCollectionParentIndex(e,t){return this.Gt.add(t),bp.resolve()}getCollectionParents(e,t){return bp.resolve(this.Gt.getEntries(t))}}class Yp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Yd(Kc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Yd(Kc.comparator)).toArray()}}class Jp{constructor(){this.zt=new Yp}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:Jf(r)};return Xp(e).put(i)}return bp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Zc(t),""],!1,!0);return Xp(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(tp(r.parent))}return n})}}function Xp(e){return Rp(e,pp.store)}const eg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tg{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new tg(e,tg.DEFAULT_COLLECTION_PERCENTILE,tg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ng(e,t,n){const r=e.store(sp.store),i=e.store(op.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{Cc(1===a)}));const u=[];for(const c of n.mutations){const e=op.key(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return bp.waitFor(s).next(()=>u)}function rg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ic();t=e.noDocument}return JSON.stringify(t).length}tg.DEFAULT_COLLECTION_PERCENTILE=10,tg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tg.DEFAULT=new tg(41943040,tg.DEFAULT_COLLECTION_PERCENTILE,tg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tg.DISABLED=new tg(-1,0,0);class ig{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Cc(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ig(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return og(e).Kt({index:sp.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=ag(e),s=og(e);return s.add({}).next(o=>{Cc("number"==typeof o);const a=new Dp(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>Ff(e.Wt,t)),i=n.mutations.map(t=>Ff(e.Wt,t));return new sp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),u=[];let c=new Yd((e,t)=>jc(e.canonicalString(),t.canonicalString()));for(const e of r){const t=op.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,op.PLACEHOLDER))}return c.forEach(t=>{u.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),bp.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return og(e).get(t).next(e=>e?(Cc(e.userId===this.userId),Bp(this.N,e)):null)}Xt(e,t){return this.Jt[t]?bp.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return og(e).Kt({index:sp.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Cc(t.batchId>=n),i=Bp(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return og(e).Kt({index:sp.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return og(e).Lt(sp.userMutationsIndex,t).next(e=>e.map(e=>Bp(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=op.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ag(e).Kt({range:r},(n,r,s)=>{const[o,a,l]=n,u=tp(a);if(o===this.userId&&t.path.isEqual(u))return og(e).get(l).next(e=>{if(!e)throw Ic();Cc(e.userId===this.userId),i.push(Bp(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yd(jc);const r=[];return t.forEach(t=>{const i=op.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=ag(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,l=tp(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),bp.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=op.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Yd(jc);return ag(e).Kt({range:s},(e,t,i)=>{const[s,a,l]=e,u=tp(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(og(e).get(t).next(e=>{if(null===e)throw Ic();Cc(e.userId===this.userId),n.push(Bp(this.N,e))}))}),bp.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return ng(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),bp.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return bp.resolve();const n=IDBKeyRange.lowerBound(op.prefixForUser(this.userId)),r=[];return ag(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=tp(e[1]);r.push(t)}else n.done()}).next(()=>{Cc(0===r.length)})})}containsKey(e,t){return sg(e,this.userId,t)}ee(e){return lg(e).get(this.userId).next(e=>e||new ip(this.userId,-1,""))}}function sg(e,t,n){const r=op.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ag(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function og(e){return Rp(e,sp.store)}function ag(e){return Rp(e,op.store)}function lg(e){return Rp(e,ip.store)}class ug{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new ug(0)}static ie(){return new ug(-1)}}class cg{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new ug(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>zc.fromTimestamp(new Bc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hg(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Cc(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return hg(e).Kt((s,o)=>{const a=zp(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>bp.waitFor(i)).next(()=>r)}forEachTarget(e,t){return hg(e).Kt((e,n)=>{const r=zp(n);t(r)})}re(e){return dg(e).get(fp.key).next(e=>(Cc(null!==e),e))}oe(e,t){return dg(e).put(fp.key,t)}ae(e,t){return hg(e).put(Hp(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Oh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return hg(e).Kt({range:r,index:hp.queryTargetsIndexName},(e,n,r)=>{const s=zp(n);Nh(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=fg(e);return t.forEach(t=>{const s=Jf(t.path);r.push(i.put(new dp(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),bp.waitFor(r)}removeMatchingKeys(e,t,n){const r=fg(e);return bp.forEach(t,t=>{const i=Jf(t.path);return bp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=fg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fg(e);let i=af();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=tp(e[1]),s=new ch(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=Jf(t.path),r=IDBKeyRange.bound([n],[Zc(n)],!1,!0);let i=0;return fg(e).Kt({index:dp.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return hg(e).get(t).next(e=>e?zp(e):null)}}function hg(e){return Rp(e,hp.store)}function dg(e){return Rp(e,fp.store)}function fg(e){return Rp(e,dp.store)}function pg(e){return gg.apply(this,arguments)}function gg(){return(gg=(0,io.Z)(function*(e){if(e.code!==kc.FAILED_PRECONDITION||e.message!==_p)throw e;bc("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function mg([e,t],[n,r]){const i=jc(e,n);return 0===i?jc(t,r):i}class yg{constructor(e){this.ue=e,this.buffer=new Yd(mg),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();mg(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vg{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;bc("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,io.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){Cp(e)?bc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield pg(e)}yield t._e(e)}))}}class _g{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return bp.resolve(Mc.T);const n=new yg(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(bc("LruGarbageCollector","Garbage collection skipped; disabled"),bp.resolve(eg)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(bc("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eg):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(bc("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),wc()<=ao.in.DEBUG&&bc("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),bp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class wg{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new _g(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return bg(e,n)}removeReference(e,t,n){return bg(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return bg(e,t)}Ie(e,t){return function(e,t){let n=!1;return lg(e).jt(r=>sg(e,r,t).next(e=>(e&&(n=!0),bp.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),fg(e).delete([0,Jf(s.path)])))});r.push(t)}}).next(()=>bp.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return bg(e,t)}Te(e,t){const n=fg(e);let r,i=Mc.T;return n.Kt({index:dp.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Mc.T&&t(new ch(tp(r)),i),i=o,r=s):i=Mc.T}).next(()=>{i!==Mc.T&&t(new ch(tp(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bg(e,t){return fg(e).put(function(e,t){return new dp(0,Jf(e.path),t)}(t,e.currentSequenceNumber))}class Tg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){$c(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Gc(this.inner)}}class Eg{constructor(){this.changes=new Tg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:zc.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Ah.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?bp.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Sg{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Ag(e).put(kg(t),n)}removeEntry(e,t){const n=Ag(e),r=kg(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return Ag(e).get(kg(t)).next(e=>this.Re(t,e))}Pe(e,t){return Ag(e).get(kg(t)).next(e=>({document:this.Re(t,e),size:rg(e)}))}getEntries(e,t){let n=ef();return this.be(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=ef(),r=new Wd(ch.comparator);return this.be(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,rg(t))}).next(()=>({documents:n,Ve:r}))}be(e,t,n){if(t.isEmpty())return bp.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Ag(e).Kt({range:r},(e,t,r)=>{const o=ch.fromSegments(e);for(;s&&ch.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=ef();const i=t.path.length+1,s={};if(n.isEqual(zc.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Vp(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=up.collectionReadTimeIndex}return Ag(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=Mp(this.N,n);t.path.isPrefixOf(o.key.path)?ld(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new Ig(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Cg(e).get(cp.key).next(e=>(Cc(!!e),e))}Ae(e,t){return Cg(e).put(cp.key,t)}Re(e,t){if(t){const e=Mp(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(zc.min()))return e}return Ah.newInvalidDocument(e)}}class Ig extends Eg{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Tg(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Yd((e,t)=>jc(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=Up(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=rg(a);n+=l-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Up(this.Se.N,Ah.newNoDocument(i,zc.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),bp.waitFor(t)}getFromCache(e,t){return this.Se.Pe(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Cg(e){return Rp(e,cp.store)}function Ag(e){return Rp(e,up.store)}function kg(e){return e.path.toArray()}class xg{constructor(e){this.N=e}Ct(e,t,n,r){Cc(n<r&&n>=0&&r<=11);const i=new Tp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(rp.store)}(e),function(e){e.createObjectStore(ip.store,{keyPath:ip.keyPath}),e.createObjectStore(sp.store,{keyPath:sp.keyPath,autoIncrement:!0}).createIndex(sp.userMutationsIndex,sp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(op.store)}(e),Og(e),function(e){e.createObjectStore(up.store)}(e));let s=bp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(dp.store),e.deleteObjectStore(hp.store),e.deleteObjectStore(fp.store)}(e),Og(e)),s=s.next(()=>function(e){const t=e.store(fp.store),n=new fp(0,0,zc.min().toTimestamp(),0);return t.put(fp.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(sp.store).Lt().next(n=>{e.deleteObjectStore(sp.store),e.createObjectStore(sp.store,{keyPath:sp.keyPath,autoIncrement:!0}).createIndex(sp.userMutationsIndex,sp.userMutationsKeyPath,{unique:!0});const r=t.store(sp.store),i=n.map(e=>r.put(e));return bp.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(gp.store,{keyPath:gp.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(cp.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(up.store);t.createIndex(up.readTimeIndex,up.readTimeIndexPath,{unique:!1}),t.createIndex(up.collectionReadTimeIndex,up.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(mp.store,{keyPath:mp.keyPath})}(e),function(e){e.createObjectStore(yp.store,{keyPath:yp.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(up.store).Kt((e,n)=>{t+=rg(n)}).next(()=>{const n=new cp(t);return e.store(cp.store).put(cp.key,n)})}Ce(e){const t=e.store(ip.store),n=e.store(sp.store);return t.Lt().next(t=>bp.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(sp.userMutationsIndex,r).next(n=>bp.forEach(n,n=>{Cc(n.userId===t.userId);const r=Bp(this.N,n);return ng(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(dp.store),n=e.store(up.store);return e.store(fp.store).get(fp.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new Kc(n),o=function(e){return[0,Jf(e)]}(s);r.push(t.get(o).next(n=>n?bp.resolve():(n=>t.put(new dp(0,Jf(n),e.highestListenSequenceNumber)))(s)))}).next(()=>bp.waitFor(r))})}ke(e,t){e.createObjectStore(pp.store,{keyPath:pp.keyPath});const n=t.store(pp.store),r=new Yp,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Jf(r)})}};return t.store(up.store).Kt({qt:!0},(e,t)=>{const n=new Kc(e);return i(n.popLast())}).next(()=>t.store(op.store).Kt({qt:!0},([e,t,n],r)=>{const s=tp(t);return i(s.popLast())}))}$e(e){const t=e.store(hp.store);return t.Kt((e,n)=>{const r=zp(n),i=Hp(this.N,r);return t.put(i)})}}function Og(e){e.createObjectStore(dp.store,{keyPath:dp.keyPath}).createIndex(dp.documentTargetsIndex,dp.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(hp.store,{keyPath:hp.keyPath}).createIndex(hp.queryTargetsIndexName,hp.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(fp.store)}const Ng="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rg{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=l,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Rg.Pt())throw new xc(kc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wg(this,r),this.We=t+"main",this.N=new Fp(a),this.Ge=new Ep(this.We,11,new xg(this.N)),this.ze=new cg(this.referenceDelegate,this.N),this.Ht=new Jp,this.He=function(e,t){return new Sg(e,t)}(this.N,this.Ht),this.Je=new Gp,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&Tc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xc(kc.FAILED_PRECONDITION,Ng);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Mc(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,io.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,io.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,io.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Pg(e).put(new gp(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Cp(e))return bc("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return bc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Dg(e).get(rp.key).next(e=>bp.resolve(this.cn(e)))}un(e){return Pg(e).delete(this.clientId)}hn(){var e=this;return(0,io.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=Rp(t,gp.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return bp.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?bp.resolve(!0):Dg(e).get(rp.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new xc(kc.FAILED_PRECONDITION,Ng);return!1}}return!(!this.networkEnabled||!this.inForeground)||Pg(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&bc("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,io.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[rp.store,gp.store],t=>{const n=new Np(t,Mc.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Pg(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return ig.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return bc("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",vp,i=>(r=new Np(i,this.Le?this.Le.next():Mc.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Tc(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new xc(kc.FAILED_PRECONDITION,_p);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Dg(e).get(rp.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xc(kc.FAILED_PRECONDITION,Ng)})}an(e){const t=new rp(this.clientId,this.allowTabSynchronization,Date.now());return Dg(e).put(rp.key,t)}static Pt(){return Ep.Pt()}on(e){const t=Dg(e);return t.get(rp.key).next(e=>this.cn(e)?(bc("IndexedDbPersistence","Releasing primary lease."),t.delete(rp.key)):bp.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Tc(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,lo.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return bc("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Tc("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Tc("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Dg(e){return Rp(e,rp.store)}function Pg(e){return Rp(e,gp.store)}function Lg(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Fg{constructor(e,t){this.progress=e,this.Tn=t}}class Mg{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}Pn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}bn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.Pn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return ch.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):td(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new ch(t)).next(e=>{let t=nf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=nf();return this.Ht.getCollectionParents(e,r).next(s=>bp.forEach(s,s=>{const o=function(e,t){return new Wh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Ah.newInvalidDocument(n),r=r.insert(n,i)),Rd(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{ld(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=af();for(const s of t)for(const e of s.mutations)e instanceof Md&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Ug{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=af(),r=af();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ug(e,t.fromCache,n,r)}}class Vg{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(zc.min())?this.Fn(e,t):this.On.bn(e,r).next(i=>{const s=this.Mn(t,i);return(Yh(t)||Jh(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(wc()<=ao.in.DEBUG&&bc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ad(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new Yd(ud(e));return t.forEach((t,r)=>{ld(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return wc()<=ao.in.DEBUG&&bc("QueryEngine","Using full collection scan to execute query:",ad(t)),this.On.getDocumentsMatchingQuery(e,t,zc.min())}}class jg{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new Wd(jc),this.qn=new Tg(e=>Oh(e),Nh),this.Kn=zc.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Mg(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function qg(e,t,n,r){return new jg(e,t,n,r)}function Zg(e,t){return Bg.apply(this,arguments)}function Bg(){return(Bg=(0,io.Z)(function*(e,t){const n=Ac(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Mg(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=af();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.bn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function zg(e,t){const n=Ac(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=bp.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Cc(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.bn(e,r))})}function Hg(e){const t=Ac(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function $g(e,t){const n=Ac(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return Cc(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.ze.updateTargetData(e,u))}});let a=ef();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Gg(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(zc.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return bp.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function Gg(e,t,n,r,i){let s=af();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=ef();return n.forEach((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(zc.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):bc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Wg(e,t){const n=Ac(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function Kg(e,t){const n=Ac(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,bp.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new Lp(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Qg(e,t,n){return Yg.apply(this,arguments)}function Yg(){return(Yg=(0,io.Z)(function*(e,t,n){const r=Ac(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Cp(e))throw e;bc("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function Jg(e,t,n){const r=Ac(e);let i=zc.min(),s=af();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Ac(e),i=r.qn.get(n);return void 0!==i?bp.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,rd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:zc.min(),n?s:af())).next(e=>({documents:e,Gn:s})))}function Xg(e,t){const n=Ac(e),r=Ac(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function em(e){const t=Ac(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Ac(e);let i=ef(),s=Vp(n);const o=Ag(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:up.readTimeIndex,range:a},(e,t)=>{const n=Mp(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({Tn:i,readTime:jp(s)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}function tm(){return(tm=(0,io.Z)(function*(e){const t=Ac(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=Ag(e);let n=zc.min();return t.Kt({index:up.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=jp(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function nm(){return(nm=(0,io.Z)(function*(e,t,n,r){const i=Ac(e);let s=af(),o=ef(),a=sf();for(const c of n){const e=t.zn(c.metadata.name);c.document&&(s=s.add(e)),o=o.insert(e,t.Hn(c)),a=a.insert(e,t.Jn(c.metadata.readTime))}const l=i.jn.newChangeBuffer({trackRemovals:!0}),u=yield Kg(i,function(e){return rd(Qh(Kc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Gg(e,l,o,zc.min(),a).next(t=>(l.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,u.targetId).next(()=>i.ze.addMatchingKeys(e,s,u.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function rm(e,t){return im.apply(this,arguments)}function im(){return(im=(0,io.Z)(function*(e,t,n=af()){const r=yield Kg(e,rd($p(t.bundledQuery))),i=Ac(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=If(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(Xc.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class sm{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return bp.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:If(n.createTime)}),bp.resolve()}getNamedQuery(e,t){return bp.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:$p(e.bundledQuery),readTime:If(e.readTime)}}(t)),bp.resolve()}}class om{constructor(){this.Zn=new Yd(am.ts),this.es=new Yd(am.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new am(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new am(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new ch(new Kc([])),n=new am(t,e),r=new am(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ch(new Kc([])),n=new am(t,e),r=new am(t,e+1);let i=af();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new am(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class am{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ch.comparator(e.key,t.key)||jc(e.ls,t.ls)}static ns(e,t){return jc(e.ls,t.ls)||ch.comparator(e.key,t.key)}}class lm{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Yd(am.ts)}checkEmpty(e){return bp.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new Dp(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new am(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return bp.resolve(s)}lookupMutationBatch(e,t){return bp.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return bp.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return bp.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return bp.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new am(t,0),r=new am(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),bp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yd(jc);return t.forEach(e=>{const t=new am(e,0),r=new am(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),bp.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ch.isDocumentKey(i)||(i=i.child(""));const s=new am(new ch(i),0);let o=new Yd(jc);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),bp.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Cc(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return bp.forEach(t.mutations,r=>{const i=new am(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new am(t,0),r=this.ds.firstAfterOrEqual(n);return bp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return bp.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class um{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Wd(ch.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return bp.resolve(n?n.document.clone():Ah.newInvalidDocument(t))}getEntries(e,t){let n=ef();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Ah.newInvalidDocument(e))}),bp.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=ef();const i=new ch(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||ld(t,i)&&(r=r.insert(i.key,i.clone()))}return bp.resolve(r)}Es(e,t){return bp.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new cm(this)}getSize(e){return bp.resolve(this.size)}}class cm extends Eg{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),bp.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class hm{constructor(e){this.persistence=e,this.Ts=new Tg(e=>Oh(e),Nh),this.lastRemoteSnapshotVersion=zc.min(),this.highestTargetId=0,this.Is=0,this.As=new om,this.targetCount=0,this.Rs=ug.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),bp.resolve()}getLastRemoteSnapshotVersion(e){return bp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return bp.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),bp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),bp.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ug(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,bp.resolve()}updateTargetData(e,t){return this.ae(t),bp.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,bp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),bp.waitFor(i).next(()=>r)}getTargetCount(e){return bp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return bp.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),bp.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),bp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),bp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return bp.resolve(n)}containsKey(e,t){return bp.resolve(this.As.containsKey(t))}}class dm{constructor(e,t){this.Ps={},this.Le=new Mc(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new hm(this),this.Ht=new Qp,this.He=function(e,t){return new um(e,t)}(this.Ht,e=>this.referenceDelegate.bs(e)),this.N=new Fp(t),this.Je=new sm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new lm(this.Ht,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){bc("MemoryPersistence","Starting transaction:",e);const r=new fm(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return bp.or(Object.values(this.Ps).map(n=>()=>n.containsKey(e,t)))}}class fm extends wp{constructor(e){super(),this.currentSequenceNumber=e}}class pm{constructor(e){this.persistence=e,this.Ds=new om,this.Cs=null}static Ns(e){return new pm(e)}get xs(){if(this.Cs)return this.Cs;throw Ic()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),bp.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),bp.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),bp.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bp.forEach(this.xs,n=>{const r=ch.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}bs(e){return 0}ks(e,t){return bp.or([()=>bp.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function gm(e,t){return`firestore_clients_${e}_${t}`}function mm(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ym(e,t){return`firestore_targets_${e}_${t}`}class vm{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new xc(r.error.code,r.error.message))),s?new vm(e,t,r.state,i):(Tc("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _m{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new xc(n.error.code,n.error.message))),i?new _m(e,n.state,r):(Tc("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=uf();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=uh(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new wm(e,i):(Tc("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bm{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bm(t.clientId,t.onlineState):(Tc("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Tm{constructor(){this.activeTargetIds=uf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Em{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Wd(jc),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=gm(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Tm),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,io.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(gm(e.persistenceKey,r));if(t){const n=wm.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ym(this.persistenceKey,e));if(n){const r=_m.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ym(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return bc("SharedClientState","READ",e,t),t}setItem(e,t){bc("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){bc("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(bc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Tc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,io.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=Mc.T;if(null!=e)try{const n=JSON.parse(e);Cc("number"==typeof n),t=n}catch(e){Tc("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==Mc.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new vm(this.currentUser,e,t,n),i=mm(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=mm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=ym(this.persistenceKey,e),i=new _m(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return wm.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return vm.$s(new yc(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return _m.$s(r,t)}Xs(e){return bm.$s(e)}li(e){var t=this;return(0,io.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);bc("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=uf();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Sm{constructor(){this.yi=new Tm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Tm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Im{Ei(e){}shutdown(){}}class Cm{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){bc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}Ri(){bc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Am={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class km{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class xm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);bc("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(bc("RestConnection","Received: ",e),e),t=>{throw Ec("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+vc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Am[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new mc;o.listenOnce(dc.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case hc.NO_ERROR:const t=o.getResponseJson();bc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hc.TIMEOUT:bc("Connection",'RPC "'+e+'" timed out'),s(new xc(kc.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:const n=o.getStatus();if(bc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(kc).indexOf(t)>=0?t:kc.UNKNOWN}(e.status);s(new xc(t,e.message))}else s(new xc(kc.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new xc(kc.UNAVAILABLE,"Connection failed."));break;default:Ic()}}finally{bc("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new oc,i=el(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new pc({})),this.Ui(s.initMessageHeaders,t),(0,lo.uI)()||(0,lo.b$)()||(0,lo.d)()||(0,lo.w1)()||(0,lo.Mn)()||(0,lo.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");bc("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let l=!1,u=!1;const c=new km({vi:e=>{u?bc("Connection","Not sending because WebChannel is closed:",e):(l||(bc("Connection","Opening WebChannel transport."),a.open(),l=!0),bc("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,gc.EventType.OPEN,()=>{u||bc("Connection","WebChannel transport opened.")}),h(a,gc.EventType.CLOSE,()=>{u||(u=!0,bc("Connection","WebChannel transport closed"),c.$i())}),h(a,gc.EventType.ERROR,e=>{u||(u=!0,Ec("Connection","WebChannel transport errored:",e),c.$i(new xc(kc.UNAVAILABLE,"The operation could not be completed")))}),h(a,gc.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];Cc(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){bc("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=zd[e];if(void 0!==t)return Gd(t)}(e),n=i.message;void 0===t&&(t=kc.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,c.$i(new xc(t,n)),a.close()}else bc("Connection","WebChannel received:",n),c.Oi(n)}}),h(i,fc.STAT_EVENT,e=>{10===e.stat?bc("Connection","Detected buffering proxy"):11===e.stat&&bc("Connection","Detected no buffering proxy")}),setTimeout(()=>{c.ki()},0),c}}function Om(){return"undefined"!=typeof window?window:null}function Nm(){return"undefined"!=typeof document?document:null}function Rm(e){return new bf(e,!0)}class Dm{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&bc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Pm{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Dm(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,io.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,io.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,io.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===kc.RESOURCE_EXHAUSTED?(Tc(t.toString()),Tc("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===kc.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new xc(kc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,io.Z)(function*(){e.state=0,e.start()}))}pr(e){return bc("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(bc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lm extends Pm{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ic()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Cc(void 0===t||"string"==typeof t),Xc.fromBase64String(t||"")):(Cc(void 0===t||t instanceof Uint8Array),Xc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?kc.UNKNOWN:Gd(e.code);return new xc(t,e.message||"")}(o);n=new pf(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=xf(e,r.document.name),s=If(r.document.updateTime),o=new Ih({mapValue:{fields:r.document.fields}}),a=Ah.newFoundDocument(i,s,o);n=new df(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=xf(e,r.document),s=r.readTime?If(r.readTime):zc.min(),o=Ah.newNoDocument(i,s);n=new df([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=xf(e,r.document);n=new df([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Ic();{const e=t.filter,r=new Bd(e.count||0);n=new ff(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return zc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zc.min():t.readTime?If(t.readTime):zc.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=Rf(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Rh(r)?{documents:Uf(e,r)}:{query:Vf(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ef(e,t.resumeToken):t.snapshotVersion.compareTo(zc.min())>0&&(n.readTime=Tf(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ic()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Rf(this.N),t.removeTarget=e,this.wr(t)}}class Fm extends Pm{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(Cc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Cc(void 0!==t),e.map(e=>function(e,t){let n=If(e.updateTime?e.updateTime:t);return n.isEqual(zc.min())&&(n=If(t)),new Ad(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=If(e.commitTime);return this.listener.vr(n,t)}return Cc(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Rf(this.N),this.wr(e)}br(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ff(this.N,e))};this.wr(t)}}class Mm extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new xc(kc.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===kc.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new xc(kc.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===kc.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new xc(kc.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Um{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Tc(t),this.$r=!1):bc("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Vm{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei(e=>{n.enqueueAndForget((0,io.Z)(function*(){var e;Qm(s)&&(bc("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,io.Z)(function*(e){const t=Ac(e);t.Kr.add(4),yield Zm(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield jm(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new Um(n,r)}}function jm(e){return qm.apply(this,arguments)}function qm(){return(qm=(0,io.Z)(function*(e){if(Qm(e))for(const t of e.jr)yield t(!0)})).apply(this,arguments)}function Zm(e){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,io.Z)(function*(e){for(const t of e.jr)yield t(!1)})).apply(this,arguments)}function zm(e,t){const n=Ac(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),Km(n)?Wm(n):Ey(n).cr()&&$m(n,t))}function Hm(e,t){const n=Ac(e),r=Ey(n);n.qr.delete(t),r.cr()&&Gm(n,t),0===n.qr.size&&(r.cr()?r.lr():Qm(n)&&n.Wr.set("Unknown"))}function $m(e,t){e.Gr.Y(t.targetId),Ey(e).Ir(t)}function Gm(e,t){e.Gr.Y(t),Ey(e).Ar(t)}function Wm(e){e.Gr=new mf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),Ey(e).start(),e.Wr.Or()}function Km(e){return Qm(e)&&!Ey(e).ar()&&e.qr.size>0}function Qm(e){return 0===Ac(e).Kr.size}function Ym(e){e.Gr=void 0}function Jm(e){return Xm.apply(this,arguments)}function Xm(){return(Xm=(0,io.Z)(function*(e){e.qr.forEach((t,n)=>{$m(e,t)})})).apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return(ty=(0,io.Z)(function*(e,t){Ym(e),Km(e)?(e.Wr.Lr(t),Wm(e)):e.Wr.set("Unknown")})).apply(this,arguments)}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return(ry=(0,io.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof pf&&2===t.state&&t.cause)try{yield(r=(0,io.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){bc("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield iy(e,n)}else if(t instanceof df?e.Gr.rt(t):t instanceof ff?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(zc.min()))try{const t=yield Hg(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(Xc.EMPTY_BYTE_STRING,n.snapshotVersion)),Gm(e,t);const r=new Lp(n.target,t,1,n.sequenceNumber);$m(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){bc("RemoteStore","Failed to raise snapshot:",t),yield iy(e,t)}var r})).apply(this,arguments)}function iy(e,t,n){return sy.apply(this,arguments)}function sy(){return(sy=(0,io.Z)(function*(e,t,n){if(!Cp(t))throw t;e.Kr.add(1),yield Zm(e),e.Wr.set("Offline"),n||(n=()=>Hg(e.localStore)),e.asyncQueue.enqueueRetryable((0,io.Z)(function*(){bc("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield jm(e)}))})).apply(this,arguments)}function oy(e,t){return t().catch(n=>iy(e,n,t))}function ay(e){return ly.apply(this,arguments)}function ly(){return(ly=(0,io.Z)(function*(e){const t=Ac(e),n=Sy(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;uy(t);)try{const e=yield Wg(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,cy(t,e)}catch(e){yield iy(t,e)}hy(t)&&dy(t)})).apply(this,arguments)}function uy(e){return Qm(e)&&e.Ur.length<10}function cy(e,t){e.Ur.push(t);const n=Sy(e);n.cr()&&n.Pr&&n.br(t.mutations)}function hy(e){return Qm(e)&&!Sy(e).ar()&&e.Ur.length>0}function dy(e){Sy(e).start()}function fy(e){return py.apply(this,arguments)}function py(){return(py=(0,io.Z)(function*(e){Sy(e).Sr()})).apply(this,arguments)}function gy(e){return my.apply(this,arguments)}function my(){return(my=(0,io.Z)(function*(e){const t=Sy(e);for(const n of e.Ur)t.br(n.mutations)})).apply(this,arguments)}function yy(e,t,n){return vy.apply(this,arguments)}function vy(){return(vy=(0,io.Z)(function*(e,t,n){const r=e.Ur.shift(),i=Pp.from(r,t,n);yield oy(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield ay(e)})).apply(this,arguments)}function _y(e,t){return wy.apply(this,arguments)}function wy(){return(wy=(0,io.Z)(function*(e,t){var n;t&&Sy(e).Pr&&(yield(n=(0,io.Z)(function*(e,t){if($d(n=t.code)&&n!==kc.ABORTED){const n=e.Ur.shift();Sy(e).hr(),yield oy(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield ay(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),hy(e)&&dy(e)})).apply(this,arguments)}function by(e,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,io.Z)(function*(e,t){const n=Ac(e);t?(n.Kr.delete(2),yield jm(n)):t||(n.Kr.add(2),yield Zm(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Ey(e){return e.zr||(e.zr=function(e,t,n){const r=Ac(e);return r.Cr(),new Lm(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Jm.bind(null,e),Ci:ey.bind(null,e),Tr:ny.bind(null,e)}),e.jr.push(function(){var t=(0,io.Z)(function*(t){t?(e.zr.hr(),Km(e)?Wm(e):e.Wr.set("Unknown")):(yield e.zr.stop(),Ym(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function Sy(e){return e.Hr||(e.Hr=function(e,t,n){const r=Ac(e);return r.Cr(),new Fm(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:fy.bind(null,e),Ci:_y.bind(null,e),Vr:gy.bind(null,e),vr:yy.bind(null,e)}),e.jr.push(function(){var t=(0,io.Z)(function*(t){t?(e.Hr.hr(),yield ay(e)):(yield e.Hr.stop(),e.Ur.length>0&&(bc("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class Iy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Oc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Iy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xc(kc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(e,t){if(Tc("AsyncQueue",`${t}: ${e}`),Cp(e))return new xc(kc.UNAVAILABLE,`${t}: ${e}`);throw e}class Ay{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ch.comparator(t.key,n.key):(e,t)=>ch.comparator(e.key,t.key),this.keyedMap=nf(),this.sortedSet=new Wd(this.comparator)}static emptySet(e){return new Ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ay))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ay;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ky{constructor(){this.Jr=new Wd(ch.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Ic():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class xy{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new xy(e,t,Ay.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Oy{constructor(){this.Xr=void 0,this.listeners=[]}}class Ny{constructor(){this.queries=new Tg(e=>od(e),sd),this.onlineState="Unknown",this.Zr=new Set}}function Ry(e,t){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,io.Z)(function*(e,t){const n=Ac(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Oy),i)try{s.Xr=yield n.onListen(r)}catch(e){const n=Cy(e,`Initialization of query '${ad(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Uy(n)})).apply(this,arguments)}function Py(e,t){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,io.Z)(function*(e,t){const n=Ac(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function Fy(e,t){const n=Ac(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Uy(n)}function My(e,t,n){const r=Ac(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Uy(e){e.Zr.forEach(e=>{e.next()})}class Vy{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new xy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=xy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class jy{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class qy{constructor(e){this.N=e}zn(e){return xf(this.N,e)}Hn(e){return e.metadata.exists?Lf(this.N,e.document,!1):Ah.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return If(e)}}class Zy{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=By(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new qy(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||af()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,io.Z)(function*(){const t=yield function(e,t,n,r){return nm.apply(this,arguments)}(e.localStore,new qy(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield rm(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new Fg(Object.assign({},e.progress),t)})()}}function By(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class zy{constructor(e){this.key=e}}class Hy{constructor(e){this.key=e}}class $y{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=af(),this.mutatedKeys=af(),this.po=ud(e),this.Eo=new Ay(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new ky,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Yh(this.query)&&r.size===this.query.limit?r.last():null,l=Jh(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=ld(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Ro(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.po(c,a)>0||l&&this.po(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),Yh(this.query)||Jh(this.query))for(;s.size>this.query.limit;){const e=Yh(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ic()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.Po(n);const s=t?this.bo():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new xy(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new ky,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}Po(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}bo(){if(!this.current)return[];const e=this.yo;this.yo=af(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Hy(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new zy(n))}),t}So(e){this._o=e.Gn,this.yo=af();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return xy.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Gy{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Wy{constructor(e){this.key=e,this.Co=!1}}class Ky{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Tg(e=>od(e),sd),this.ko=new Map,this.$o=new Set,this.Oo=new Wd(ch.comparator),this.Fo=new Map,this.Mo=new om,this.Lo={},this.Bo=new Map,this.Uo=ug.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Qy(e,t){return Yy.apply(this,arguments)}function Yy(){return(Yy=(0,io.Z)(function*(e,t){const n=jv(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield Kg(n.localStore,rd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield Jy(n,t,r,"current"===s),n.isPrimaryClient&&zm(n.remoteStore,e)}return i})).apply(this,arguments)}function Jy(e,t,n,r){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,io.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,io.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield Jg(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return yv(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield Jg(e.localStore,t,!0),s=new $y(t,i.Gn),o=s.Io(i.documents),a=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);yv(e,n,l.vo);const u=new Gy(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),l.snapshot})).apply(this,arguments)}function ev(e,t){return tv.apply(this,arguments)}function tv(){return(tv=(0,io.Z)(function*(e,t){const n=Ac(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!sd(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Qg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hm(n.remoteStore,r.targetId),gv(n,r.targetId)}).catch(pg))):(gv(n,r.targetId),yield Qg(n.localStore,r.targetId,!0))})).apply(this,arguments)}function nv(){return(nv=(0,io.Z)(function*(e,t,n){const r=qv(e);try{const e=yield function(e,t){const n=Ac(e),r=Bc.now(),i=t.reduce((e,t)=>e.add(t.key),af());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.bn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Dd(e,s.get(e.key));null!=t&&o.push(new Md(e.key,t,Ch(t.value.mapValue),kd.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new Wd(jc)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield wv(r,e.changes),yield ay(r.remoteStore)}catch(e){const t=Cy(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return(iv=(0,io.Z)(function*(e,t){const n=Ac(e);try{const e=yield $g(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(Cc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Cc(r.Co):e.removedDocuments.size>0&&(Cc(r.Co),r.Co=!1))}),yield wv(n,e,t)}catch(e){yield pg(e)}})).apply(this,arguments)}function sv(e,t,n){const r=Ac(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ac(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&Uy(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ov(e,t,n){return av.apply(this,arguments)}function av(){return(av=(0,io.Z)(function*(e,t,n){const r=Ac(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new Wd(ch.comparator);e=e.insert(s,Ah.newNoDocument(s,zc.min()));const n=af().add(s),i=new cf(zc.min(),new Map,new Yd(jc),e,n);yield rv(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),_v(r)}else yield Qg(r.localStore,t,!1).then(()=>gv(r,t,n)).catch(pg)})).apply(this,arguments)}function lv(e,t){return uv.apply(this,arguments)}function uv(){return(uv=(0,io.Z)(function*(e,t){const n=Ac(e),r=t.batch.batchId;try{const e=yield zg(n.localStore,t);pv(n,r,null),fv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield wv(n,e)}catch(e){yield pg(e)}})).apply(this,arguments)}function cv(e,t,n){return hv.apply(this,arguments)}function hv(){return(hv=(0,io.Z)(function*(e,t,n){const r=Ac(e);try{const e=yield function(e,t){const n=Ac(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Cc(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.bn(e,r))})}(r.localStore,t);pv(r,t,n),fv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield wv(r,e)}catch(n){yield pg(n)}})).apply(this,arguments)}function dv(){return(dv=(0,io.Z)(function*(e,t){const n=Ac(e);Qm(n.remoteStore)||bc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Ac(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Cy(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function fv(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function pv(e,t,n){const r=Ac(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function gv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||mv(e,t)})}function mv(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Hm(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),_v(e))}function yv(e,t,n){for(const r of n)r instanceof zy?(e.Mo.addReference(r.key,t),vv(e,r)):r instanceof Hy?(bc("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||mv(e,r.key)):Ic()}function vv(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(bc("SyncEngine","New document in limbo: "+n),e.$o.add(r),_v(e))}function _v(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new ch(Kc.fromString(t)),r=e.Uo.next();e.Fo.set(r,new Wy(n)),e.Oo=e.Oo.insert(n,r),zm(e.remoteStore,new Lp(rd(Qh(n.path)),r,2,Mc.T))}}function wv(e,t,n){return bv.apply(this,arguments)}function bv(){return(bv=(0,io.Z)(function*(e,t,n){const r=Ac(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Ug.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Tr(i),yield(a=(0,io.Z)(function*(e,t){const n=Ac(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>bp.forEach(t,t=>bp.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>bp.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Cp(e))throw e;bc("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function Tv(e,t){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,io.Z)(function*(e,t){const n=Ac(e);if(!n.currentUser.isEqual(t)){bc("SyncEngine","User change. New user:",t.toKey());const e=yield Zg(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new xc(kc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield wv(n,e.Wn)}})).apply(this,arguments)}function Sv(e,t){const n=Ac(e),r=n.Fo.get(t);if(r&&r.Co)return af().add(r.key);{let e=af();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}function Iv(e,t){return Cv.apply(this,arguments)}function Cv(){return(Cv=(0,io.Z)(function*(e,t){const n=Ac(e),r=yield Jg(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&yv(n,t.targetId,i.vo),i})).apply(this,arguments)}function Av(e){return kv.apply(this,arguments)}function kv(){return(kv=(0,io.Z)(function*(e){const t=Ac(e);return em(t.localStore).then(e=>wv(t,e))})).apply(this,arguments)}function xv(e,t,n,r){return Ov.apply(this,arguments)}function Ov(){return(Ov=(0,io.Z)(function*(e,t,n,r){const i=Ac(e),s=yield function(e,t){const n=Ac(e),r=Ac(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.bn(e,t):bp.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield ay(i.remoteStore):"acknowledged"===n||"rejected"===n?(pv(i,t,r||null),fv(i,t),function(e,t){Ac(Ac(e).In).te(t)}(i.localStore,t)):Ic(),yield wv(i,s)):bc("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Nv(){return(Nv=(0,io.Z)(function*(e,t){const n=Ac(e);if(jv(n),qv(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield Rv(n,e.toArray());n.qo=!0,yield by(n.remoteStore,!0);for(const r of t)zm(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(gv(n,i),Qg(n.localStore,i,!0))),Hm(n.remoteStore,i)}),yield t,yield Rv(n,e),function(e){const t=Ac(e);t.Fo.forEach((e,n)=>{Hm(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new Wd(ch.comparator)}(n),n.qo=!1,yield by(n.remoteStore,!1)}})).apply(this,arguments)}function Rv(e,t,n){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,io.Z)(function*(e,t,n){const r=Ac(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield Kg(r.localStore,rd(t[0]));for(const e of t){const t=r.xo.get(e),n=yield Iv(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield Xg(r.localStore,o);e=yield Kg(r.localStore,t),yield Jy(r,Pv(t),o,!1)}i.push(e)}return r.No.Tr(s),i})).apply(this,arguments)}function Pv(e){return Kh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Lv(e){const t=Ac(e);return Ac(Ac(t.localStore).persistence).pn()}function Fv(e,t,n,r){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,io.Z)(function*(e,t,n,r){const i=Ac(e);if(i.qo)bc("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield em(i.localStore),r=cf.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield wv(i,e,r);break}case"rejected":yield Qg(i.localStore,t,!0),gv(i,t,r);break;default:Ic()}})).apply(this,arguments)}function Uv(e,t,n){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,io.Z)(function*(e,t,n){const r=jv(e);if(r.qo){for(const e of t){if(r.ko.has(e)){bc("SyncEngine","Adding an already active target "+e);continue}const t=yield Xg(r.localStore,e),n=yield Kg(r.localStore,t);yield Jy(r,Pv(t),n.targetId,!1),zm(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield Qg(r.localStore,e,!1).then(()=>{Hm(r.remoteStore,e),gv(r,e)}).catch(pg))}})).apply(this,arguments)}function jv(e){const t=Ac(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sv.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ov.bind(null,t),t.No.Tr=Fy.bind(null,t.eventManager),t.No.jo=My.bind(null,t.eventManager),t}function qv(e){const t=Ac(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cv.bind(null,t),t}class Zv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,io.Z)(function*(){t.N=Rm(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return qg(this.persistence,new Vg,e.initialUser,this.N)}Go(e){return new dm(pm.Ns,this.N)}Wo(e){return new Sm}terminate(){var e=this;return(0,io.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Bv extends Zv{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,io.Z)(function*(){yield t().call(n,e),yield function(e){return tm.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield qv(n.Jo.syncEngine),yield ay(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return qg(this.persistence,new Vg,e.initialUser,this.N)}zo(e){return new vg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tg.withCacheSize(this.cacheSizeBytes):tg.DEFAULT;return new Rg(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Om(),Nm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Sm}}class zv extends Bv{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,io.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof Em&&(n.sharedClientState.syncEngine={_i:xv.bind(null,r),mi:Fv.bind(null,r),gi:Uv.bind(null,r),pn:Lv.bind(null,r),wi:Av.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,io.Z)(function*(e){yield function(e,t){return Nv.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=Om();if(!Em.Pt(t))throw new xc(kc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Lg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Em(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Hv{initialize(e,t){var n=this;return(0,io.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>sv(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=Tv.bind(null,n.syncEngine),yield by(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ny}createDatastore(e){const t=Rm(e.databaseInfo.databaseId),n=new xm(e.databaseInfo);return function(e,t,n){return new Mm(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>sv(this.syncEngine,e,0),s=Cm.Pt()?new Cm:new Im,new Vm(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Ky(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,io.Z)(function*(e){const t=Ac(e);bc("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield Zm(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $v(e,t=10240){let n=0;return{read:()=>(0,io.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,io.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Gv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Wv{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Oc,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,io.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,io.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,io.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new jy(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,io.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,io.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,io.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class Kv{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,io.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xc(kc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,io.Z)(function*(e,t){const n=Ac(e),r=Rf(n.N)+"/documents",i={documents:t.map(e=>kf(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Cc(!!t.found);const n=xf(e,t.found.name),r=If(t.found.updateTime),i=new Ih({mapValue:{fields:t.found.fields}});return Ah.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Cc(!!t.missing),Cc(!!t.readTime);const n=xf(e,t.missing),r=If(t.readTime);return Ah.newNoDocument(n,r)}(e,t):Ic()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Cc(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new qd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,io.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=ch.fromPath(n);e.mutations.push(new Zd(r,e.precondition(r)))}),yield(n=(0,io.Z)(function*(e,t){const n=Ac(e),r=Rf(n.N)+"/documents",i={writes:t.map(e=>Ff(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ic();t=zc.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new xc(kc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?kd.updateTime(t):kd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zc.min()))throw new xc(kc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return kd.updateTime(t)}return kd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qv{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Dm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,io.Z)(function*(){const t=new Kv(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!ah(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!$d(t)}return!1}}class Yv{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=yc.UNAUTHENTICATED,this.clientId=Vc.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,io.Z)(function*(e){bc("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,io.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xc(kc.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Oc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,io.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=Cy(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function Jv(e,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,io.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),bc("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,io.Z)(function*(e){r.isEqual(e)||(yield Zg(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function e_(e,t){return t_.apply(this,arguments)}function t_(){return(t_=(0,io.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield n_(e);bc("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,io.Z)(function*(e,t){const n=Ac(e);n.asyncQueue.verifyOperationInProgress(),bc("RemoteStore","RemoteStore received new credentials");const r=Qm(n);n.Kr.add(3),yield Zm(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield jm(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function n_(e){return r_.apply(this,arguments)}function r_(){return(r_=(0,io.Z)(function*(e){return e.offlineComponents||(bc("FirestoreClient","Using default OfflineComponentProvider"),yield Jv(e,new Zv)),e.offlineComponents})).apply(this,arguments)}function i_(e){return s_.apply(this,arguments)}function s_(){return(s_=(0,io.Z)(function*(e){return e.onlineComponents||(bc("FirestoreClient","Using default OnlineComponentProvider"),yield e_(e,new Hv)),e.onlineComponents})).apply(this,arguments)}function o_(e){return n_(e).then(e=>e.persistence)}function a_(e){return n_(e).then(e=>e.localStore)}function l_(e){return i_(e).then(e=>e.remoteStore)}function u_(e){return i_(e).then(e=>e.syncEngine)}function c_(e){return h_.apply(this,arguments)}function h_(){return(h_=(0,io.Z)(function*(e){const t=yield i_(e),n=t.eventManager;return n.onListen=Qy.bind(null,t.syncEngine),n.onUnlisten=ev.bind(null,t.syncEngine),n})).apply(this,arguments)}function d_(e,t,n={}){const r=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return function(e,t,n,r,i){const s=new Gv({next:s=>{t.enqueueAndForget(()=>Py(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new xc(kc.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new xc(kc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Vy(Qh(n.path),s,{includeMetadataChanges:!0,uo:!0});return Ry(e,o)}(yield c_(e),e.asyncQueue,t,n,r)})),r.promise}function f_(e,t,n={}){const r=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return function(e,t,n,r,i){const s=new Gv({next:n=>{t.enqueueAndForget(()=>Py(e,o)),n.fromCache&&"server"===r.source?i.reject(new xc(kc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Vy(n,s,{includeMetadataChanges:!0,uo:!0});return Ry(e,o)}(yield c_(e),e.asyncQueue,t,n,r)})),r.promise}class p_{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class g_{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof g_&&e.projectId===this.projectId&&e.database===this.database}}const m_=new Map;function y_(e,t,n){if(!n)throw new xc(kc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function v_(e,t,n,r){if(!0===t&&!0===r)throw new xc(kc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function __(e){if(!ch.isDocumentKey(e))throw new xc(kc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function w_(e){if(ch.isDocumentKey(e))throw new xc(kc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function b_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){if(e.constructor){const t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ic()}function T_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new xc(kc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b_(e);throw new xc(kc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function E_(e,t){if(t<=0)throw new xc(kc.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class S_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xc(kc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xc(kc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,v_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class I_{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new S_({}),this._settingsFrozen=!1,e instanceof g_?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new xc(kc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new g_(e.options.projectId)}(e))}get app(){if(!this._app)throw new xc(kc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xc(kc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new S_(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Rc;switch(e.type){case"gapi":const t=e.client;return Cc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Fc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new xc(kc.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=m_.get(e);t&&(bc("ComponentProvider","Removing Datastore"),m_.delete(e),t.terminate())}(this),Promise.resolve()}}class C_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new k_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new C_(this.firestore,e,this._key)}}class A_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new A_(this.firestore,e,this._query)}}class k_ extends A_{constructor(e,t,n){super(e,t,Qh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new C_(this.firestore,null,new ch(e))}withConverter(e){return new k_(this.firestore,e,this._path)}}function x_(e,t,...n){if(e=(0,lo.m9)(e),y_("collection","path",t),e instanceof I_){const r=Kc.fromString(t,...n);return w_(r),new k_(e,null,r)}{if(!(e instanceof C_||e instanceof k_))throw new xc(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=Kc.fromString(e.path,...n).child(Kc.fromString(t));return w_(r),new k_(e.firestore,null,r)}}function O_(e,t,...n){if(e=(0,lo.m9)(e),1===arguments.length&&(t=Vc.I()),y_("doc","path",t),e instanceof I_){const r=Kc.fromString(t,...n);return __(r),new C_(e,null,new ch(r))}{if(!(e instanceof C_||e instanceof k_))throw new xc(kc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Kc.fromString(t,...n));return __(r),new C_(e.firestore,e instanceof k_?e.converter:null,new ch(r))}}function N_(e,t){return e=(0,lo.m9)(e),t=(0,lo.m9)(t),(e instanceof C_||e instanceof k_)&&(t instanceof C_||t instanceof k_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function R_(e,t){return e=(0,lo.m9)(e),t=(0,lo.m9)(t),e instanceof A_&&t instanceof A_&&e.firestore===t.firestore&&sd(e._query,t._query)&&e.converter===t.converter}class D_{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Dm(this,"async_queue_retry"),this.Ea=()=>{const e=Nm();e&&bc("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Nm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Nm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new Oc;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,io.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(t){if(!Cp(t))throw t;bc("AsyncQueue","Operation failed with retryable error: "+t)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,Tc("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=Iy.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&Ic()}verifyOperationInProgress(){}Pa(){var e=this;return(0,io.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}ba(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.Pa().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pa()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function P_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class L_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class F_ extends I_{constructor(e,t){super(e,t),this.type="firestore",this._queue=new D_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||U_(this),this._firestoreClient.terminate()}}function M_(e){return e._firestoreClient||U_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function U_(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new p_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Yv(e._credentials,e._queue,r)}function V_(e,t,n){const r=new Oc;return e.asyncQueue.enqueue((0,io.Z)(function*(){try{yield Jv(e,n),yield e_(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===kc.FAILED_PRECONDITION||e.code===kc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function j_(e){if(e._initialized||e._terminated)throw new xc(kc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class q_{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xc(kc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Z_{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Z_(Xc.fromBase64String(e))}catch(e){throw new xc(kc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Z_(Xc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class B_{constructor(e){this._methodName=e}}class z_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xc(kc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xc(kc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jc(this._lat,e._lat)||jc(this._long,e._long)}}const H_=/^__.*__$/;class $_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Md(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fd(e,this.data,t,this.fieldTransforms)}}class G_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Md(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ic()}}class K_{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new K_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return gw(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(W_(this.Da)&&H_.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class Q_{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||Rm(e)}Ba(e,t,n,r=!1){return new K_({Da:e,methodName:t,La:n,path:Yc.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Y_(e){const t=e._freezeSettings(),n=Rm(e._databaseId);return new Q_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function J_(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);hw("Data must be an object, but it was:",o,r);const a=uw(r,o);let l,u;if(s.merge)l=new Jc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=dw(t,r,n);if(!o.contains(i))throw new xc(kc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);mw(e,i)||e.push(i)}l=new Jc(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new $_(new Ih(a),l,u)}class X_ extends B_{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X_}}function ew(e,t,n){return new K_({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class tw extends B_{_toFieldTransform(e){return new Cd(e.path,new vd)}isEqual(e){return e instanceof tw}}class nw extends B_{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=ew(this,e,!0),n=this.Ua.map(e=>lw(e,t)),r=new _d(n);return new Cd(e.path,r)}isEqual(e){return this===e}}class rw extends B_{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=ew(this,e,!0),n=this.Ua.map(e=>lw(e,t)),r=new bd(n);return new Cd(e.path,r)}isEqual(e){return this===e}}class iw extends B_{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Ed(e.N,fd(e.N,this.qa));return new Cd(e.path,t)}isEqual(e){return this===e}}function sw(e,t,n,r){const i=e.Ba(1,t,n);hw("Data must be an object, but it was:",i,r);const s=[],o=Ih.empty();$c(r,(e,r)=>{const a=pw(t,e,n);r=(0,lo.m9)(r);const l=i.$a(a);if(r instanceof X_)s.push(a);else{const e=lw(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new Jc(s);return new G_(o,a,i.fieldTransforms)}function ow(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[dw(t,r,n)],l=[i];if(s.length%2!=0)throw new xc(kc.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(dw(t,s[d])),l.push(s[d+1]);const u=[],c=Ih.empty();for(let d=a.length-1;d>=0;--d)if(!mw(u,a[d])){const e=a[d];let t=l[d];t=(0,lo.m9)(t);const n=o.$a(e);if(t instanceof X_)u.push(e);else{const r=lw(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Jc(u);return new G_(c,h,o.fieldTransforms)}function aw(e,t,n,r=!1){return lw(n,e.Ba(r?4:3,t))}function lw(e,t){if(cw(e=(0,lo.m9)(e)))return hw("Unsupported field value:",t,e),uw(e,t);if(e instanceof B_)return function(e,t){if(!W_(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=lw(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,lo.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fd(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Bc.fromDate(e);return{timestampValue:Tf(t.N,n)}}if(e instanceof Bc){const n=new Bc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tf(t.N,n)}}if(e instanceof z_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Z_)return{bytesValue:Ef(t.N,e._byteString)};if(e instanceof C_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Cf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${b_(e)}`)}(e,t)}function uw(e,t){const n={};return Gc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$c(e,(e,r)=>{const i=lw(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function cw(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Bc||e instanceof z_||e instanceof Z_||e instanceof C_||e instanceof B_)}function hw(e,t,n){if(!cw(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=b_(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function dw(e,t,n){if((t=(0,lo.m9)(t))instanceof q_)return t._internalPath;if("string"==typeof t)return pw(e,t);throw gw("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const fw=new RegExp("[~\\*/\\[\\]]");function pw(e,t,n){if(t.search(fw)>=0)throw gw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new q_(...t.split("."))._internalPath}catch(r){throw gw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function gw(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new xc(kc.INVALID_ARGUMENT,a+e+l)}function mw(e,t){return e.some(e=>e.isEqual(t))}class yw{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new C_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_w("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vw extends yw{data(){return super.data()}}function _w(e,t){return"string"==typeof t?pw(e,t):t instanceof q_?t._internalPath:t._delegate._internalPath}class ww{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bw extends yw{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Tw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(_w("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Tw extends bw{data(e={}){return super.data(e)}}class Ew{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ww(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Tw(this._firestore,this._userDataWriter,n.key,n,new ww(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xc(kc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Tw(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ww(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Tw(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ww(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Sw(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Sw(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ic()}}function Iw(e,t){return e instanceof bw&&t instanceof bw?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ew&&t instanceof Ew&&e._firestore===t._firestore&&R_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Cw(e){if(Jh(e)&&0===e.explicitOrderBy.length)throw new xc(kc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Aw{}function kw(e,...t){for(const n of t)e=n._apply(e);return e}class xw extends Aw{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Y_(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new xc(kc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Fw(o,s);const t=[];for(const n of o)t.push(Lw(r,e,n));a={arrayValue:{values:t}}}else a=Lw(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Fw(o,s),a=aw(n,"where",o,"in"===s||"not-in"===s);const l=Dh.create(i,s,a);return function(e,t){if(t.v()){const n=ed(e);if(null!==n&&!n.isEqual(t.field))throw new xc(kc.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Xh(e);null!==r&&Mw(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new xc(kc.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new A_(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Ow extends Aw{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new xc(kc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new xc(kc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new zh(t,n);return function(e,t){if(null===Xh(e)){const n=ed(e);null!==n&&Mw(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new A_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Wh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Nw extends Aw{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new A_(e.firestore,e.converter,id(e._query,this.Ga,this.za))}}class Rw extends Aw{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=Pw(e,this.type,this.Ha,this.Ja);return new A_(e.firestore,e.converter,function(e,t){return new Wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Dw extends Aw{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=Pw(e,this.type,this.Ha,this.Ja);return new A_(e.firestore,e.converter,function(e,t){return new Wh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Pw(e,t,n,r){if(n[0]=(0,lo.m9)(n[0]),n[0]instanceof yw)return function(e,t,n,r,i){if(!r)throw new xc(kc.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of nd(e))if(o.field.isKeyField())s.push(vh(t,r.key));else{const e=r.data.field(o.field);if(ih(e))throw new xc(kc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new xc(kc.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Zh(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Y_(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new xc(kc.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new xc(kc.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!td(e)&&-1!==s.indexOf("/"))throw new xc(kc.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(Kc.fromString(s));if(!ch.isDocumentKey(n))throw new xc(kc.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ch(n);a.push(vh(t,i))}else{const e=aw(n,r,s);a.push(e)}}return new Zh(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Lw(e,t,n){if("string"==typeof(n=(0,lo.m9)(n))){if(""===n)throw new xc(kc.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!td(t)&&-1!==n.indexOf("/"))throw new xc(kc.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Kc.fromString(n));if(!ch.isDocumentKey(r))throw new xc(kc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vh(e,new ch(r))}if(n instanceof C_)return vh(e,n._key);throw new xc(kc.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${b_(n)}.`)}function Fw(e,t){if(!Array.isArray(e)||0===e.length)throw new xc(kc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new xc(kc.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mw(e,t,n){if(!n.isEqual(t))throw new xc(kc.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Uw{convertValue(e,t="none"){switch(hh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ic()}}convertObject(e,t){const n={};return $c(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new z_(nh(e.latitude),nh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oh(e));default:return null}}convertTimestamp(e){const t=th(e);return new Bc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Kc.fromString(e);Cc(Yf(n));const r=new g_(n.get(1),n.get(3)),i=new ch(n.popFirst(5));return r.isEqual(t)||Tc(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Vw(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class jw extends Uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new C_(this.firestore,null,t)}}class qw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Y_(e)}set(e,t,n){this._verifyNotCommitted();const r=Zw(e,this._firestore),i=Vw(r.converter,t,n),s=J_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,kd.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Zw(e,this._firestore);let s;return s="string"==typeof(t=(0,lo.m9)(t))||t instanceof q_?ow(this._dataReader,"WriteBatch.update",i._key,t,n,r):sw(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,kd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zw(e,this._firestore);return this._mutations=this._mutations.concat(new qd(t._key,kd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xc(kc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zw(e,t){if((e=(0,lo.m9)(e)).firestore!==t)throw new xc(kc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Bw extends Uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Z_(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new C_(this.firestore,null,t)}}function zw(e,t,n){e=T_(e,C_);const r=T_(e.firestore,F_),i=Vw(e.converter,t,n);return Gw(r,[J_(Y_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,kd.none())])}function Hw(e,t,n,...r){e=T_(e,C_);const i=T_(e.firestore,F_),s=Y_(i);let o;return o="string"==typeof(t=(0,lo.m9)(t))||t instanceof q_?ow(s,"updateDoc",e._key,t,n,r):sw(s,"updateDoc",e._key,t),Gw(i,[o.toMutation(e._key,kd.exists(!0))])}function $w(e,...t){var n,r,i;e=(0,lo.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||P_(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(P_(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof C_)u=T_(e.firestore,F_),c=Qh(e._key.path),l={next:n=>{t[o]&&t[o](Ww(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=T_(e,A_);u=T_(n.firestore,F_),c=n._query;const r=new Bw(u);l={next:e=>{t[o]&&t[o](new Ew(u,r,n,e))},error:t[o+1],complete:t[o+2]},Cw(e._query)}return function(e,t,n,r){const i=new Gv(r),s=new Vy(t,i,n);return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return Ry(yield c_(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return Py(yield c_(e),s)}))}}(M_(u),c,a,l)}function Gw(e,t){return function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return function(e,t,n){return nv.apply(this,arguments)}(yield u_(e),t,n)})),n.promise}(M_(e),t)}function Ww(e,t,n){const r=n.docs.get(t._key),i=new Bw(e);return new bw(e,i,t._key,r,new ww(n.hasPendingWrites,n.fromCache),t.converter)}class Kw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Y_(e)}get(e){const t=Zw(e,this._firestore),n=new jw(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Ic();const r=e[0];if(r.isFoundDocument())return new yw(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new yw(this._firestore,n,t._key,null,t.converter);throw Ic()})}set(e,t,n){const r=Zw(e,this._firestore),i=Vw(r.converter,t,n),s=J_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Zw(e,this._firestore);let s;return s="string"==typeof(t=(0,lo.m9)(t))||t instanceof q_?ow(this._dataReader,"Transaction.update",i._key,t,n,r):sw(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Zw(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zw(e,this._firestore),n=new Bw(this._firestore);return super.get(e).then(e=>new bw(this._firestore,n,t._key,e._document,new ww(!1,!1),t.converter))}}function Qw(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xc("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Yw(){if("undefined"==typeof Uint8Array)throw new xc("unimplemented","Uint8Arrays are not available in this environment.")}function Jw(){if("undefined"==typeof atob)throw new xc("unimplemented","Blobs are unavailable in Firestore in this environment.")}vc=so.SDK_VERSION,(0,so._registerComponent)(new oo.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new F_(n,new Pc(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,so.registerVersion)("@firebase/firestore","3.0.1",void 0);class Xw{constructor(e){this._delegate=e}static fromBase64String(e){return Jw(),new Xw(Z_.fromBase64String(e))}static fromUint8Array(e){return Yw(),new Xw(Z_.fromUint8Array(e))}toBase64(){return Jw(),this._delegate.toBase64()}toUint8Array(){return Yw(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function eb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class tb{enableIndexedDbPersistence(e,t){return function(e,t){j_(e=T_(e,F_));const n=M_(e),r=e._freezeSettings(),i=new Hv;return V_(n,i,new Bv(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){j_(e=T_(e,F_));const t=M_(e),n=e._freezeSettings(),r=new Hv;return V_(t,r,new zv(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new xc(kc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Oc;return e._queue.enqueueAndForgetEvenWhileRestricted((0,io.Z)(function*(){try{yield(n=(0,io.Z)(function*(e){if(!Ep.Pt())return Promise.resolve();const t=e+"main";yield Ep.delete(t)}),function(e){return n.apply(this,arguments)})(Lg(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class nb{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof g_||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=T_(e,I_))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=yc.MOCK_USER;else{t=(0,lo.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new xc(kc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new yc(s)}e._credentials=new Dc(new Nc(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue((0,io.Z)(function*(){const t=yield o_(e),n=yield l_(e);return t.setNetworkEnabled(!0),function(e){const t=Ac(e);return t.Kr.delete(0),jm(t)}(n)}))}(M_(T_(this._delegate,F_)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue((0,io.Z)(function*(){const t=yield o_(e),n=yield l_(e);return t.setNetworkEnabled(!1),(r=(0,io.Z)(function*(e){const t=Ac(e);t.Kr.add(0),yield Zm(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(M_(T_(this._delegate,F_)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,v_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return function(e,t){return dv.apply(this,arguments)}(yield u_(e),t)})),t.promise}(M_(T_(this._delegate,F_)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new Gv(t);return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return function(e,t){Ac(e).Zr.add(t),t.next()}(yield c_(e),n)})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return function(e,t){Ac(e).Zr.delete(t)}(yield c_(e),n)}))}}(M_(T_(this._delegate,F_)),P_(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new xc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new mb(this,x_(this._delegate,e))}catch(t){throw lb(t,"collection()","Firestore.collection()")}}doc(e){try{return new ab(this,O_(this._delegate,e))}catch(t){throw lb(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fb(this,function(e,t){if(e=T_(e,I_),y_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xc(kc.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new A_(e,null,function(e){return new Wh(Kc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw lb(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new ib(this,t)),function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){const r=yield function(e){return i_(e).then(e=>e.datastore)}(e);new Qv(e.asyncQueue,r,t,n).run()})),n.promise}(M_(t=this._delegate),e=>n(new Kw(t,e)));var t,n}batch(){return M_(this._delegate),new sb(new qw(this._delegate,e=>Gw(this._delegate,e)))}loadBundle(e){return function(e,t){const n=M_(e=T_(e,F_)),r=new L_;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Wv(e,t)}(function(e,t){if(e instanceof Uint8Array)return $v(e,t);if(e instanceof ArrayBuffer)return $v(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Rm(t));e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){!function(e,t,n){const r=Ac(e);var i;(i=(0,io.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Ac(e),r=If(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(By(r));const i=new Zy(r,e.localStore,t.N);let s=yield t.Qo();for(;s;){const e=yield i.fo(s);e&&n._updateProgress(e),s=yield t.Qo()}const o=yield i.complete();yield wv(e,o.Tn,void 0),yield function(e,t){const n=Ac(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Ec("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield u_(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue((0,io.Z)(function*(){return function(e,t){const n=Ac(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield a_(e),t)}))}(M_(t=T_(t,F_)),n).then(e=>e?new A_(t,null,e.query):null)).then(e=>e?new fb(this,e):null);var t,n}}class rb extends Uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xw(new Z_(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ab.forKey(t,this.firestore,null)}}class ib{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rb(e)}get(e){const t=yb(e);return this._delegate.get(t).then(e=>new hb(this._firestore,new bw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=yb(e);return n?(Qw("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=yb(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=yb(e);return this._delegate.delete(t),this}}class sb{constructor(e){this._delegate=e}set(e,t,n){const r=yb(e);return n?(Qw("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=yb(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=yb(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ob{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Tw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new db(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=ob.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new ob(e,new rb(e),t),r.set(t,i)),i}}ob.INSTANCES=new WeakMap;class ab{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rb(e)}static forPath(e,t,n){if(e.length%2!=0)throw new xc("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ab(t,new C_(t._delegate,n,new ch(e)))}static forKey(e,t,n){return new ab(t,new C_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new mb(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new mb(this.firestore,x_(this._delegate,e))}catch(t){throw lb(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,lo.m9)(e))instanceof C_&&N_(this._delegate,e)}set(e,t){t=Qw("DocumentReference.set",t);try{return t?zw(this._delegate,e,t):zw(this._delegate,e)}catch(n){throw lb(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?Hw(this._delegate,e):Hw(this._delegate,e,t,...n)}catch(r){throw lb(r,"updateDoc()","DocumentReference.update()")}}delete(){return Gw(T_((e=this._delegate).firestore,F_),[new qd(e._key,kd.none())]);var e}onSnapshot(...e){const t=ub(e),n=cb(e,e=>new hb(this.firestore,new bw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return $w(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=T_(e,C_);const t=T_(e.firestore,F_),n=M_(t),r=new Bw(t);return function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return(r=(0,io.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Ac(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new xc(kc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Cy(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield a_(e),t,n);var r})),n.promise}(n,e._key).then(n=>new bw(t,r,e._key,n,new ww(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=T_(e,C_);const t=T_(e.firestore,F_);return d_(M_(t),e._key,{source:"server"}).then(n=>Ww(t,e,n))}(this._delegate):function(e){e=T_(e,C_);const t=T_(e.firestore,F_);return d_(M_(t),e._key).then(n=>Ww(t,e,n))}(this._delegate),t.then(e=>new hb(this.firestore,new bw(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new ab(this.firestore,this._delegate.withConverter(e?ob.getInstance(this.firestore,e):null))}}function lb(e,t,n){return e.message=e.message.replace(t,n),e}function ub(e){for(const t of e)if("object"==typeof t&&!eb(t))return t;return{}}function cb(e,t){var n,r;let i;return i=eb(e[0])?e[0]:eb(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class hb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ab(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Iw(this._delegate,e._delegate)}}class db extends hb{data(e){const t=this._delegate.data(e);return void 0!==t||Ic(),t}}class fb{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rb(e)}where(e,t,n){try{return new fb(this.firestore,kw(this._delegate,function(e,t,n){const r=t,i=_w("where",e);return new xw(i,r,n)}(e,t,n)))}catch(r){throw lb(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fb(this.firestore,kw(this._delegate,function(e,t="asc"){const n=t,r=_w("orderBy",e);return new Ow(r,n)}(e,t)))}catch(n){throw lb(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fb(this.firestore,kw(this._delegate,(E_("limit",t=e),new Nw("limit",t,"F"))))}catch(n){throw lb(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new fb(this.firestore,kw(this._delegate,(E_("limitToLast",t=e),new Nw("limitToLast",t,"L"))))}catch(n){throw lb(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new fb(this.firestore,kw(this._delegate,function(...e){return new Rw("startAt",e,!0)}(...e)))}catch(t){throw lb(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fb(this.firestore,kw(this._delegate,function(...e){return new Rw("startAfter",e,!1)}(...e)))}catch(t){throw lb(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fb(this.firestore,kw(this._delegate,function(...e){return new Dw("endBefore",e,!0)}(...e)))}catch(t){throw lb(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fb(this.firestore,kw(this._delegate,function(...e){return new Dw("endAt",e,!1)}(...e)))}catch(t){throw lb(t,"endAt()","Query.endAt()")}}isEqual(e){return R_(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=T_(e,A_);const t=T_(e.firestore,F_),n=M_(t),r=new Bw(t);return function(e,t){const n=new Oc;return e.asyncQueue.enqueueAndForget((0,io.Z)(function*(){return(r=(0,io.Z)(function*(e,t,n){try{const r=yield Jg(e,t,!0),i=new $y(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Cy(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield a_(e),t,n);var r})),n.promise}(n,e._query).then(n=>new Ew(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=T_(e,A_);const t=T_(e.firestore,F_),n=M_(t),r=new Bw(t);return f_(n,e._query,{source:"server"}).then(n=>new Ew(t,r,e,n))}(this._delegate):function(e){e=T_(e,A_);const t=T_(e.firestore,F_),n=M_(t),r=new Bw(t);return Cw(e._query),f_(n,e._query).then(n=>new Ew(t,r,e,n))}(this._delegate),t.then(e=>new gb(this.firestore,new Ew(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=ub(e),n=cb(e,e=>new gb(this.firestore,new Ew(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return $w(this._delegate,t,n)}withConverter(e){return new fb(this.firestore,this._delegate.withConverter(e?ob.getInstance(this.firestore,e):null))}}class pb{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new db(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gb{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fb(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new db(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new pb(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new db(this._firestore,n))})}isEqual(e){return Iw(this._delegate,e._delegate)}}class mb extends fb{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ab(this.firestore,e):null}doc(e){try{return new ab(this.firestore,void 0===e?O_(this._delegate):O_(this._delegate,e))}catch(t){throw lb(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=T_(e.firestore,F_),r=O_(e),i=Vw(e.converter,t);return Gw(n,[J_(Y_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,kd.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new ab(this.firestore,e))}isEqual(e){return N_(this._delegate,e._delegate)}withConverter(e){return new mb(this.firestore,this._delegate.withConverter(e?ob.getInstance(this.firestore,e):null))}}function yb(e){return T_(e,C_)}class vb{constructor(...e){this._delegate=new q_(...e)}static documentId(){return new vb(Yc.keyField().canonicalString())}isEqual(e){return(e=(0,lo.m9)(e))instanceof q_&&this._delegate._internalPath.isEqual(e._internalPath)}}class _b{constructor(e){this._delegate=e}static serverTimestamp(){const e=new tw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new _b(e)}static delete(){const e=new X_("deleteField");return e._methodName="FieldValue.delete",new _b(e)}static arrayUnion(...e){const t=function(...e){return new nw("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new _b(t)}static arrayRemove(...e){const t=function(...e){return new rw("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new _b(t)}static increment(e){const t=new iw("increment",e);return t._methodName="FieldValue.increment",new _b(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wb={Firestore:nb,GeoPoint:z_,Timestamp:Bc,Blob:Xw,Transaction:ib,WriteBatch:sb,DocumentReference:ab,DocumentSnapshot:hb,Query:fb,QueryDocumentSnapshot:db,QuerySnapshot:gb,CollectionReference:mb,FieldPath:vb,FieldValue:_b,setLogLevel:function(e){_c.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var bb,Tb;function Eb(e,t){return function(e,t=Ys.z){return new xe.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function Sb(e,t){return Eb(e,t).pipe((0,qe.U)(e=>({payload:e,type:"query"})))}function Ib(e,t){return Sb(e,t).pipe(Qe(void 0),Js(),(0,qe.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function Cb(e,t,n){return Ib(e,n).pipe(Ye((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return Ab(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return Ab(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Ab(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),e=>e.lift(new to(void 0,void 0)),(0,qe.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function Ab(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function kb(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}Tb=(e,t)=>new nb(e,t,new tb),(bb=ro.Z).INTERNAL.registerComponent(new oo.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return Tb(t,n)},"PUBLIC").setServiceProps(Object.assign({},wb))),bb.registerVersion("@firebase/firestore-compat","0.1.1");class xb{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=Ib(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(Qe(void 0),Js(),et(([e,t])=>t.length>0||!e),(0,qe.U)(([e,t])=>t),Us.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ye((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=kb(e);return Cb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Us.iC)}valueChanges(e={}){return Sb(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),Us.iC)}get(e){return(0,ve.D)(this.query.get(e)).pipe(Us.f6)}add(e){return this.ref.add(e)}doc(e){return new Ob(this.ref.doc(e),this.afs)}}class Ob{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=Fb(n,t);return new xb(r,i,this.afs)}snapshotChanges(){return Eb(this.ref,this.afs.schedulers.outsideAngular).pipe(Qe(void 0),Js(),(0,qe.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(Us.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ve.D)(this.ref.get(e)).pipe((0,Os.QV)(this.afs.schedulers.insideAngular))}}class Nb{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ib(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),et(e=>e.length>0),Us.iC):Ib(this.query,this.afs.schedulers.outsideAngular).pipe(Us.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ye((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=kb(e);return Cb(this.query,t,this.afs.schedulers.outsideAngular).pipe(Us.iC)}valueChanges(e={}){return Sb(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),Us.iC)}get(e){return(0,ve.D)(this.query.get(e)).pipe(Us.f6)}}const Rb=new r.OlP("angularfire2.enableFirestorePersistence"),Db=new r.OlP("angularfire2.firestore.persistenceSettings"),Pb=new r.OlP("angularfire2.firestore.settings"),Lb=new r.OlP("angularfire2.firestore.use-emulator");function Fb(e,t=(e=>e)){return{query:t(e),ref:e}}let Mb=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,u,c,h,d,f,p,g){this.schedulers=o;const m=(0,Vs.on)(e,s,t),y=l;u&&Gs(m,s,c,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,Us.cc)(`${m.name}.firestore`,"AngularFirestore",m.name,()=>{const e=s.runOutsideAngular(()=>m.firestore());if(r&&e.settings(r),y&&e.useEmulator(...y),n&&!U(i)){const t=()=>{try{return(0,ve.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,_e.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,_e.of)(!1)]},[r,y,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=Fb(n,t),s=this.schedulers.ngZone.run(()=>r);return new xb(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Nb(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Ob(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Vs.Dh),r.LFG(Vs.xv,8),r.LFG(Rb,8),r.LFG(Pb,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(Us.HU),r.LFG(Db,8),r.LFG(Lb,8),r.LFG(Ws,8),r.LFG(qs,8),r.LFG(Zs,8),r.LFG(Bs,8),r.LFG(zs,8),r.LFG(Hs,8),r.LFG($s,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Ub=(()=>{class e{constructor(){js.Z.registerVersion("angularfire",Us.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:Rb,useValue:!0},{provide:Db,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Mb]}),e})(),Vb=(()=>{class e{constructor(e){this.af=e,this.collectionName="ingresos"}userRegistrer(e){this.af.collection(this.collectionName).add(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Mb))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),jb=(()=>{class e{static addClass(e,t){e.classList?e.classList.add(t):e.className+=" "+t}static addMultipleClasses(e,t){if(e.classList){let n=t.trim().split(" ");for(let t=0;t<n.length;t++)e.classList.add(n[t])}else{let n=t.split(" ");for(let t=0;t<n.length;t++)e.className+=" "+n[t]}}static removeClass(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}static find(e,t){return Array.from(e.querySelectorAll(t))}static findSingle(e,t){return e?e.querySelector(t):null}static index(e){let t=e.parentNode.childNodes,n=0;for(var r=0;r<t.length;r++){if(t[r]==e)return n;1==t[r].nodeType&&n++}return-1}static indexWithinGroup(e,t){let n=e.parentNode?e.parentNode.childNodes:[],r=0;for(var i=0;i<n.length;i++){if(n[i]==e)return r;n[i].attributes&&n[i].attributes[t]&&1==n[i].nodeType&&r++}return-1}static relativePosition(e,t){let n=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const r=t.offsetHeight,i=t.getBoundingClientRect(),s=this.getViewport();let o,a;i.top+r+n.height>s.height?(o=-1*n.height,e.style.transformOrigin="bottom",i.top+o<0&&(o=-1*i.top)):(o=r,e.style.transformOrigin="top"),a=n.width>s.width?-1*i.left:i.left+n.width>s.width?-1*(i.left+n.width-s.width):0,e.style.top=o+"px",e.style.left=a+"px"}static absolutePosition(e,t){let n,r,i=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=i.height,o=i.width,a=t.offsetHeight,l=t.offsetWidth,u=t.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),d=this.getViewport();u.top+a+s>d.height?(n=u.top+c-s,e.style.transformOrigin="bottom",n<0&&(n=c)):(n=a+u.top+c,e.style.transformOrigin="top"),r=u.left+o>d.width?Math.max(0,u.left+h+l-o):u.left+h,e.style.top=n+"px",e.style.left=r+"px"}static getParents(e,t=[]){return null===e.parentNode?t:this.getParents(e.parentNode,t.concat([e.parentNode]))}static getScrollableParents(e){let t=[];if(e){let n=this.getParents(e);const r=/(auto|scroll)/,i=e=>{let t=window.getComputedStyle(e,null);return r.test(t.getPropertyValue("overflow"))||r.test(t.getPropertyValue("overflowX"))||r.test(t.getPropertyValue("overflowY"))};for(let e of n){let n=1===e.nodeType&&e.dataset.scrollselectors;if(n){let r=n.split(",");for(let n of r){let r=this.findSingle(e,n);r&&i(r)&&t.push(r)}}9!==e.nodeType&&i(e)&&t.push(e)}}return t}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let t=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",t}static getHiddenElementDimensions(e){let t={};return e.style.visibility="hidden",e.style.display="block",t.width=e.offsetWidth,t.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",t}static scrollInView(e,t){let n=getComputedStyle(e).getPropertyValue("borderTopWidth"),r=n?parseFloat(n):0,i=getComputedStyle(e).getPropertyValue("paddingTop"),s=i?parseFloat(i):0,o=e.getBoundingClientRect(),a=t.getBoundingClientRect().top+document.body.scrollTop-(o.top+document.body.scrollTop)-r-s,l=e.scrollTop,u=e.clientHeight,c=this.getOuterHeight(t);a<0?e.scrollTop=l+a:a+c>u&&(e.scrollTop=l+a-u+c)}static fadeIn(e,t){e.style.opacity=0;let n=+new Date,r=0,i=function(){r=+e.style.opacity.replace(",",".")+((new Date).getTime()-n)/t,e.style.opacity=r,n=+new Date,+r<1&&(window.requestAnimationFrame&&requestAnimationFrame(i)||setTimeout(i,16))};i()}static fadeOut(e,t){var n=1,r=50/t;let i=setInterval(()=>{(n-=r)<=0&&(n=0,clearInterval(i)),e.style.opacity=n},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)}static getOuterWidth(e,t){let n=e.offsetWidth;if(t){let t=getComputedStyle(e);n+=parseFloat(t.marginLeft)+parseFloat(t.marginRight)}return n}static getHorizontalPadding(e){let t=getComputedStyle(e);return parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)}static getHorizontalMargin(e){let t=getComputedStyle(e);return parseFloat(t.marginLeft)+parseFloat(t.marginRight)}static innerWidth(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}static width(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),t}static getInnerHeight(e){let t=e.offsetHeight,n=getComputedStyle(e);return t+=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom),t}static getOuterHeight(e,t){let n=e.offsetHeight;if(t){let t=getComputedStyle(e);n+=parseFloat(t.marginTop)+parseFloat(t.marginBottom)}return n}static getHeight(e){let t=e.offsetHeight,n=getComputedStyle(e);return t-=parseFloat(n.paddingTop)+parseFloat(n.paddingBottom)+parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth),t}static getWidth(e){let t=e.offsetWidth,n=getComputedStyle(e);return t-=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight)+parseFloat(n.borderLeftWidth)+parseFloat(n.borderRightWidth),t}static getViewport(){let e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||r.clientWidth,height:e.innerHeight||n.clientHeight||r.clientHeight}}static getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:t.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,t){let n=e.parentNode;if(!n)throw"Can't replace element";return n.replaceChild(t,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static appendChild(e,t){if(this.isElement(t))t.appendChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot append "+t+" to "+e;t.el.nativeElement.appendChild(e)}}static removeChild(e,t){if(this.isElement(t))t.removeChild(e);else{if(!t.el||!t.el.nativeElement)throw"Cannot remove "+e+" from "+t;t.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let t=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let t=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=t,t}static invokeElementMethod(e,t,n){e[t].apply(e,n)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(t){let n=e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'),r=[];for(let e of n)"none"!=getComputedStyle(e).display&&"hidden"!=getComputedStyle(e).visibility&&r.push(e);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return e.zindex=1e3,e.calculatedScrollbarWidth=null,e.calculatedScrollbarHeight=null,e})();var qb=0,Zb=function(){let e=[];const t=e=>e&&parseInt(e.style.zIndex,10)||0;return{get:t,set:(t,n,r)=>{n&&(n.style.zIndex=String(((t,n)=>{let r=e.length>0?e[e.length-1]:{key:t,value:n},i=r.value+(r.key===t?0:n)+1;return e.push({key:t,value:i}),i})(t,r)))},clear:n=>{var r;n&&(r=t(n),e=e.filter(e=>e.value!==r),n.style.zIndex="")},getCurrent:()=>e.length>0?e[e.length-1].value:0}}();let Bb=(()=>{class e{constructor(e,t,n){this.el=e,this.zone=t,this.config=n}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let t=this.getInk();if(!t||"none"===getComputedStyle(t,null).display)return;if(jb.removeClass(t,"p-ink-active"),!jb.getHeight(t)&&!jb.getWidth(t)){let e=Math.max(jb.getOuterWidth(this.el.nativeElement),jb.getOuterHeight(this.el.nativeElement));t.style.height=e+"px",t.style.width=e+"px"}let n=jb.getOffset(this.el.nativeElement),r=e.pageX-n.left+document.body.scrollTop-jb.getWidth(t)/2,i=e.pageY-n.top+document.body.scrollLeft-jb.getHeight(t)/2;t.style.top=i+"px",t.style.left=r+"px",jb.addClass(t,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&jb.removeClass(e,"p-ink-active")}onAnimationEnd(e){jb.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),jb.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Is,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","pRipple",""]],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("p-ripple",!0)}}),e})(),zb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[M]]}),e})();class Hb{}const $b="*";function Gb(e,t){return{type:7,name:e,definitions:t,options:{}}}function Wb(e,t=null){return{type:4,styles:t,timings:e}}function Kb(e,t=null){return{type:2,steps:e,options:t}}function Qb(e){return{type:6,styles:e,offset:null}}function Yb(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function Jb(e=null){return{type:9,options:e}}function Xb(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function eT(e){Promise.resolve(null).then(e)}class tT{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eT(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class nT{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?eT(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const rT=["container"],iT=function(e,t,n,r){return{"pi-info-circle":e,"pi-exclamation-triangle":t,"pi-times-circle":n,"pi-check":r}};function sT(e,t){if(1&e&&(r.ynx(0),r._UZ(1,"span",6),r.TgZ(2,"div",7),r.TgZ(3,"div",8),r._uU(4),r.qZA(),r.TgZ(5,"div",9),r._uU(6),r.qZA(),r.qZA(),r.BQk()),2&e){const e=r.oxw();r.xp6(1),r.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),r.Q6J("ngClass",r.l5B(5,iT,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),r.xp6(3),r.Oqu(e.message.summary),r.xp6(2),r.Oqu(e.message.detail)}}function oT(e,t){1&e&&r.GkF(0)}function aT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",10),r.NdJ("click",function(t){return r.CHM(e),r.oxw().onCloseIconClick(t)})("keydown.enter",function(t){return r.CHM(e),r.oxw().onCloseIconClick(t)}),r._UZ(1,"span",11),r.qZA()}}const lT=function(e){return[e,"p-toast-message"]},uT=function(e,t,n,r){return{showTransformParams:e,hideTransformParams:t,showTransitionParams:n,hideTransitionParams:r}},cT=function(e){return{value:"visible",params:e}},hT=function(e){return{$implicit:e}};function dT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"p-toastItem",3),r.NdJ("onClose",function(t){return r.CHM(e),r.oxw().onMessageClose(t)})("@toastAnimation.start",function(t){return r.CHM(e),r.oxw().onAnimationStart(t)}),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.oxw();r.Q6J("message",e)("index",n)("template",i.template)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}}let fT=(()=>{class e{constructor(e){this.zone=e,this.onClose=new r.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}var t;return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["p-toastItem"]],viewQuery:function(e,t){if(1&e&&r.Gf(rT,5),2&e){let e;r.iGM(e=r.CRH())&&(t.containerViewChild=e.first)}},inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r.NdJ("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),r.TgZ(2,"div",2),r.YNc(3,sT,7,10,"ng-container",3),r.YNc(4,oT,1,0,"ng-container",4),r.YNc(5,aT,2,0,"button",5),r.qZA(),r.qZA()),2&e&&(r.Tol(t.message.styleClass),r.Q6J("ngClass",r.VKq(10,lT,"p-toast-message-"+t.message.severity))("@messageState",r.VKq(17,cT,r.l5B(12,uT,t.showTransformOptions,t.hideTransformOptions,t.showTransitionOptions,t.hideTransitionOptions))),r.uIk("id",t.message.id),r.xp6(2),r.Q6J("ngClass",t.message.contentStyleClass),r.xp6(1),r.Q6J("ngIf",!t.template),r.xp6(1),r.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",r.VKq(19,hT,t.message)),r.xp6(1),r.Q6J("ngIf",!1!==t.message.closable))},directives:[k,R,F,Bb],encapsulation:2,data:{animation:[Gb("messageState",[(t=Qb({transform:"translateY(0)",opacity:1}),{type:0,name:"visible",styles:t,options:void 0}),Yb("void => *",[Qb({transform:"{{showTransformParams}}",opacity:0}),Wb("{{showTransitionParams}}")]),Yb("* => void",[Wb("{{hideTransitionParams}}",Qb({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),e})(),pT=(()=>{class e{constructor(e,t,n){this.messageService=e,this.cd=t,this.config=n,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new r.vpe,this.id="pr_id_"+ ++qb}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const t=e.filter(e=>this.canAdd(e));this.add(t)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.autoZIndex&&Zb.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal),this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let t=this.key===e.key;return t&&this.preventOpenDuplicates&&(t=!this.containsMessage(this.messages,e)),t&&this.preventDuplicates&&(t=!this.containsMessage(this.messagesArchieve,e)),t}containsMessage(e,t){return!!e&&null!=e.find(e=>e.summary===t.summary&&e.detail==t.detail&&e.severity===t.severity)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"message":default:this.template=e.template}})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&this.autoZIndex&&(this.containerViewChild.nativeElement.style.zIndex=String(this.baseZIndex+ ++jb.zindex),this.containerViewChild.nativeElement.setAttribute(this.id,""))}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let t in this.breakpoints){let n="";for(let e in this.breakpoints[t])n+=e+":"+this.breakpoints[t][e]+" !important;";e+=`\n                    @media screen and (max-width: ${t}) {\n                        .p-toast[${this.id}] {\n                           ${n}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Zb.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Cs),r.Y36(r.sBO),r.Y36(Is))},e.\u0275cmp=r.Xpm({type:e,selectors:[["p-toast"]],contentQueries:function(e,t,n){if(1&e&&r.Suo(n,As,4),2&e){let e;r.iGM(e=r.CRH())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&r.Gf(rT,5),2&e){let e;r.iGM(e=r.CRH())&&(t.containerViewChild=e.first)}},inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r.YNc(2,dT,1,8,"p-toastItem",2),r.qZA()),2&e&&(r.Tol(t.styleClass),r.Q6J("ngClass","p-toast p-component p-toast-"+t.position)("ngStyle",t.style),r.xp6(2),r.Q6J("ngForOf",t.messages))},directives:[k,L,O,fT],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[Gb("toastAnimation",[Yb(":enter, :leave",[Xb("@*",Jb())])])]},changeDetection:0}),e})(),gT=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[M,zb],ks]}),e})(),mT=(()=>{class e{constructor(e,t,n,r){this.auth=e,this.router=t,this.afs=n,this.messageService=r,this.registroForm=new hs({}),this.user=new Es}ngOnInit(){}login(){""==this.user.email||""==this.user.password?this.showError("Campos vacios"):this.validateEmail(this.user.email)?this.auth.login(this.user).then(()=>{let e=new Date;this.afs.userRegistrer({fecha:this.getDateFormat(e),usuario:this.auth.userName}),this.router.navigateByUrl("/home")}).catch(()=>{this.showError("Alguno de los datos es incorrecto")}):this.showError("mail invalido")}register(){this.router.navigateByUrl("/register")}fastLogin(){this.user.email="invitado@invitado.com",this.user.password="123456"}getDateFormat(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}validateEmail(e){return!!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e)}showError(e){this.messageService.add({key:"bc",severity:"error",summary:"error",detail:e})}ngAfterViewOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Qs),r.Y36(ti),r.Y36(Vb),r.Y36(Cs))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],features:[r._Bn([Cs])],decls:41,vars:2,consts:[[1,"container","pt-5"],[1,"drop-component","d-flex","justify-content-center","w-100","pt-5"],[1,"form-group","w-100","d-flex","justify-content-center","needs-validation",3,"submit"],[1,"pt-3","pb-5","mt-5","bg-dark","px-3","rounded-3","w-100",2,"max-width","450px"],[1,"text-center","f-pacman","mt-4"],[1,"text-center","f-pacman","juegos-title"],[1,"blue-ghost"],[1,"pink-ghost"],[1,"row","justify-content-center"],[1,"col-10","mt-5","mb-4"],[1,"form-floating","mb-3"],["type","email","id","validationCustom03","placeholder","Email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[1,"form-floating"],["type","password","id","floatingPassword","placeholder","Contrase\xf1a","name","pasword",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"row"],[1,"col-12","d-flex","justify-content-center"],["type","submit",1,"btn","btn-warning","btn-pac","col-5","col-md-4"],["type","button",1,"btn","btn-outline-warning","btn-pac-outline","col-5","col-md-4","mt-2",3,"click"],[1,"row","mt-2"],["type","button",1,"btn","btn-link","link-pac","col-4",3,"click"],["position","bottom-center","key","bc"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"form",2),r.NdJ("submit",function(){return t.login()}),r.TgZ(3,"div",3),r.TgZ(4,"h3",4),r._uU(5,"sala de"),r.qZA(),r.TgZ(6,"h2",5),r.TgZ(7,"div"),r._uU(8,"1 2 2 juegos"),r.qZA(),r.TgZ(9,"div"),r._uU(10,"2"),r.qZA(),r.TgZ(11,"div"),r._uU(12,"2"),r.qZA(),r.TgZ(13,"div",6),r._uU(14,"9"),r.qZA(),r.TgZ(15,"div",7),r._uU(16,"9"),r.qZA(),r.qZA(),r.TgZ(17,"div",8),r.TgZ(18,"div",9),r.TgZ(19,"div"),r.TgZ(20,"div",10),r.TgZ(21,"input",11),r.NdJ("ngModelChange",function(e){return t.user.email=e}),r.qZA(),r.TgZ(22,"label",12),r._uU(23,"Email"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(24,"div",13),r.TgZ(25,"input",14),r.NdJ("ngModelChange",function(e){return t.user.password=e}),r.qZA(),r.TgZ(26,"label",15),r._uU(27,"Contrase\xf1a"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",16),r.TgZ(29,"div",17),r.TgZ(30,"button",18),r._uU(31," LOGIN "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",16),r.TgZ(33,"div",17),r.TgZ(34,"button",19),r.NdJ("click",function(){return t.fastLogin()}),r._uU(35," Logueo rapido "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(36,"div",20),r.TgZ(37,"div",17),r.TgZ(38,"button",21),r.NdJ("click",function(){return t.register()}),r._uU(39," Registrarse "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(40,"p-toast",22),r.qZA()),2&e&&(r.xp6(21),r.Q6J("ngModel",t.user.email),r.xp6(4),r.Q6J("ngModel",t.user.password))},directives:[_s,Wi,gs,Ri,Gi,vs,pT],styles:["@media (max-width: 500px){.bg-light[_ngcontent-%COMP%]{background-color:initial!important}}.juegos-title[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-gap:10px;gap:10px}.f-pacman[_ngcontent-%COMP%]{font-family:Pac-man;color:#ff0}.red-ghost[_ngcontent-%COMP%]{color:red}.blue-ghost[_ngcontent-%COMP%]{color:#add8e6}.pink-ghost[_ngcontent-%COMP%]{color:pink}.form-floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:initial;color:#fff;border:1px solid #ff0}.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.form-floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),e})(),yT=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-quien-soy"]],decls:13,vars:0,consts:[[1,"container","mt-5"],["id","quien",1,"row","justify-content-center","text-center","drop-component"],[1,"col-12","col-md-8","col-lg-6","bg-dark","rounded-3","py-4","px-4"],[1,"row","justify-content-center"],[1,"mb-4"],[1,"my-3"],[1,"col-8","col-md-6","col-lg-6","mb-4"],[1,"foto-cont","bg-warning"],["src","./../../../assets/images/IMG_20200314_195714_127.jpg","alt",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h1",4),r._uU(5,"Quien soy?"),r.qZA(),r.TgZ(6,"h5",5),r._uU(7,"Mazzuccheli Puente Juan Ignacio"),r.qZA(),r.TgZ(8,"div",6),r.TgZ(9,"div",7),r._UZ(10,"img",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div"),r._uU(12,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque sapiente doloremque, modi culpa enim dolor, labore corporis asperiores eaque saepe quis minima! Quibusdam, fugiat? Atque perferendis aut totam earum similique."),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:['#quien[_ngcontent-%COMP%]{color:#ff0}.foto-cont[_ngcontent-%COMP%]{position:relative;width:100%;border-radius:100%;overflow:hidden;animation:scaleUp 1s ease-out}@keyframes scaleUp{0%{transform:scale(0)}to{transform:scale(1)}}.foto-cont[_ngcontent-%COMP%]:after{content:"";display:block}.foto-cont[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}']}),e})();const vT=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:mT},{path:"register",component:(()=>{class e{constructor(e,t,n){this.router=e,this.auth=t,this.messageService=n,this.user=new Es}ngOnInit(){}login(){this.router.navigateByUrl("/login")}register(){""==this.user.email||""==this.user.password?this.showError("Campos vacios"):this.validateEmail(this.user.email)?this.auth.register(this.user).then(()=>{this.router.navigateByUrl("/home")}).catch(e=>{this.showError("auth/email-already-in-use"==e.code?"El Email ya esta en uso":"auth/weak-password"==e.code?"La contrase\xf1a debe tener al menos 6 caracteres":"No se pudo registrar")}):this.showError("mail invalido")}validateEmail(e){return!!/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e)}showError(e){this.messageService.add({key:"bc",severity:"error",summary:"error",detail:e})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ti),r.Y36(Qs),r.Y36(Cs))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-register"]],features:[r._Bn([Cs])],decls:35,vars:2,consts:[[1,"container","pt-5"],[1,"drop-component","d-flex","justify-content-center","w-100","pt-5"],[1,"pt-3","pb-5","mt-5","bg-dark","px-3","rounded-3","w-100",2,"max-width","450px"],[1,"text-center","f-pacman","mt-4"],[1,"text-center","f-pacman","juegos-title"],[1,"blue-ghost"],[1,"pink-ghost"],[1,"row","justify-content-center"],[1,"col-10","mt-5","mb-4"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[1,"form-floating"],["type","password","id","floatingPassword","placeholder","Contrase\xf1a",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingPassword"],[1,"row"],[1,"col-12","d-flex","justify-content-center"],[1,"btn","btn-warning","btn-pac","col-6",3,"click"],[1,"row","mt-2"],[1,"btn","btn-link","link-pac","col-4",3,"click"],["position","bottom-center","key","bc"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h3",3),r._uU(4,"sala de"),r.qZA(),r.TgZ(5,"h2",4),r.TgZ(6,"div"),r._uU(7,"1 2 2 juegos"),r.qZA(),r.TgZ(8,"div"),r._uU(9,"2"),r.qZA(),r.TgZ(10,"div"),r._uU(11,"2"),r.qZA(),r.TgZ(12,"div",5),r._uU(13,"9"),r.qZA(),r.TgZ(14,"div",6),r._uU(15,"9"),r.qZA(),r.qZA(),r.TgZ(16,"div",7),r.TgZ(17,"div",8),r.TgZ(18,"div",9),r.TgZ(19,"input",10),r.NdJ("ngModelChange",function(e){return t.user.email=e}),r.qZA(),r.TgZ(20,"label",11),r._uU(21,"Email"),r.qZA(),r.qZA(),r.TgZ(22,"div",12),r.TgZ(23,"input",13),r.NdJ("ngModelChange",function(e){return t.user.password=e}),r.qZA(),r.TgZ(24,"label",14),r._uU(25,"Contrase\xf1a"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"div",15),r.TgZ(27,"div",16),r.TgZ(28,"button",17),r.NdJ("click",function(){return t.register()}),r._uU(29,"REGISTRARSE"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"div",18),r.TgZ(31,"div",16),r.TgZ(32,"button",19),r.NdJ("click",function(){return t.login()}),r._uU(33," Login "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(34,"p-toast",20),r.qZA()),2&e&&(r.xp6(19),r.Q6J("ngModel",t.user.email),r.xp6(4),r.Q6J("ngModel",t.user.password))},directives:[Ri,Gi,vs,pT],styles:["@media (max-width: 500px){.bg-light[_ngcontent-%COMP%]{background-color:initial!important}}.juegos-title[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-gap:10px;gap:10px}.f-pacman[_ngcontent-%COMP%]{font-family:Pac-man;color:#ff0}.red-ghost[_ngcontent-%COMP%]{color:red}.blue-ghost[_ngcontent-%COMP%]{color:#add8e6}.pink-ghost[_ngcontent-%COMP%]{color:pink}.form-floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:initial;color:#fff;border:1px solid #ff0}.form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff}.form-floating[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none}"]}),e})()},{path:"home",component:Si},{path:"quien-soy",component:yT},{path:"**",component:Ei}];let _T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pi.forRoot(vT)],pi]}),e})();const wT=function(){return["/quien-soy"]};function bT(e,t){1&e&&(r.TgZ(0,"button",7),r._uU(1,"Quien Soy"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,wT))}const TT=function(){return["/home"]};function ET(e,t){1&e&&(r.TgZ(0,"button",7),r._uU(1,"Home"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,TT))}const ST=function(){return["/login"]};function IT(e,t){1&e&&(r.TgZ(0,"button",7),r._uU(1,"Login"),r.qZA()),2&e&&r.Q6J("routerLink",r.DdM(1,ST))}function CT(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",8),r.TgZ(1,"div",9),r._UZ(2,"img",10),r.qZA(),r.TgZ(3,"ul",11),r.TgZ(4,"li"),r.TgZ(5,"a",12),r._uU(6),r.qZA(),r.qZA(),r._UZ(7,"div",13),r.TgZ(8,"li"),r.TgZ(9,"a",14),r._uU(10,"Action"),r.qZA(),r.qZA(),r.TgZ(11,"li"),r.TgZ(12,"a",14),r._uU(13,"Action"),r.qZA(),r.qZA(),r.TgZ(14,"li"),r.TgZ(15,"a",14),r._uU(16,"Action"),r.qZA(),r.qZA(),r.TgZ(17,"li"),r.TgZ(18,"a",15),r.NdJ("click",function(){return r.CHM(e),r.oxw().auth.logout()}),r._UZ(19,"i",16),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(6),r.Oqu(e.auth.userName)}}let AT=(()=>{class e{constructor(e,t){this.router=e,this.auth=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ti),r.Y36(Qs))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-nav"]],decls:9,vars:4,consts:[[1,"nav","w-100","bg-dark"],[1,"container"],[1,"row","m-0","w-100","h-100","align-items-center"],[1,"col-12","d-flex","justify-content-between"],[1,"d-flex","gap-2"],["class","btn btn-warning btn-pac",3,"routerLink",4,"ngIf"],["class","dropdown",4,"ngIf"],[1,"btn","btn-warning","btn-pac",3,"routerLink"],[1,"dropdown"],["id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"profile-circle","dropdown-toggle"],["src","./../../../assets/images/red-ghost.png","alt",""],["aria-labelledby","dropdownMenuButton1",1,"bg-dark","dropdown-menu","dropdown-menu-end","animate","slideIn"],[1,"dropdown-item","user-name"],[1,"spliter","mb-3"],[1,"dropdown-item"],[1,"dropdown-item","logout",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.YNc(5,bT,2,2,"button",5),r.YNc(6,ET,2,2,"button",5),r.YNc(7,IT,2,2,"button",5),r.qZA(),r.YNc(8,CT,20,1,"div",6),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(5),r.Q6J("ngIf","/quien-soy"!==t.router.url),r.xp6(1),r.Q6J("ngIf","/home"!==t.router.url&&t.auth.isLogged),r.xp6(1),r.Q6J("ngIf","/quien-soy"==t.router.url&&!t.auth.isLogged),r.xp6(1),r.Q6J("ngIf",t.auth.isLogged))},directives:[R,ni],styles:[".nav[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;height:70px}.profile-circle[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:45px;height:45px;border-radius:100%;background-color:#323232}.profile-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:60%;height:60%;object-fit:contain;object-position:top}.dropdown-menu[_ngcontent-%COMP%]{box-shadow:-3px 4px 3px 1px #0006}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff0;padding:0;margin:8px 12px;width:80%}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#212529;transition:all .2s ease-out;transform:scale(1.1)}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0}.animate[_ngcontent-%COMP%]{animation-duration:.3s;-webkit-animation-duration:.3s;animation-fill-mode:both;-webkit-animation-fill-mode:both;top:60px!important;left:-130px!important}@keyframes slideIn{to{transform:translateY(0);opacity:1}0%{transform:translateY(1rem);opacity:0}}.slideIn[_ngcontent-%COMP%]{animation-name:slideIn}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#323232;cursor:pointer}.user-name[_ngcontent-%COMP%]{font-size:20px;margin-top:0!important}.user-name[_ngcontent-%COMP%]:hover{transform:scale(1)!important}.logout[_ngcontent-%COMP%]{display:inline;font-size:25px;color:red!important}.spliter[_ngcontent-%COMP%]{height:2px;background-color:#ff0}"]}),e})(),kT=(()=>{class e{constructor(){this.title="sala-de-juegos-mazzucchelli"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(r._UZ(0,"app-nav"),r._UZ(1,"router-outlet"))},directives:[AT,ii],styles:[""]}),e})();const xT={apiKey:"AIzaSyAjVmXxIFAM0iOFf-Eko6_a0MOWlEof7GM",authDomain:"sala-de-juegos-3184b.firebaseapp.com",projectId:"sala-de-juegos-3184b",storageBucket:"sala-de-juegos-3184b.appspot.com",messagingSenderId:"609065831142",appId:"1:609065831142:web:f942d8f443ae701e858927"};function OT(){return"undefined"!=typeof window&&void 0!==window.document}function NT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function RT(e){switch(e.length){case 0:return new tT;case 1:return e[0];default:return new nT(e)}}function DT(e,t,n,r,i={},s={}){const o=[],a=[];let l=-1,u=null;if(r.forEach(e=>{const n=e.offset,r=n==l,c=r&&u||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case $b:a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}c[r]=a}),r||a.push(c),u=c,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function PT(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&LT(n,"start",e)));break;case"done":e.onDone(()=>r(n&&LT(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&LT(n,"destroy",e)))}}function LT(e,t,n){const r=n.totalTime,i=FT(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function FT(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function MT(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function UT(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let VT=(e,t)=>!1,jT=(e,t)=>!1,qT=(e,t,n)=>[];const ZT=NT();(ZT||"undefined"!=typeof Element)&&(VT=OT()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),jT=(()=>{if(ZT||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):jT}})(),qT=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let BT=null,zT=!1;function HT(e){BT||(BT=("undefined"!=typeof document?document.body:null)||{},zT=!!BT.style&&"WebkitAppearance"in BT.style);let t=!0;return BT.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in BT.style,!t&&zT)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in BT.style),t}const $T=jT,GT=VT,WT=qT;function KT(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let QT=(()=>{class e{validateStyleProperty(e){return HT(e)}matchesElement(e,t){return $T(e,t)}containsElement(e,t){return GT(e,t)}query(e,t,n){return WT(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new tT(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class YT{}YT.NOOP=new QT;const JT="ng-enter",XT="ng-leave",eE="ng-trigger",tE=".ng-trigger",nE="ng-animating",rE=".ng-animating";function iE(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sE(parseFloat(t[1]),t[2])}function sE(e,t){switch(t){case"s":return 1e3*e;default:return e}}function oE(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=sE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=sE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function aE(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function lE(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else aE(e,n);return n}function uE(e,t,n){return n?t+":"+n+";":""}function cE(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=uE(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=uE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function hE(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=_E(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),NT()&&cE(e))}function dE(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=_E(t);e.style[n]=""}),NT()&&cE(e))}function fE(e){return Array.isArray(e)?1==e.length?e[0]:Kb(e):e}const pE=new RegExp("{{\\s*(.+?)\\s*}}","g");function gE(e){let t=[];if("string"==typeof e){let n;for(;n=pE.exec(e);)t.push(n[1]);pE.lastIndex=0}return t}function mE(e,t,n){const r=e.toString(),i=r.replace(pE,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function yE(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const vE=/-+([a-z0-9])/g;function _E(e){return e.replace(vE,(...e)=>e[1].toUpperCase())}function wE(e,t){return 0===e||0===t}function bE(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=EE(e,t)})}}return t}function TE(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function EE(e,t){return window.getComputedStyle(e)[t]}const SE="*";function IE(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(kE(i,o)),"<"!=s[0]||i==SE&&o==SE||t.push(kE(o,i))}(e,n,t)):n.push(e),n}const CE=new Set(["true","1"]),AE=new Set(["false","0"]);function kE(e,t){const n=CE.has(e)||AE.has(e),r=CE.has(t)||AE.has(t);return(i,s)=>{let o=e==SE||e==i,a=t==SE||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?CE.has(e):AE.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?CE.has(t):AE.has(t)),o&&a}}const xE=new RegExp("s*:selfs*,?","g");function OE(e,t,n){return new NE(e).build(t,n)}class NE{constructor(e){this._driver=e}build(e,t){const n=new RE(t);return this._resetContextStyleTimingState(n),TE(this,fE(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(DE(e)){const t=e;Object.keys(t).forEach(e=>{gE(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=yE(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=TE(this,fE(e.animation),t);return{type:1,matchers:IE(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:PE(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>TE(this,e,t)),options:PE(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=TE(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:PE(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return LE(oE(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=LE(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||oE(r,t),LE(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:Qb({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=Qb(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==$b?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(DE(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=gE(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(DE(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(DE(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const u=e.steps.length;let c=0;r>0&&r<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return l.forEach((e,r)=>{const s=c>0?r==h?1:c*r:i[r],o=s*p;t.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:TE(this,fE(e.animation),t),options:PE(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:PE(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:PE(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(xE,"")),[e=e.replace(/@\*/g,tE).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,rE),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,MT(t.collectedStyles,t.currentQuerySelector,{});const o=TE(this,fE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:PE(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:oE(e.timings,t.errors,!0);return{type:12,animation:TE(this,fE(e.animation),t),timings:n,options:null}}}class RE{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function DE(e){return!Array.isArray(e)&&"object"==typeof e}function PE(e){var t;return e?(e=aE(e)).params&&(e.params=(t=e.params)?aE(t):null):e={},e}function LE(e,t,n){return{duration:e,delay:t,easing:n}}function FE(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ME{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const UE=new RegExp(":enter","g"),VE=new RegExp(":leave","g");function jE(e,t,n,r,i,s={},o={},a,l,u=[]){return(new qE).buildKeyframes(e,t,n,r,i,s,o,a,l,u)}class qE{buildKeyframes(e,t,n,r,i,s,o,a,l,u=[]){l=l||new ME;const c=new BE(e,t,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([s],null,c.errors,a),TE(this,n,c);const h=c.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,c.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[FE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?iE(n.duration):null,s=null!=n.delay?iE(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),TE(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ZE);const e=iE(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>TE(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?iE(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),TE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return oE(t.params?mE(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?iE(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ZE);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),TE(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;TE(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const ZE={};class BE{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new zE(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=iE(n.duration)),null!=n.delay&&(r.delay=iE(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=mE(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new BE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=ZE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new HE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(UE,"."+this._enterClassName)).replace(VE,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class zE{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||$b,this._currentKeyframe[e]=$b}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=$b})):lE(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=mE(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:$b),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=lE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):r==$b&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?yE(e.values()):[],s=t.size?yE(t.values()):[];if(n){const e=r[0],t=aE(e);e.offset=0,t.offset=1,r=[e,t]}return FE(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class HE extends zE{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=lE(e[0],!1);a.offset=0,i.push(a);const l=lE(e[0],!1);l.offset=$E(o),i.push(l);const u=e.length-1;for(let r=1;r<=u;r++){let o=lE(e[r],!1);o.offset=$E((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return FE(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function $E(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class GE{}class WE extends GE{normalizePropertyName(e,t){return _E(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(KE[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const KE=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function QE(e,t,n,r,i,s,o,a,l,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const YE={};class JE{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||YE,d=this.buildStyles(n,o&&o.params||YE,c),f=a&&a.params||YE,p=this.buildStyles(r,f,c),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},w=u?[]:jE(e,t,this.ast.animation,i,s,d,p,_,l,c);let b=0;if(w.forEach(e=>{b=Math.max(e.duration+e.delay,b)}),c.length)return QE(t,this._triggerName,n,r,v,d,p,[],[],m,y,b,c);w.forEach(e=>{const n=e.element,r=MT(m,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=MT(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const T=yE(g.values());return QE(t,this._triggerName,n,r,v,d,p,w,T,m,y,b)}}class XE{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=aE(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=mE(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class eS{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new XE(e.style,e.options&&e.options.params||{},n)}),tS(this.states,"true","1"),tS(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new JE(e,t,this.states))}),this.fallbackTransition=new JE(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function tS(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const nS=new ME;class rS{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=OE(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=DT(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=jE(this._driver,t,i,JT,XT,{},{},n,nS,r),s.forEach(e=>{const t=MT(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,$b)})});const a=RT(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=FT(t,"","","");return PT(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const iS="ng-animate-queued",sS="ng-animate-disabled",oS=".ng-animate-disabled",aS=[],lS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class cS{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=aE(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const hS="void",dS=new cS(hS);class fS{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wS(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=MT(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=MT(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(wS(e,eE),wS(e,"ng-trigger-"+t),a[t]=dS),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new gS(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(wS(e,eE),wS(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new cS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=dS),l.value!==hS&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{dE(e,n),hE(e,r)})}return}const u=MT(this._engine.playersByElement,e,[]);u.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let c=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:c,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(wS(e,iS),s.onStart(()=>{bS(e,iS)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),u.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,tE,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,hS,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&RT(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||dS,a=new cS(hS),l=new gS(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==lS||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){wS(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=FT(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,PT(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class pS{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new fS(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(mS(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!mS(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wS(e,sS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bS(e,sS))}removeNode(e,t,n,r){if(mS(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return mS(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,tE,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,rE,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return RT(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=lS,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,oS)&&this.markElementAsDisabled(e,!1),this.driver.query(e,oS,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)wS(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?RT(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new ME,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(e=>{u.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)u.add(t[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=_S(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n=JT+p++;f.set(t,n),e.forEach(e=>wS(e,n))});const g=[],m=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):y.add(e))}const v=new Map,_=_S(h,Array.from(m));_.forEach((e,t)=>{const n=XT+p++;v.set(t,n),e.forEach(e=>wS(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>bS(e,n))}),_.forEach((e,t)=>{const n=v.get(t);e.forEach(e=>bS(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],b=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(w.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,u);if(p.errors&&p.errors.length)b.push(p);else{if(u)return t.onStart(()=>dE(i,p.fromStyles)),t.onDestroy(()=>hE(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>dE(i,p.fromStyles)),t.onDestroy(()=>hE(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>MT(o,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(b.length){const e=[];b.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const T=new Map,E=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{MT(T,t,[]).push(e),e.destroy()})});const S=g.filter(e=>SS(e,a,l)),I=new Map;vS(I,this.driver,y,l,$b).forEach(e=>{SS(e,a,l)&&S.push(e)});const C=new Map;d.forEach((e,t)=>{vS(C,this.driver,new Set(e),a,"!")}),S.forEach(e=>{const t=I.get(e),n=C.get(e);I.set(e,Object.assign(Object.assign({},t),n))});const A=[],k=[],x={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(u.has(t))return s.onDestroy(()=>hE(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=x;if(E.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>E.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,T,i,C,I);if(s.setRealPlayer(n),e===x)A.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=RT(t)),r.push(s)}}else dE(t,o.fromStyles),s.onDestroy(()=>hE(t,o.toStyles)),k.push(s),u.has(t)&&r.push(s)}),k.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=RT(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<g.length;O++){const e=g[O],t=e.__ng_removed;if(bS(e,XT),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,rE,!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?TS(this,e,r):this.processLeaveNode(e)}return g.length=0,A.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),A}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==hS;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=MT(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}dE(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,l=[],u=new Set,c=new Set,h=t.timelines.map(t=>{const h=t.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new tT(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return ES(e,t),t}((n.get(h)||aS).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=i.get(h),m=s.get(h),y=DT(0,this._normalizer,0,t.keyframes,g,m),v=this._buildPlayer(t,y,p);if(t.subTimeline&&r&&c.add(h),f){const t=new gS(e,o,h);t.setRealPlayer(v),l.push(t)}return v});l.forEach(e=>{MT(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),u.forEach(e=>wS(e,nE));const d=RT(h);return d.onDestroy(()=>{u.forEach(e=>bS(e,nE)),hE(a,t.toStyles)}),c.forEach(e=>{MT(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new tT(e.duration,e.delay)}}class gS{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new tT,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>PT(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){MT(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function mS(e){return e&&1===e.nodeType}function yS(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function vS(e,t,n,r,i){const s=[];n.forEach(e=>s.push(yS(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=uS,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>yS(e,s[a++])),o}function _S(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function wS(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function bS(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function TS(e,t,n){RT(n).onDone(()=>e.processLeaveNode(t))}function ES(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof nT?ES(r.players,t):t.push(r)}}function SS(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class IS{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new pS(e,t,n),this._timelineEngine=new rS(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=OE(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new eS(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=UT(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=UT(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function CS(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=kS(t[0]),t.length>1&&(r=kS(t[t.length-1]))):t&&(n=kS(t)),n||r?new AS(e,n,r):null}class AS{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=AS.initialStylesByElement.get(e);r||AS.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hE(this._element,this._initialStyles),this._endStyles&&(hE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(AS.initialStylesByElement.delete(this._element),this._startStyles&&(dE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dE(this._element,this._endStyles),this._endStyles=null),hE(this._element,this._initialStyles),this._state=3)}}function kS(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];xS(i)&&(t=t||{},t[i]=e[i])}return t}function xS(e){return"display"===e||"position"===e}AS.initialStylesByElement=new WeakMap;const OS="animation",NS="animationend";class RS{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=US(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),MS(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),FS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){DS(this._element,this._name,"paused")}resume(){DS(this._element,this._name,"running")}setPosition(e){const t=PS(this._element,this._name);this._position=e*this._duration,MS(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),FS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=US(e,"").split(","),r=LS(n,t);r>=0&&(n.splice(r,1),MS(e,"",n.join(",")))}(this._element,this._name))}}function DS(e,t,n){MS(e,"PlayState",n,PS(e,t))}function PS(e,t){const n=US(e,"");return n.indexOf(",")>0?LS(n.split(","),t):LS([n],t)}function LS(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function FS(e,t,n){n?e.removeEventListener(NS,t):e.addEventListener(NS,t)}function MS(e,t,n,r){const i=OS+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function US(e,t){return e.style[OS+t]||""}class VS{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new RS(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:EE(this.element,n))})}this.currentSnapshot=e}}class jS extends tT{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=KT(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class qS{constructor(){this._count=0}validateStyleProperty(e){return HT(e)}matchesElement(e,t){return $T(e,t)}containsElement(e,t){return GT(e,t)}query(e,t,n){return WT(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>KT(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof VS),l={};wE(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=bE(e,t,l));if(0==n)return new jS(e,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=CS(e,t),f=new VS(e,t,c,n,r,i,u,d);return f.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),f}}class ZS{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:EE(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class BS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zS().toString()),this._cssKeyframesDriver=new qS}validateStyleProperty(e){return HT(e)}matchesElement(e,t){return $T(e,t)}containsElement(e,t){return GT(e,t)}query(e,t,n){return WT(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=s.filter(e=>e instanceof ZS);wE(n,r)&&u.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=CS(e,t=bE(e,t=t.map(e=>lE(e,!1)),l));return new ZS(e,t,a,c)}}function zS(){return OT()&&Element.prototype.animate||{}}let HS=(()=>{class e extends Hb{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Kb(e):e;return WS(this._renderer,null,t,"register",[n]),new $S(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class $S extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new GS(this._id,e,t||{},this._renderer)}}class GS{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return WS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function WS(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const KS="@",QS="@.disabled";let YS=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new JS("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new XS(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(IS),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class JS{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==KS&&t==QS?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XS extends JS{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==KS?"."==t.charAt(1)&&t==QS?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==KS){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=KS&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let eI=(()=>{class e extends IS{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(YT),r.LFG(GE))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const tI=new r.OlP("AnimationModuleType"),nI=[{provide:Hb,useClass:HS},{provide:GE,useFactory:function(){return new WE}},{provide:IS,useClass:eI},{provide:r.FYo,useFactory:function(e,t,n){return new YS(e,t,n)},deps:[se,IS,r.R0b]}],rI=[{provide:YT,useFactory:function(){return"function"==typeof zS()?new BS:new qS}},{provide:tI,useValue:"BrowserAnimations"},...nI],iI=[{provide:YT,useClass:QT},{provide:tI,useValue:"NoopAnimations"},...nI];let sI=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?iI:rI}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:rI,imports:[ye]}),e})(),oI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[kT]}),e.\u0275inj=r.cJS({providers:[],imports:[[ye,_T,Vs.hO.initializeApp(xT),Ks,Ts,Ub,gT,sI]]}),e})();(0,r.G48)(),ge().bootstrapModule(oI).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){return void n(u)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,l,"next",e)}function l(e){r(o,i,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,pi:()=>s,_T:()=>o,mG:()=>a,Jh:()=>l,XA:()=>u,CR:()=>c,ev:()=>h});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function l(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function h(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}}},e=>{"use strict";e(e.s=1578)}]);